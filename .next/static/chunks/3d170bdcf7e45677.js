(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,750769,e=>{"use strict";var t=e.i(271645),i=e.i(692659);function a(e){try{let t=String(e?.role||"").toLowerCase(),i=Array.isArray(e?.roles)?e.roles.map(e=>String(e).toLowerCase()):[];return t.includes("marketer")||i.includes("marketer")||e?.isMarketer===!0?"marketer":"user"}catch{return"user"}}async function r(){try{let e=await fetch("/api/me");if(!e.ok)return"user";let t=await e.json().catch(()=>null);return a(t?.user||t)}catch{return"user"}}function l(e,l,n,s,o){let[c,d]=(0,t.useState)(()=>a(o)),[u,p]=(0,t.useState)(null),[y,S]=(0,t.useState)(!1),[g,m]=(0,t.useState)(null),[v,b]=(0,t.useState)(void 0),f=(0,t.useMemo)(()=>({category:String(e||"").trim(),subservice:String(l||"").trim(),variant:String(n||"").trim()}),[e,l,n]),D=(0,t.useMemo)(()=>{if(!s||"object"!=typeof s)return"";let e=Object.entries(s).filter(([e,t])=>null!=t);return e.length?(e.sort(([e],[t])=>e.localeCompare(t)),e.map(([e,t])=>`${e}=${String(t)}`).join("|")):""},[s]);return(0,t.useEffect)(()=>{let e=!1;return(async()=>{S(!0),m(null);try{let t=o?a(o):await r();e||d(t);let i=[["category",f.category],["subservice",f.subservice],["variant",f.variant],["role",t]];if(s&&"object"==typeof s){let e=Object.entries(s).filter(([e,t])=>null!=t);for(let[t,a]of(e.sort(([e],[t])=>e.localeCompare(t)),e))i.push([t,String(a)])}let l=new URLSearchParams(i),n=await fetch(`/api/pricing?${l.toString()}`,{cache:"no-store"}),c=await n.json().catch(()=>null);if(!n.ok)throw Error(String(c?.error||"Failed to load pricing"));let u=c?.price;p("number"==typeof u?u:null)}catch(e){m(e?.message||"Failed to fetch pricing"),p(null)}finally{e||S(!1)}})(),()=>{e=!0}},[f.category,f.subservice,f.variant,D,o]),{price:u,isLoading:y,error:g,reference:v,submitService:(0,t.useCallback)(async e=>{try{let t={amount:Number(e.amount),idempotencyKey:"string"==typeof e.idempotencyKey?e.idempotencyKey:void 0,params:{...e||{}},subServiceId:f.variant||void 0,action:function(e,t){let i=e.trim().toLowerCase(),a=t.trim().toLowerCase();if("nin"===i){if("slip"===a)return"nin.slip";if("printout"===a)return"nin.printout";if("advanced"===a||"verification"===a)return"nin.advanced"}if("bvn"===i){if("printout"===a)return"bvn.printout";if("retrieval"===a||"retrieval_phone"===a)return"bvn.retrieval_phone";if("advanced"===a||"verification"===a)return"bvn.advanced"}if("cac"===i){if("info"===a)return"cac.info";if("status"===a)return"cac.status"}return"passport"===i&&("verify"===a||"verification"===a||"basic"===a)?"passport.verify":"phone"===i&&("advanced"===a||"verification"===a||"basic"===a)?"phone.verify_advanced":("driver-license"===i||"drivers_license"===i)&&("basic"===a||"verification"===a)?"drivers_license.verify":("voters-card"===i||"voters"===i)&&("basic"===a||"full"===a||"verification"===a)?"voters.verify":("plate-number"===i||"plate"===i)&&("basic"===a||"verification"===a)?"plate.verify":"tin"===i&&("basic"===a||"certificate"===a||"verification"===a)?"tin.verify":null}(f.category,f.subservice)||void 0,pin:e.pin},a=await (0,i.authFetch)(`/api/service/${encodeURIComponent(f.category)}/${encodeURIComponent(f.subservice)}`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}),r=await a.json().catch(()=>null);if(!a.ok)return{ok:!1,error:String(r?.error||`Service failed (${a.status})`),message:String(r?.message||"Failed"),data:r};return b(String(r?.reference||"")),{ok:!0,reference:String(r?.reference||""),message:String(r?.message||""),data:r}}catch(e){return{ok:!1,error:String(e?.message||e)}}},[f.category,f.subservice,f.variant])}}e.s(["default",0,l,"useDynamicPricing",()=>l])},330843,e=>{"use strict";var t=e.i(843476),i=e.i(271645),a=e.i(630374),r=e.i(167881),l=e.i(23750),n=e.i(10708),s=e.i(846696);function o({isOpen:e,onClose:o,onConfirm:c,isLoading:d}){let[u,p]=(0,i.useState)(""),y=()=>{4!==u.length?s.toast.error("Please enter a 4-digit PIN"):(c(u),p(""))};return(0,t.jsx)(a.Dialog,{open:e,onOpenChange:e=>!e&&o(),children:(0,t.jsxs)(a.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(a.DialogHeader,{children:[(0,t.jsx)(a.DialogTitle,{children:"Enter Transaction PIN"}),(0,t.jsx)(a.DialogDescription,{children:"Please enter your 4-digit transaction PIN to authorize this request."})]}),(0,t.jsx)("div",{className:"space-y-4 py-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"pin",className:"text-center block",children:"PIN"}),(0,t.jsx)(l.Input,{id:"pin",type:"password",inputMode:"numeric",maxLength:4,value:u,onChange:e=>p(e.target.value.replace(/\D/g,"")),className:"text-center text-2xl tracking-[1em]",placeholder:"â€¢â€¢â€¢â€¢",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&y()}})]})}),(0,t.jsxs)(a.DialogFooter,{children:[(0,t.jsx)(r.Button,{variant:"outline",onClick:o,disabled:d,children:"Cancel"}),(0,t.jsx)(r.Button,{onClick:y,disabled:d||4!==u.length,className:"bg-[#3457D5]",children:d?"Verifying...":"Confirm PIN"})]})]})})}e.s(["PinPrompt",()=>o])},929054,e=>{"use strict";function t(e,i,a="Error"){i({title:a,description:e.error||e.message||"An unexpected error occurred",variant:"destructive"})}e.s(["handleServiceError",()=>t])},440160,e=>{"use strict";let t=(0,e.i(475254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],440160)},410160,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>t])},759673,e=>{"use strict";let t="ufriends_service_prices",i={"BVN Retrieval":{buy:1200,sell:1500,serviceType:"BVN Retrieval",lastUpdated:new Date().toISOString()},"BVN Central Risk":{buy:800,sell:1e3,serviceType:"BVN Central Risk",lastUpdated:new Date().toISOString()},"BVN Printout":{buy:150,sell:180,serviceType:"BVN Printout",lastUpdated:new Date().toISOString()},"NIN Slip Standard":{buy:150,sell:180,serviceType:"NIN Slip Standard",lastUpdated:new Date().toISOString()},"NIN Slip Premium":{buy:150,sell:180,serviceType:"NIN Slip Premium",lastUpdated:new Date().toISOString()},"NIN Slip Regular":{buy:120,sell:150,serviceType:"NIN Slip Regular",lastUpdated:new Date().toISOString()},"NIN Modification":{buy:2e3,sell:2500,serviceType:"NIN Modification",lastUpdated:new Date().toISOString()},"NIN Printout":{buy:150,sell:180,serviceType:"NIN Printout",lastUpdated:new Date().toISOString()},"NIN Validation - Normal":{buy:250,sell:300,serviceType:"NIN Validation - Normal",lastUpdated:new Date().toISOString()},"NIN Validation - Photographic Error":{buy:400,sell:500,serviceType:"NIN Validation - Photographic Error",lastUpdated:new Date().toISOString()},"NIN Validation - SIM Registration":{buy:200,sell:250,serviceType:"NIN Validation - SIM Registration",lastUpdated:new Date().toISOString()},"NIN Validation - Bank Validation":{buy:300,sell:350,serviceType:"NIN Validation - Bank Validation",lastUpdated:new Date().toISOString()},"IPE Clearance - Normal":{buy:800,sell:1e3,serviceType:"IPE Clearance - Normal",lastUpdated:new Date().toISOString()},"IPE Clearance - Modification":{buy:1200,sell:1500,serviceType:"IPE Clearance - Modification",lastUpdated:new Date().toISOString()},"JTB TIN - Individual":{buy:3e3,sell:3500,serviceType:"JTB TIN - Individual",lastUpdated:new Date().toISOString()},"JTB TIN - Business":{buy:5e3,sell:6e3,serviceType:"JTB TIN - Business",lastUpdated:new Date().toISOString()},"ShareNSell - MTN":{buy:.97,sell:.98,serviceType:"ShareNSell - MTN",lastUpdated:new Date().toISOString()},"ShareNSell - Airtel":{buy:.96,sell:.97,serviceType:"ShareNSell - Airtel",lastUpdated:new Date().toISOString()},"ShareNSell - Glo":{buy:.95,sell:.96,serviceType:"ShareNSell - Glo",lastUpdated:new Date().toISOString()},"ShareNSell - 9mobile":{buy:.94,sell:.95,serviceType:"ShareNSell - 9mobile",lastUpdated:new Date().toISOString()},"Airtime2Cash - MTN":{buy:.93,sell:.94,serviceType:"Airtime2Cash - MTN",lastUpdated:new Date().toISOString()},"Airtime2Cash - Airtel":{buy:.91,sell:.92,serviceType:"Airtime2Cash - Airtel",lastUpdated:new Date().toISOString()},"Airtime2Cash - Glo":{buy:.89,sell:.9,serviceType:"Airtime2Cash - Glo",lastUpdated:new Date().toISOString()},"Airtime2Cash - 9mobile":{buy:.87,sell:.88,serviceType:"Airtime2Cash - 9mobile",lastUpdated:new Date().toISOString()},"VTU - MTN":{buy:.98,sell:.99,serviceType:"VTU - MTN",lastUpdated:new Date().toISOString()},"VTU - Airtel":{buy:.97,sell:.98,serviceType:"VTU - Airtel",lastUpdated:new Date().toISOString()},"VTU - Glo":{buy:.96,sell:.97,serviceType:"VTU - Glo",lastUpdated:new Date().toISOString()},"VTU - 9mobile":{buy:.95,sell:.96,serviceType:"VTU - 9mobile",lastUpdated:new Date().toISOString()},"SME Data - MTN":{buy:.95,sell:.97,serviceType:"SME Data - MTN",lastUpdated:new Date().toISOString()},"SME Data - Airtel":{buy:.94,sell:.96,serviceType:"SME Data - Airtel",lastUpdated:new Date().toISOString()},"SME Data - Glo":{buy:.93,sell:.95,serviceType:"SME Data - Glo",lastUpdated:new Date().toISOString()},"SME Data - 9mobile":{buy:.92,sell:.94,serviceType:"SME Data - 9mobile",lastUpdated:new Date().toISOString()},"Corporate Data - MTN":{buy:.96,sell:.98,serviceType:"Corporate Data - MTN",lastUpdated:new Date().toISOString()},"Corporate Data - Airtel":{buy:.95,sell:.97,serviceType:"Corporate Data - Airtel",lastUpdated:new Date().toISOString()},"Corporate Data - Glo":{buy:.94,sell:.96,serviceType:"Corporate Data - Glo",lastUpdated:new Date().toISOString()},"Corporate Data - 9mobile":{buy:.93,sell:.95,serviceType:"Corporate Data - 9mobile",lastUpdated:new Date().toISOString()},"Gift Data - MTN":{buy:.97,sell:.99,serviceType:"Gift Data - MTN",lastUpdated:new Date().toISOString()},"Gift Data - Airtel":{buy:.96,sell:.98,serviceType:"Gift Data - Airtel",lastUpdated:new Date().toISOString()},"Gift Data - Glo":{buy:.95,sell:.97,serviceType:"Gift Data - Glo",lastUpdated:new Date().toISOString()},"Gift Data - 9mobile":{buy:.94,sell:.96,serviceType:"Gift Data - 9mobile",lastUpdated:new Date().toISOString()},"Cable - DSTV":{buy:0,sell:0,serviceType:"Cable - DSTV",lastUpdated:new Date().toISOString()},"Cable - GOTV":{buy:0,sell:0,serviceType:"Cable - GOTV",lastUpdated:new Date().toISOString()},"Cable - Startimes":{buy:0,sell:0,serviceType:"Cable - Startimes",lastUpdated:new Date().toISOString()},"Electricity - EKEDC":{buy:0,sell:0,serviceType:"Electricity - EKEDC",lastUpdated:new Date().toISOString()},"Electricity - IE":{buy:0,sell:0,serviceType:"Electricity - IE",lastUpdated:new Date().toISOString()},"Electricity - AEDC":{buy:0,sell:0,serviceType:"Electricity - AEDC",lastUpdated:new Date().toISOString()},"Electricity - KEDCO":{buy:0,sell:0,serviceType:"Electricity - KEDCO",lastUpdated:new Date().toISOString()},"Electricity - PHED":{buy:0,sell:0,serviceType:"Electricity - PHED",lastUpdated:new Date().toISOString()},"Electricity - IBEDC":{buy:0,sell:0,serviceType:"Electricity - IBEDC",lastUpdated:new Date().toISOString()},"Electricity - EEDC":{buy:0,sell:0,serviceType:"Electricity - EEDC",lastUpdated:new Date().toISOString()}};function a(){let e=localStorage.getItem(t);return e?JSON.parse(e):(localStorage.setItem(t,JSON.stringify(i)),i)}function r(e){return`â‚¦${e.toLocaleString()}`}e.s(["formatPrice",()=>r,"getServicePrices",()=>a])},102328,e=>{"use strict";var t=e.i(843476),i=e.i(271645),a=e.i(167881),r=e.i(970065),l=e.i(23750),n=e.i(10708),s=e.i(630374),o=e.i(178583),c=e.i(878894),d=e.i(440160),u=e.i(330843),p=e.i(929054),y=e.i(120682),S=e.i(255749),g=e.i(750769),m=e.i(759673);function v(){let[e,v]=(0,i.useState)(!0),[b,f]=(0,i.useState)(""),[D,N]=(0,i.useState)(!1),[h,I]=(0,i.useState)(!1),[T,C]=(0,i.useState)(null),[w,x]=(0,i.useState)(null),{toast:O}=(0,y.useToast)(),{price:U,isLoading:E,error:j,submitService:P}=(0,g.useDynamicPricing)("nin","printout","default",{}),F=async()=>{b&&11===b.length?(C({amount:U,idempotencyKey:crypto.randomUUID(),params:{nin:b},category:"nin",action:"printout"}),I(!0)):O({title:"Validation Error",description:"Enter a valid 11-digit NIN",variant:"destructive"})},k=async e=>{I(!1),N(!0);try{let t=await P({...T,pin:e});if(!t.ok)return void(0,p.handleServiceError)(t,O,"Request Failed");x(t.data?.data||t.data),O({title:"Success!",description:"NIN printout retrieved."})}catch(t){let e=t?.message||t?.error||t?.detail||JSON.stringify(t);console.error("NIN Printout Error:",e),O({title:"Error",description:e,variant:"destructive"})}finally{N(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-[#F9F7F3] p-4 md:p-8",children:[(0,t.jsx)(s.Dialog,{open:e,onOpenChange:v,children:(0,t.jsxs)(s.DialogContent,{className:"sm:max-w-lg",children:[(0,t.jsxs)(s.DialogHeader,{children:[(0,t.jsx)("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full border-2 border-[#3457D5] bg-[#CCCCFF]/20",children:(0,t.jsx)(c.AlertTriangle,{className:"h-8 w-8 text-[#3457D5]"})}),(0,t.jsx)(s.DialogTitle,{className:"text-center text-2xl font-bold",children:"Privacy & Data Protection Warning"}),(0,t.jsx)(s.DialogDescription,{className:"text-center text-sm leading-relaxed text-gray-600",children:"By using this service, you confirm legal authority to process this data and accept liability for misuse."})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(a.Button,{onClick:()=>v(!1),className:"bg-[#3457D5] px-8 text-white hover:bg-[#3457D5]/90",children:"I Understand & Accept"})})]})}),(0,t.jsx)("div",{className:"mx-auto max-w-3xl",children:(0,t.jsxs)(r.Card,{className:"border-[#CCCCFF]/30 shadow-lg",children:[(0,t.jsx)(r.CardHeader,{className:"bg-gradient-to-r from-[#3457D5]/5 to-[#CCCCFF]/10",children:(0,t.jsxs)(r.CardTitle,{className:"flex items-center text-[#3457D5]",children:[(0,t.jsx)(o.FileText,{className:"mr-2 h-5 w-5"})," NIN Printout"]})}),(0,t.jsxs)(r.CardContent,{className:"space-y-6 pt-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.Label,{htmlFor:"nin",children:"NIN Number"}),(0,t.jsx)(l.Input,{id:"nin",placeholder:"Enter 11-digit NIN",maxLength:11,value:b,onChange:e=>f(e.target.value.replace(/\D/g,"")),className:"mt-2 border-[#CCCCFF] focus:border-[#3457D5]"})]}),(0,t.jsxs)("div",{className:"bg-[#CCCCFF]/20 border border-[#CCCCFF]/50 rounded-lg p-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm font-medium text-[#2c3e50]",children:"ðŸ’° Service Price:"}),(0,t.jsx)("span",{className:"text-2xl font-bold text-[#3457D5]",children:E?"Loading...":null==U?"Not configured":(0,m.formatPrice)(Number(U||0))})]}),j&&(0,t.jsx)("p",{className:"mt-2 text-sm text-red-600",children:"Failed to load price. You can still submit."})]}),(0,t.jsx)(a.Button,{onClick:F,disabled:D||11!==b.length||E,className:"w-full bg-[#3457D5] py-6 text-base font-semibold text-white hover:bg-[#3457D5]/90",children:D?"Processing...":"Submit Request"}),w&&(0,t.jsxs)(a.Button,{onClick:()=>{try{let e=new S.default;e.setFontSize(18),e.text("UFriends Information Technology",70,15),e.setFontSize(14),e.text("NIN Printout",95,25),e.setFontSize(10),e.text(`Date: ${new Date().toLocaleString()}`,15,40),e.text(`NIN: ${b}`,15,50),w?.full_name&&e.text(`Name: ${w.full_name}`,15,60),w?.date_of_birth&&e.text(`DOB: ${w.date_of_birth}`,15,70),e.text("Note: This is a verification printout generated by UFriends.com.ng",15,250),e.save(`nin-printout-${Date.now()}.pdf`),O({title:"Download Complete",description:"NIN printout PDF generated."})}catch(e){console.error("PDF generation error:",e?.message||JSON.stringify(e)),O({title:"Download Error",description:e?.message||"Failed to generate PDF.",variant:"destructive"})}},className:"w-full bg-green-600 py-6 text-base font-semibold text-white hover:bg-green-700",children:[(0,t.jsx)(d.Download,{className:"mr-2 h-5 w-5"})," Download Printout (PDF)"]})]})]})}),(0,t.jsx)(u.PinPrompt,{isOpen:h,onClose:()=>I(!1),onConfirm:k,isLoading:D})]})}e.s(["default",()=>v])},48503,e=>{e.v(t=>Promise.all(["static/chunks/2988bfaf82a45b76.js"].map(t=>e.l(t))).then(()=>t(915833)))},870653,e=>{e.v(t=>Promise.all(["static/chunks/ea37f18959494c2b.js"].map(t=>e.l(t))).then(()=>t(424154)))},195111,e=>{e.v(t=>Promise.all(["static/chunks/e3feae42dbedb569.js"].map(t=>e.l(t))).then(()=>t(38201)))}]);