(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,98919,e=>{"use strict";let a=(0,e.i(475254).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>a],98919)},127341,e=>{"use strict";var a=e.i(843476),s=e.i(271645),t=e.i(981140),r=e.i(30030),i=e.i(842727),n=e.i(296626),o=e.i(248425),l=e.i(586318),c=e.i(369340),d=e.i(610772),u="Tabs",[h,m]=(0,r.createContextScope)(u,[i.createRovingFocusGroupScope]),p=(0,i.createRovingFocusGroupScope)(),[x,f]=h(u),w=s.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,onValueChange:i,defaultValue:n,orientation:h="horizontal",dir:m,activationMode:p="automatic",...f}=e,w=(0,l.useDirection)(m),[j,v]=(0,c.useControllableState)({prop:r,onChange:i,defaultProp:n??"",caller:u});return(0,a.jsx)(x,{scope:t,baseId:(0,d.useId)(),value:j,onValueChange:v,orientation:h,dir:w,activationMode:p,children:(0,a.jsx)(o.Primitive.div,{dir:w,"data-orientation":h,...f,ref:s})})});w.displayName=u;var j="TabsList",v=s.forwardRef((e,s)=>{let{__scopeTabs:t,loop:r=!0,...n}=e,l=f(j,t),c=p(t);return(0,a.jsx)(i.Root,{asChild:!0,...c,orientation:l.orientation,dir:l.dir,loop:r,children:(0,a.jsx)(o.Primitive.div,{role:"tablist","aria-orientation":l.orientation,...n,ref:s})})});v.displayName=j;var g="TabsTrigger",y=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:n,disabled:l=!1,...c}=e,d=f(g,r),u=p(r),h=b(d.baseId,n),m=C(d.baseId,n),x=n===d.value;return(0,a.jsx)(i.Item,{asChild:!0,...u,focusable:!l,active:x,children:(0,a.jsx)(o.Primitive.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":m,"data-state":x?"active":"inactive","data-disabled":l?"":void 0,disabled:l,id:h,...c,ref:s,onMouseDown:(0,t.composeEventHandlers)(e.onMouseDown,e=>{l||0!==e.button||!1!==e.ctrlKey?e.preventDefault():d.onValueChange(n)}),onKeyDown:(0,t.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&d.onValueChange(n)}),onFocus:(0,t.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==d.activationMode;x||l||!e||d.onValueChange(n)})})})});y.displayName=g;var N="TabsContent",P=s.forwardRef((e,t)=>{let{__scopeTabs:r,value:i,forceMount:l,children:c,...d}=e,u=f(N,r),h=b(u.baseId,i),m=C(u.baseId,i),p=i===u.value,x=s.useRef(p);return s.useEffect(()=>{let e=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,a.jsx)(n.Presence,{present:l||p,children:({present:s})=>(0,a.jsx)(o.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!s,id:m,tabIndex:0,...d,ref:t,style:{...e.style,animationDuration:x.current?"0s":void 0},children:s&&c})})});function b(e,a){return`${e}-trigger-${a}`}function C(e,a){return`${e}-content-${a}`}P.displayName=N;var S=e.i(647163);function I({className:e,...s}){return(0,a.jsx)(w,{"data-slot":"tabs",className:(0,S.cn)("flex flex-col gap-2",e),...s})}function T({className:e,...s}){return(0,a.jsx)(v,{"data-slot":"tabs-list",className:(0,S.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...s})}function k({className:e,...s}){return(0,a.jsx)(y,{"data-slot":"tabs-trigger",className:(0,S.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...s})}function F({className:e,...s}){return(0,a.jsx)(P,{"data-slot":"tabs-content",className:(0,S.cn)("flex-1 outline-none",e),...s})}e.s(["Tabs",()=>I,"TabsContent",()=>F,"TabsList",()=>T,"TabsTrigger",()=>k],127341)},270756,e=>{"use strict";let a=(0,e.i(475254).default)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);e.s(["Lock",()=>a],270756)},356909,e=>{"use strict";let a=(0,e.i(475254).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);e.s(["Save",()=>a],356909)},341507,e=>{"use strict";var a=e.i(843476),s=e.i(271645),t=e.i(618566),r=e.i(846932),i=e.i(970065),n=e.i(167881),o=e.i(23750),l=e.i(10708),c=e.i(319036),d=e.i(127341),u=e.i(63270),h=e.i(269035),m=e.i(671428),p=e.i(846696),x=e.i(284614),f=e.i(245423),w=e.i(98919),j=e.i(356909),v=e.i(270756),g=e.i(692659);function y(){return(0,a.jsx)(s.Suspense,{fallback:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(m.Skeleton,{className:"h-10 w-48"}),(0,a.jsx)(m.Skeleton,{className:"h-12 w-full"}),(0,a.jsx)(m.Skeleton,{className:"h-96 w-full"})]}),children:(0,a.jsx)(N,{})})}function N(){let[e,y]=(0,s.useState)(!0),[N,P]=(0,s.useState)(!1),b=(0,t.useSearchParams)(),[C,S]=(0,s.useState)("profile"),[I,T]=(0,s.useState)({name:"",email:"",phone:"",avatar:""}),[k,F]=(0,s.useState)(!1),[A,L]=(0,s.useState)({emailAlerts:!0,smsNotifications:!1,inAppNotifications:!0}),[D,M]=(0,s.useState)({currentPassword:"",newPassword:"",confirmPassword:""}),[R,E]=(0,s.useState)({currentPin:"",newPin:"",confirmPin:""});(0,s.useEffect)(()=>{P(!0);let e=b.get("tab");e&&S(e),(async()=>{try{let e=await (0,g.authFetch)("/api/me");if(e.ok){let a=await e.json();T({name:a.profile?.name||a.user?.profile?.name||"",email:a.user?.email||"",phone:a.profile?.phone||a.user?.profile?.phone||"",avatar:a.profile?.avatarUrl||""}),F(a.hasPin)}}catch(e){console.error("Failed to load profile",e)}finally{y(!1)}})()},[]);let H=async()=>{try{let e=await (0,g.authFetch)("/api/me",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:I.name,phone:I.phone})});if(e.ok)p.toast.success("Profile settings saved successfully!");else{let a=await e.json();p.toast.error(a.error||"Failed to save profile settings")}}catch(e){p.toast.error("An error occurred while saving profile")}},V=async()=>{if(!D.currentPassword||!D.newPassword||!D.confirmPassword)return void p.toast.error("Please fill in all password fields");if(D.newPassword!==D.confirmPassword)return void p.toast.error("New passwords do not match!");if(D.newPassword.length<8)return void p.toast.error("Password must be at least 8 characters!");try{let e=await (0,g.authFetch)("/api/me/password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({currentPassword:D.currentPassword,newPassword:D.newPassword})});if(e.ok)p.toast.success("Password changed successfully!"),M({currentPassword:"",newPassword:"",confirmPassword:""});else{let a=await e.json();p.toast.error(a.error||"Failed to change password")}}catch(e){p.toast.error("An error occurred while changing password")}},B=async()=>{if(!R.newPin||!R.confirmPin)return void p.toast.error("Please fill in all PIN fields");if(R.newPin!==R.confirmPin)return void p.toast.error("New PINs do not match!");if(4!==R.newPin.length||!/^\d+$/.test(R.newPin))return void p.toast.error("PIN must be exactly 4 digits!");try{let e={newPin:R.newPin};if(k)if(!R.currentPin)return void p.toast.error("Current PIN is required to change PIN");else e.currentPin=R.currentPin;else{if(!D.currentPassword)return void p.toast.error("Please enter your current password in the Security tab to verify your identity");e.currentPassword=D.currentPassword}let a=await (0,g.authFetch)("/api/me/pin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(a.ok)p.toast.success("Transaction PIN updated successfully!"),E({currentPin:"",newPin:"",confirmPin:""}),F(!0);else{let e=await a.json();p.toast.error(e.error||"Failed to update PIN")}}catch(e){p.toast.error("An error occurred while updating PIN")}};return e?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)(m.Skeleton,{className:"h-10 w-48"}),(0,a.jsx)(m.Skeleton,{className:"h-12 w-full"}),(0,a.jsx)(m.Skeleton,{className:"h-96 w-full"})]}):(0,a.jsxs)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Account Settings"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage your account preferences and security"})]}),(0,a.jsxs)(d.Tabs,{value:C,onValueChange:S,className:"space-y-6",children:[(0,a.jsxs)(d.TabsList,{className:"grid w-full grid-cols-2 lg:w-auto lg:grid-cols-4",children:[(0,a.jsxs)(d.TabsTrigger,{value:"profile",className:"gap-2",children:[(0,a.jsx)(x.User,{className:"h-4 w-4"}),"Profile"]}),(0,a.jsxs)(d.TabsTrigger,{value:"security",className:"gap-2",children:[(0,a.jsx)(w.Shield,{className:"h-4 w-4"}),"Security"]}),(0,a.jsxs)(d.TabsTrigger,{value:"notifications",className:"gap-2",children:[(0,a.jsx)(f.Bell,{className:"h-4 w-4"}),"Notifications"]}),(0,a.jsxs)(d.TabsTrigger,{value:"pin",className:"gap-2",children:[(0,a.jsx)(v.Lock,{className:"h-4 w-4"}),k?"Change PIN":"Setup PIN"]})]}),(0,a.jsx)(d.TabsContent,{value:"profile",children:(0,a.jsx)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{children:[(0,a.jsx)(i.CardTitle,{children:"Profile Information"}),(0,a.jsx)(i.CardDescription,{children:"Update your personal information"})]}),(0,a.jsxs)(i.CardContent,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center gap-6",children:[(0,a.jsxs)(u.Avatar,{className:"h-24 w-24",children:[(0,a.jsx)(u.AvatarImage,{src:I.avatar||"/placeholder.svg"}),(0,a.jsx)(u.AvatarFallback,{className:"bg-[#3457D5] text-2xl text-white",children:I.name.split(" ").map(e=>e[0]).join("")})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(n.Button,{variant:"outline",size:"sm",children:"Change Avatar"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"JPG, PNG or GIF. Max size 2MB."})]})]}),(0,a.jsx)(h.Separator,{}),(0,a.jsxs)("form",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"name",children:"Full Name"}),(0,a.jsx)(o.Input,{id:"name",value:I.name,onChange:e=>T({...I,name:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"email",children:"Email"}),(0,a.jsx)(o.Input,{id:"email",type:"email",value:I.email,onChange:e=>T({...I,email:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"phone",children:"Phone Number"}),(0,a.jsx)(o.Input,{id:"phone",value:I.phone,onChange:e=>T({...I,phone:e.target.value})})]}),(0,a.jsxs)(n.Button,{onClick:H,className:"bg-[#3457D5] text-white gap-2",type:"button",children:[(0,a.jsx)(j.Save,{className:"h-4 w-4"}),"Save Changes"]})]})]})]})})}),(0,a.jsx)(d.TabsContent,{value:"security",children:(0,a.jsx)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{children:[(0,a.jsx)(i.CardTitle,{children:"Change Password"}),(0,a.jsx)(i.CardDescription,{children:"Update your password to keep your account secure"})]}),(0,a.jsx)(i.CardContent,{children:(0,a.jsxs)("form",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"currentPassword",children:"Current Password"}),(0,a.jsx)(o.Input,{id:"currentPassword",type:"password",value:D.currentPassword,onChange:e=>M({...D,currentPassword:e.target.value})})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"newPassword",children:"New Password"}),(0,a.jsx)(o.Input,{id:"newPassword",type:"password",value:D.newPassword,onChange:e=>M({...D,newPassword:e.target.value})}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Password must be at least 8 characters"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"confirmPassword",children:"Confirm Password"}),(0,a.jsx)(o.Input,{id:"confirmPassword",type:"password",value:D.confirmPassword,onChange:e=>M({...D,confirmPassword:e.target.value})})]}),(0,a.jsxs)(n.Button,{onClick:V,className:"bg-[#3457D5] text-white gap-2",type:"button",children:[(0,a.jsx)(j.Save,{className:"h-4 w-4"}),"Update Password"]})]})})]})})}),(0,a.jsx)(d.TabsContent,{value:"notifications",children:(0,a.jsx)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{children:[(0,a.jsx)(i.CardTitle,{children:"Notification Preferences"}),(0,a.jsx)(i.CardDescription,{children:"Manage how you receive notifications"})]}),(0,a.jsxs)(i.CardContent,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.Label,{htmlFor:"emailAlerts",className:"text-base",children:"Email Alerts"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive email notifications for transactions"})]}),(0,a.jsx)(c.Switch,{id:"emailAlerts",checked:A.emailAlerts,onCheckedChange:e=>L({...A,emailAlerts:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.Label,{htmlFor:"smsNotifications",className:"text-base",children:"SMS Notifications"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Receive SMS alerts for important updates"})]}),(0,a.jsx)(c.Switch,{id:"smsNotifications",checked:A.smsNotifications,onCheckedChange:e=>L({...A,smsNotifications:e})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border border-border p-4",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(l.Label,{htmlFor:"inAppNotifications",className:"text-base",children:"In-App Notifications"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Show notifications within the app"})]}),(0,a.jsx)(c.Switch,{id:"inAppNotifications",checked:A.inAppNotifications,onCheckedChange:e=>L({...A,inAppNotifications:e})})]})]}),(0,a.jsxs)(n.Button,{onClick:()=>{p.toast.success("Notification settings saved successfully!"),console.log("[v0] Notifications saved:",A)},className:"bg-[#3457D5] text-white gap-2",children:[(0,a.jsx)(j.Save,{className:"h-4 w-4"}),"Save Preferences"]})]})]})})}),(0,a.jsx)(d.TabsContent,{value:"pin",children:(0,a.jsx)(r.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:(0,a.jsxs)(i.Card,{children:[(0,a.jsxs)(i.CardHeader,{children:[(0,a.jsx)(i.CardTitle,{children:k?"Change Transaction PIN":"Setup Transaction PIN"}),(0,a.jsx)(i.CardDescription,{children:k?"Update your 4-digit PIN for secure transactions":"Create a 4-digit PIN to secure your transactions"})]}),(0,a.jsx)(i.CardContent,{children:(0,a.jsxs)("form",{className:"space-y-4",children:[k?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"currentPin",children:"Current PIN"}),(0,a.jsx)(o.Input,{id:"currentPin",type:"password",inputMode:"numeric",maxLength:4,value:R.currentPin,onChange:e=>E({...R,currentPin:e.target.value.replace(/\D/g,"")}),placeholder:"Enter current PIN"})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"verifyPassword",children:"Current Password"}),(0,a.jsx)(o.Input,{id:"verifyPassword",type:"password",value:D.currentPassword,onChange:e=>M({...D,currentPassword:e.target.value}),placeholder:"Verify your password to set PIN"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Required once to verify your identity for first-time PIN setup."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"newPin",children:"New PIN"}),(0,a.jsx)(o.Input,{id:"newPin",type:"password",inputMode:"numeric",maxLength:4,value:R.newPin,onChange:e=>E({...R,newPin:e.target.value.replace(/\D/g,"")}),placeholder:"Enter new 4-digit PIN"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"PIN must be exactly 4 digits"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(l.Label,{htmlFor:"confirmPin",children:"Confirm New PIN"}),(0,a.jsx)(o.Input,{id:"confirmPin",type:"password",inputMode:"numeric",maxLength:4,value:R.confirmPin,onChange:e=>E({...R,confirmPin:e.target.value.replace(/\D/g,"")}),placeholder:"Confirm new PIN"})]}),(0,a.jsxs)(n.Button,{onClick:B,className:"bg-[#3457D5] text-white gap-2",type:"button",children:[(0,a.jsx)(v.Lock,{className:"h-4 w-4"}),k?"Update PIN":"Create PIN"]})]})})]})})})]})]})}e.s(["default",()=>y])}]);