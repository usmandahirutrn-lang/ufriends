(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,794771,e=>{"use strict";let t=(0,e.i(475254).default)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);e.s(["CheckCheck",()=>t],794771)},709598,e=>{"use strict";var t=e.i(843476),i=e.i(271645),a=e.i(970065),s=e.i(167881),n=e.i(994179),l=e.i(245423),r=e.i(794771),c=e.i(531278),d=e.i(692659),o=e.i(647163);function h(){let[e,h]=(0,i.useState)([]),[m,x]=(0,i.useState)(!0),[f,u]=(0,i.useState)(!1),j=async()=>{try{let e=await (0,d.authFetch)("/api/notifications?limit=50");if(e.ok){let t=await e.json();h(t.notifications||[])}}catch{}finally{x(!1)}},p=async()=>{u(!0);try{await (0,d.authFetch)("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({markAllRead:!0})}),h(e=>e.map(e=>({...e,readAt:new Date().toISOString()})))}catch{}finally{u(!1)}},y=async e=>{try{await (0,d.authFetch)("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:[e]})}),h(t=>t.map(t=>t.id===e?{...t,readAt:new Date().toISOString()}:t))}catch{}};(0,i.useEffect)(()=>{j()},[]);let g=e.filter(e=>!e.readAt).length;return(0,t.jsxs)("div",{className:"space-y-6 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-[#3457D5]",children:(0,t.jsx)(l.Bell,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-[#3457D5]",children:"Notifications"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"View all your notifications"})]})]}),g>0&&(0,t.jsxs)(s.Button,{onClick:p,disabled:f,variant:"outline",children:[f?(0,t.jsx)(c.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(r.CheckCheck,{className:"mr-2 h-4 w-4"}),"Mark all as read (",g,")"]})]}),(0,t.jsxs)(a.Card,{children:[(0,t.jsxs)(a.CardHeader,{children:[(0,t.jsx)(a.CardTitle,{children:"All Notifications"}),(0,t.jsxs)(a.CardDescription,{children:[e.length," notification",1!==e.length?"s":""]})]}),(0,t.jsx)(a.CardContent,{children:m?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(l.Bell,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No notifications yet"})]}):(0,t.jsx)("div",{className:"divide-y",children:e.map(e=>(0,t.jsx)("div",{className:(0,o.cn)("py-4 px-2 cursor-pointer hover:bg-muted/50 rounded-lg transition-colors",!e.readAt&&"bg-primary/5"),onClick:()=>!e.readAt&&y(e.id),children:(0,t.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"font-medium",children:e.title}),!e.readAt&&(0,t.jsx)(n.Badge,{variant:"secondary",className:"text-xs",children:"New"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.body}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:(e=>{let t=new Date(e),i=Math.floor((new Date().getTime()-t.getTime())/6e4);if(i<60)return`${i} minutes ago`;let a=Math.floor(i/60);if(a<24)return`${a} hours ago`;let s=Math.floor(a/24);return`${s} days ago`})(e.createdAt)})]})})},e.id))})})]})]})}e.s(["default",()=>h])}]);