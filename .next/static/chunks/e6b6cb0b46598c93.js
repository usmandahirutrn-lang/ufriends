(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,970065,e=>{"use strict";var t=e.i(843476),a=e.i(647163);function i({className:e,...i}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...i})}function r({className:e,...i}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...i})}function s({className:e,...i}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...i})}function o({className:e,...i}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...i})}function n({className:e,...i}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...i})}e.s(["Card",()=>i,"CardContent",()=>n,"CardDescription",()=>o,"CardHeader",()=>r,"CardTitle",()=>s])},10708,e=>{"use strict";var t=e.i(843476),a=e.i(271645),i=e.i(248425),r=a.forwardRef((e,a)=>(0,t.jsx)(i.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var s=e.i(647163);function o({className:e,...a}){return(0,t.jsx)(r,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>o],10708)},630374,326999,e=>{"use strict";var t=e.i(843476),a=e.i(271645),i=e.i(981140),r=e.i(820783),s=e.i(30030),o=e.i(610772),n=e.i(369340),d=e.i(726330),l=e.i(765491),c=e.i(774606),p=e.i(296626),u=e.i(248425),h=e.i(303536),m=e.i(985369),v=e.i(186312),y=e.i(991918),g="Dialog",[f,x]=(0,s.createContextScope)(g),[j,C]=f(g),N=e=>{let{__scopeDialog:i,children:r,open:s,defaultOpen:d,onOpenChange:l,modal:c=!0}=e,p=a.useRef(null),u=a.useRef(null),[h,m]=(0,n.useControllableState)({prop:s,defaultProp:d??!1,onChange:l,caller:g});return(0,t.jsx)(j,{scope:i,triggerRef:p,contentRef:u,contentId:(0,o.useId)(),titleId:(0,o.useId)(),descriptionId:(0,o.useId)(),open:h,onOpenChange:m,onOpenToggle:a.useCallback(()=>m(e=>!e),[m]),modal:c,children:r})};N.displayName=g;var b="DialogTrigger",k=a.forwardRef((e,a)=>{let{__scopeDialog:s,...o}=e,n=C(b,s),d=(0,r.useComposedRefs)(a,n.triggerRef);return(0,t.jsx)(u.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":V(n.open),...o,ref:d,onClick:(0,i.composeEventHandlers)(e.onClick,n.onOpenToggle)})});k.displayName=b;var w="DialogPortal",[S,A]=f(w,{forceMount:void 0}),P=e=>{let{__scopeDialog:i,forceMount:r,children:s,container:o}=e,n=C(w,i);return(0,t.jsx)(S,{scope:i,forceMount:r,children:a.Children.map(s,e=>(0,t.jsx)(p.Presence,{present:r||n.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:o,children:e})}))})};P.displayName=w;var I="DialogOverlay",T=a.forwardRef((e,a)=>{let i=A(I,e.__scopeDialog),{forceMount:r=i.forceMount,...s}=e,o=C(I,e.__scopeDialog);return o.modal?(0,t.jsx)(p.Presence,{present:r||o.open,children:(0,t.jsx)(K,{...s,ref:a})}):null});T.displayName=I;var D=(0,y.createSlot)("DialogOverlay.RemoveScroll"),K=a.forwardRef((e,a)=>{let{__scopeDialog:i,...r}=e,s=C(I,i);return(0,t.jsx)(m.RemoveScroll,{as:D,allowPinchZoom:!0,shards:[s.contentRef],children:(0,t.jsx)(u.Primitive.div,{"data-state":V(s.open),...r,ref:a,style:{pointerEvents:"auto",...r.style}})})}),B="DialogContent",E=a.forwardRef((e,a)=>{let i=A(B,e.__scopeDialog),{forceMount:r=i.forceMount,...s}=e,o=C(B,e.__scopeDialog);return(0,t.jsx)(p.Presence,{present:r||o.open,children:o.modal?(0,t.jsx)(R,{...s,ref:a}):(0,t.jsx)(M,{...s,ref:a})})});E.displayName=B;var R=a.forwardRef((e,s)=>{let o=C(B,e.__scopeDialog),n=a.useRef(null),d=(0,r.useComposedRefs)(s,o.contentRef,n);return a.useEffect(()=>{let e=n.current;if(e)return(0,v.hideOthers)(e)},[]),(0,t.jsx)(O,{...e,ref:d,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),o.triggerRef.current?.focus()}),onPointerDownOutside:(0,i.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,i.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),M=a.forwardRef((e,i)=>{let r=C(B,e.__scopeDialog),s=a.useRef(!1),o=a.useRef(!1);return(0,t.jsx)(O,{...e,ref:i,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(s.current||r.triggerRef.current?.focus(),t.preventDefault()),s.current=!1,o.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(s.current=!0,"pointerdown"===t.detail.originalEvent.type&&(o.current=!0));let a=t.target;r.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&o.current&&t.preventDefault()}})}),O=a.forwardRef((e,i)=>{let{__scopeDialog:s,trapFocus:o,onOpenAutoFocus:n,onCloseAutoFocus:c,...p}=e,u=C(B,s),m=a.useRef(null),v=(0,r.useComposedRefs)(i,m);return(0,h.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(l.FocusScope,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:n,onUnmountAutoFocus:c,children:(0,t.jsx)(d.DismissableLayer,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":V(u.open),...p,ref:v,onDismiss:()=>u.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(X,{titleId:u.titleId}),(0,t.jsx)(G,{contentRef:m,descriptionId:u.descriptionId})]})]})}),F="DialogTitle",U=a.forwardRef((e,a)=>{let{__scopeDialog:i,...r}=e,s=C(F,i);return(0,t.jsx)(u.Primitive.h2,{id:s.titleId,...r,ref:a})});U.displayName=F;var $="DialogDescription",L=a.forwardRef((e,a)=>{let{__scopeDialog:i,...r}=e,s=C($,i);return(0,t.jsx)(u.Primitive.p,{id:s.descriptionId,...r,ref:a})});L.displayName=$;var _="DialogClose",z=a.forwardRef((e,a)=>{let{__scopeDialog:r,...s}=e,o=C(_,r);return(0,t.jsx)(u.Primitive.button,{type:"button",...s,ref:a,onClick:(0,i.composeEventHandlers)(e.onClick,()=>o.onOpenChange(!1))})});function V(e){return e?"open":"closed"}z.displayName=_;var H="DialogTitleWarning",[q,W]=(0,s.createContext)(H,{contentName:B,titleName:F,docsSlug:"dialog"}),X=({titleId:e})=>{let t=W(H),i=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(i))},[i,e]),null},G=({contentRef:e,descriptionId:t})=>{let i=W("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${i.contentName}}.`;return a.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null};e.s(["Close",()=>z,"Content",()=>E,"Description",()=>L,"Overlay",()=>T,"Portal",()=>P,"Root",()=>N,"Title",()=>U,"Trigger",()=>k,"WarningProvider",()=>q,"createDialogScope",()=>x],326999);var J=e.i(37727),Y=e.i(647163);function Z({...e}){return(0,t.jsx)(N,{"data-slot":"dialog",...e})}function Q({...e}){return(0,t.jsx)(k,{"data-slot":"dialog-trigger",...e})}function ee({...e}){return(0,t.jsx)(P,{"data-slot":"dialog-portal",...e})}function et({className:e,...a}){return(0,t.jsx)(T,{"data-slot":"dialog-overlay",className:(0,Y.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function ea({className:e,children:a,showCloseButton:i=!0,...r}){return(0,t.jsxs)(ee,{"data-slot":"dialog-portal",children:[(0,t.jsx)(et,{}),(0,t.jsxs)(E,{"data-slot":"dialog-content",className:(0,Y.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r,children:[a,i&&(0,t.jsxs)(z,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(J.X,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function ei({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,Y.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function er({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,Y.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function es({className:e,...a}){return(0,t.jsx)(U,{"data-slot":"dialog-title",className:(0,Y.cn)("text-lg leading-none font-semibold",e),...a})}function eo({className:e,...a}){return(0,t.jsx)(L,{"data-slot":"dialog-description",className:(0,Y.cn)("text-muted-foreground text-sm",e),...a})}e.s(["Dialog",()=>Z,"DialogContent",()=>ea,"DialogDescription",()=>eo,"DialogFooter",()=>er,"DialogHeader",()=>ei,"DialogTitle",()=>es,"DialogTrigger",()=>Q],630374)},120682,e=>{"use strict";var t=e.i(271645);let a=0,i=new Map,r=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),n({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},s=[],o={toasts:[]};function n(e){o=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?r(a):e.toasts.forEach(e=>{r(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(o,e),s.forEach(e=>{e(o)})}function d({...e}){let t=(a=(a+1)%Number.MAX_SAFE_INTEGER).toString(),i=()=>n({type:"DISMISS_TOAST",toastId:t});return n({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||i()}}}),{id:t,dismiss:i,update:e=>n({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function l(){let[e,a]=t.useState(o);return t.useEffect(()=>(s.push(a),()=>{let e=s.indexOf(a);e>-1&&s.splice(e,1)}),[e]),{...e,toast:d,dismiss:e=>n({type:"DISMISS_TOAST",toastId:e})}}e.s(["toast",()=>d,"useToast",()=>l])},184762,e=>{"use strict";var t=e.i(843476),a=e.i(647163);function i({className:e,...i}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,a.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...i})}e.s(["Textarea",()=>i])},269638,e=>{"use strict";let t=(0,e.i(475254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],269638)},373884,e=>{"use strict";let t=(0,e.i(475254).default)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);e.s(["XCircle",()=>t],373884)},727612,e=>{"use strict";let t=(0,e.i(475254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],727612)},107233,e=>{"use strict";let t=(0,e.i(475254).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>t],107233)},319036,e=>{"use strict";var t=e.i(843476),a=e.i(271645),i=e.i(981140),r=e.i(820783),s=e.i(30030),o=e.i(369340),n=e.i(999682),d=e.i(635804),l=e.i(248425),c="Switch",[p,u]=(0,s.createContextScope)(c),[h,m]=p(c),v=a.forwardRef((e,s)=>{let{__scopeSwitch:n,name:d,checked:p,defaultChecked:u,required:m,disabled:v,value:y="on",onCheckedChange:g,form:j,...C}=e,[N,b]=a.useState(null),k=(0,r.useComposedRefs)(s,e=>b(e)),w=a.useRef(!1),S=!N||j||!!N.closest("form"),[A,P]=(0,o.useControllableState)({prop:p,defaultProp:u??!1,onChange:g,caller:c});return(0,t.jsxs)(h,{scope:n,checked:A,disabled:v,children:[(0,t.jsx)(l.Primitive.button,{type:"button",role:"switch","aria-checked":A,"aria-required":m,"data-state":x(A),"data-disabled":v?"":void 0,disabled:v,value:y,...C,ref:k,onClick:(0,i.composeEventHandlers)(e.onClick,e=>{P(e=>!e),S&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())})}),S&&(0,t.jsx)(f,{control:N,bubbles:!w.current,name:d,value:y,checked:A,required:m,disabled:v,form:j,style:{transform:"translateX(-100%)"}})]})});v.displayName=c;var y="SwitchThumb",g=a.forwardRef((e,a)=>{let{__scopeSwitch:i,...r}=e,s=m(y,i);return(0,t.jsx)(l.Primitive.span,{"data-state":x(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:a})});g.displayName=y;var f=a.forwardRef(({__scopeSwitch:e,control:i,checked:s,bubbles:o=!0,...l},c)=>{let p=a.useRef(null),u=(0,r.useComposedRefs)(p,c),h=(0,n.usePrevious)(s),m=(0,d.useSize)(i);return a.useEffect(()=>{let e=p.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(h!==s&&t){let a=new Event("click",{bubbles:o});t.call(e,s),e.dispatchEvent(a)}},[h,s,o]),(0,t.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...l,tabIndex:-1,ref:u,style:{...l.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function x(e){return e?"checked":"unchecked"}f.displayName="SwitchBubbleInput";var j=e.i(647163);function C({className:e,...a}){return(0,t.jsx)(v,{"data-slot":"switch",className:(0,j.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...a,children:(0,t.jsx)(g,{"data-slot":"switch-thumb",className:(0,j.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}e.s(["Switch",()=>C],319036)},174886,e=>{"use strict";let t=(0,e.i(475254).default)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>t],174886)},982894,e=>{"use strict";var t=e.i(843476),a=e.i(271645),i=e.i(618566),r=e.i(970065),s=e.i(167881),o=e.i(994179),n=e.i(319036),d=e.i(10708),l=e.i(23750),c=e.i(62870),p=e.i(630374),u=e.i(184762),h=e.i(120682);let m=["Maskawa","SubandGain","Ported SIM","Prembly","Monnify","PaymentPoint","CAC Post-Incorporation","NIN Modification","Training","Custom Provider"],v=["Airtime & Data (VTU)","Bills & Education","Verification / KYC","Wallet / Payments","Manual Internal Services"];function y({provider:e,open:i,onOpenChange:r,onSave:o}){let[n,y]=(0,a.useState)({provider:"",category:"",apiBase:"",apiKey:"",notes:"",status:"Not Set",lastChecked:""}),[g,f]=(0,a.useState)({}),{toast:x}=(0,h.useToast)();(0,a.useEffect)(()=>{e?y(e):y({provider:"",category:"",apiBase:"",apiKey:"",notes:"",status:"Not Set",lastChecked:""})},[e,i]);let j=e=>{let t={};if(e.provider||(t.provider="Provider is required"),e.category||(t.category="Category is required"),e.apiBase)try{new URL(e.apiBase)}catch{t.apiBase="Enter a valid URL"}return e.apiKey&&e.apiKey.length<8&&(t.apiKey="API key must be at least 8 characters"),t};return(0,t.jsx)(p.Dialog,{open:i,onOpenChange:r,children:(0,t.jsxs)(p.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(p.DialogHeader,{children:[(0,t.jsx)(p.DialogTitle,{children:e?"Edit API Provider":"Add New API Provider"}),(0,t.jsx)(p.DialogDescription,{children:"Manage API provider configuration, credentials, and connectivity."})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Provider Name *"}),e?(0,t.jsx)(l.Input,{value:n.provider,readOnly:!0,className:"mt-2"}):(0,t.jsxs)(c.Select,{value:n.provider,onValueChange:e=>{let t={...n,provider:e};y(t),f(e=>({...e,...j(t)}))},children:[(0,t.jsx)(c.SelectTrigger,{className:"mt-2",children:(0,t.jsx)(c.SelectValue,{placeholder:"Select a provider"})}),(0,t.jsx)(c.SelectContent,{children:m.map(e=>(0,t.jsx)(c.SelectItem,{value:e,children:e},e))})]}),g.provider&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.provider})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Category *"}),(0,t.jsxs)(c.Select,{value:n.category,onValueChange:e=>{let t={...n,category:e};y(t),f(e=>({...e,...j(t)}))},children:[(0,t.jsx)(c.SelectTrigger,{className:"mt-2",children:(0,t.jsx)(c.SelectValue,{placeholder:"Select a category"})}),(0,t.jsx)(c.SelectContent,{children:v.map(e=>(0,t.jsx)(c.SelectItem,{value:e,children:e},e))})]}),g.category&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.category})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"API Base URL"}),(0,t.jsx)(l.Input,{value:n.apiBase,onChange:e=>{let t={...n,apiBase:e.target.value};y(t),f(e=>({...e,...j(t)}))},placeholder:"https://api.example.com/v1",className:"mt-2"}),g.apiBase&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.apiBase})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"API Key"}),(0,t.jsx)(l.Input,{value:n.apiKey,onChange:e=>{let t={...n,apiKey:e.target.value};y(t),f(e=>({...e,...j(t)}))},placeholder:"Enter API key",className:"mt-2"}),g.apiKey&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:g.apiKey})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{children:"Notes"}),(0,t.jsx)(u.Textarea,{value:n.notes,onChange:e=>y({...n,notes:e.target.value}),placeholder:"Add any notes about this provider...",className:"mt-2",rows:3})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 pt-4",children:[(0,t.jsx)(s.Button,{onClick:()=>{let t=j(n);if(f(t),Object.keys(t).length>0)return void x({title:"Please fix form errors",variant:"destructive"});let a={id:e?.id||Date.now().toString(),provider:n.provider,category:n.category,apiBase:n.apiBase||"",apiKey:n.apiKey||"",status:n.status||"Not Set",lastChecked:n.lastChecked||"",notes:n.notes||"",isActive:n.isActive};o(a),x({title:e?"Provider Updated":"Provider Added",description:`${a.provider} has been ${e?"updated":"added"} successfully.`}),r(!1)},disabled:Object.keys(j(n)).length>0,children:"Save Provider"}),n.apiKey&&"Manual Internal Services"!==n.category&&(0,t.jsx)(s.Button,{variant:"outline",onClick:()=>{x({title:"Testing Connection",description:`Testing connection to ${n.provider}...`}),setTimeout(()=>{let e=Math.random()>.3;x({title:e?"Connection Successful":"Connection Failed",description:e?`${n.provider} is responding correctly.`:`Unable to connect to ${n.provider}.`,variant:e?"default":"destructive"})},1500)},children:"Test Connection"}),(0,t.jsx)(s.Button,{variant:"ghost",onClick:()=>r(!1),children:"Cancel"})]})]})]})})}var g=e.i(269638),f=e.i(373884),x=e.i(107233),j=e.i(174886),C=e.i(727612);let N=(0,e.i(475254).default)("Settings2",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var b=e.i(692659);let k=[{id:"1",provider:"Maskawa",category:"Airtime & Data (VTU)",apiBase:"https://api.maskawa.com/v1",apiKey:"",status:"Not Set",lastChecked:"",notes:"",isActive:!0},{id:"2",provider:"SubandGain",category:"Airtime & Data (VTU)",apiBase:"https://api.subandgain.com/v2",apiKey:"",status:"Not Set",lastChecked:"",notes:""},{id:"3",provider:"Ported SIM",category:"Airtime & Data (VTU)",apiBase:"https://api.portedsim.com/v1",apiKey:"",status:"Not Set",lastChecked:"",notes:""},{id:"4",provider:"Maskawa",category:"Bills & Education",apiBase:"https://api.maskawa.com/v1",apiKey:"",status:"Not Set",lastChecked:"",notes:"",isActive:!0},{id:"5",provider:"SubandGain",category:"Bills & Education",apiBase:"https://api.subandgain.com/v2",apiKey:"",status:"Not Set",lastChecked:"",notes:""},{id:"6",provider:"Prembly",category:"Verification / KYC",apiBase:"https://api.prembly.com",apiKey:"",status:"Not Set",lastChecked:"",notes:"",isActive:!0},{id:"7",provider:"Monnify",category:"Wallet / Payments",apiBase:"https://api.monnify.com/v1",apiKey:"",status:"Not Set",lastChecked:"",notes:"",isActive:!0},{id:"8",provider:"PaymentPoint",category:"Wallet / Payments",apiBase:"https://api.paymentpoint.com/v1",apiKey:"",status:"Not Set",lastChecked:"",notes:""},{id:"9",provider:"CAC Post-Incorporation",category:"Manual Internal Services",apiBase:"N/A",apiKey:"N/A",status:"Connected",lastChecked:new Date().toLocaleDateString(),notes:"Manual service",isActive:!0},{id:"10",provider:"NIN Modification",category:"Manual Internal Services",apiBase:"N/A",apiKey:"N/A",status:"Connected",lastChecked:new Date().toLocaleDateString(),notes:"Manual service",isActive:!0},{id:"11",provider:"Training",category:"Manual Internal Services",apiBase:"N/A",apiKey:"N/A",status:"Connected",lastChecked:new Date().toLocaleDateString(),notes:"Manual service",isActive:!0}];function w(){let e=(0,i.useRouter)(),[p,u]=(0,a.useState)([]),[m,v]=(0,a.useState)(null),[w,S]=(0,a.useState)(!1),[A,P]=(0,a.useState)({}),[I,T]=(0,a.useState)(""),[D,K]=(0,a.useState)({}),[B,E]=(0,a.useState)(6),{toast:R}=(0,h.useToast)();(0,a.useEffect)(()=>{(async()=>{try{let t=await (0,b.authFetch)("/api/admin/providers",{method:"GET"});if(401===t.status){R({title:"Please sign in",description:"Admin access required.",variant:"destructive"}),e.push("/login");return}if(!t.ok)throw Error(await t.text());let a=await t.json(),i=[];if(Array.isArray(a.providers))for(let e of a.providers)i.push({id:e.id,provider:e.name,category:e.category,apiBase:e.apiBaseUrl||"",apiKey:"",status:e.apiKeys&&e.apiKeys.length>0?"Connected":"Not Set",lastChecked:"",notes:"",isActive:!!e.isActive,priority:e.priority??0,apiKeys:(e.apiKeys||[]).map(e=>({id:e.id,keyName:e.keyName,createdAt:e.createdAt,updatedAt:e.updatedAt}))});else if(a.providersByCategory&&"object"==typeof a.providersByCategory)for(let e of Object.keys(a.providersByCategory))for(let t of a.providersByCategory[e]||[])i.push({id:t.id,provider:t.name,category:t.category,apiBase:t.apiBaseUrl||"",apiKey:"",status:t.apiKeys&&t.apiKeys.length>0?"Connected":"Not Set",lastChecked:"",notes:"",isActive:!!t.isActive,priority:t.priority??0,apiKeys:(t.apiKeys||[]).map(e=>({id:e.id,keyName:e.keyName,createdAt:e.createdAt,updatedAt:e.updatedAt}))});u(i)}catch(e){u(k),R({title:"Using local defaults",description:"Failed to load providers from server.",variant:"destructive"})}})()},[]);let M=p.filter(e=>{let t=I.trim().toLowerCase();return!t||e.provider.toLowerCase().includes(t)||e.category.toLowerCase().includes(t)}),O=Array.from(new Set(M.map(e=>e.category))),F=e=>({"Wallet / Payments":"wallet","Verification / KYC":"verification","Bills & Education":"bills","Airtime & Data (VTU)":"vtu","Manual Internal Services":"internal"})[e]||e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,""),U=async t=>{if(m){try{let a=await (0,b.authFetch)(`/api/admin/providers/${t.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.provider,category:F(t.category),apiBaseUrl:t.apiBase||void 0,isActive:!!t.isActive})}),i=await a.json().catch(()=>({}));if(401===a.status){R({title:"Please sign in",description:"Admin access required.",variant:"destructive"}),e.push("/login");return}if(!a.ok)throw Error(i?.error||"Failed to update provider");let r=i.provider;u(p.map(e=>e.id===t.id?{id:r.id,provider:r.name,category:r.category,apiBase:r.apiBaseUrl||"",apiKey:"",status:r.apiKeys&&r.apiKeys.length>0?"Connected":"Not Set",lastChecked:"",notes:t.notes,isActive:!!r.isActive,apiKeys:(r.apiKeys||[]).map(e=>({id:e.id,keyName:e.keyName,createdAt:e.createdAt,updatedAt:e.updatedAt}))}:e)),R({title:"Provider Updated",description:`${r.name} was updated successfully.`})}catch(e){R({title:"Failed to update provider",description:String(e),variant:"destructive"})}return}try{let a=await (0,b.authFetch)("/api/admin/providers",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.provider,category:F(t.category),apiBaseUrl:t.apiBase||void 0,priority:0,isActive:!!t.isActive})}),i=await a.json();if(401===a.status){R({title:"Please sign in",description:"Admin access required.",variant:"destructive"}),e.push("/login");return}if(!a.ok)throw Error(i?.error||"Failed to create provider");let r=i.provider;u([...p,{id:r.id,provider:r.name,category:r.category,apiBase:r.apiBaseUrl||"",apiKey:"",status:r.apiKeys&&r.apiKeys.length>0?"Connected":"Not Set",lastChecked:"",notes:"",isActive:!!r.isActive,apiKeys:(r.apiKeys||[]).map(e=>({id:e.id,keyName:e.keyName,createdAt:e.createdAt,updatedAt:e.updatedAt}))}]),R({title:"Provider Added",description:`${r.name} was created successfully.`})}catch(e){R({title:"Failed to add provider",description:String(e),variant:"destructive"})}},$=async t=>{if(confirm("Are you sure you want to delete this provider?"))try{let a=await (0,b.authFetch)(`/api/admin/providers/${encodeURIComponent(t)}`,{method:"DELETE"}),i=await a.json().catch(()=>({}));if(401===a.status){R({title:"Please sign in",description:"Admin access required.",variant:"destructive"}),e.push("/login");return}if(!a.ok)throw Error(i?.error||"Failed to delete provider");u(p.filter(e=>e.id!==t)),R({title:"Provider Deleted",description:"The provider has been removed successfully."})}catch(e){R({title:"Failed to delete provider",description:String(e),variant:"destructive"})}},L=e=>{R({title:"Testing Connection",description:`Testing connection to ${e.provider}...`}),setTimeout(()=>{let t=Math.random()>.3,a={...e,status:t?"Connected":"Invalid",lastChecked:new Date().toLocaleDateString()};u(p.map(t=>t.id===e.id?a:t)),R({title:t?"Connection Successful":"Connection Failed",description:t?`${e.provider} is responding correctly.`:`Unable to connect to ${e.provider}.`,variant:t?"default":"destructive"})},1500)},_=async(t,a)=>{try{let i=await (0,b.authFetch)(`/api/admin/providers/category/${encodeURIComponent(F(a))}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({activeProviderId:t})});if(401===i.status){R({title:"Please sign in",description:"Admin access required.",variant:"destructive"}),e.push("/login");return}if(!i.ok)throw Error(await i.text());let r=((await i.json()).providers||[]).map(e=>({id:e.id,provider:e.name,category:e.category,apiBase:e.apiBaseUrl||"",apiKey:"",status:e.apiKeys&&e.apiKeys.length>0?"Connected":"Not Set",lastChecked:"",notes:"",isActive:!!e.isActive,priority:e.priority??0,apiKeys:(e.apiKeys||[]).map(e=>({id:e.id,keyName:e.keyName,createdAt:e.createdAt,updatedAt:e.updatedAt}))}));u(e=>e.map(e=>e.category!==a?e:r.find(t=>t.id===e.id)||e)),R({title:"Active Provider Updated",description:"The active provider for this category has been updated."})}catch(e){R({title:"Failed to set active provider",description:String(e),variant:"destructive"})}},z=async(t,a,i)=>{try{let r=p.find(e=>e.category===a&&e.isActive)?.id||t,s=await (0,b.authFetch)(`/api/admin/providers/category/${encodeURIComponent(F(a))}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({activeProviderId:r,priorities:{[t]:i}})});if(401===s.status){R({title:"Please sign in",description:"Admin access required.",variant:"destructive"}),e.push("/login");return}if(!s.ok)throw Error(await s.text());let o=((await s.json()).providers||[]).map(e=>({id:e.id,provider:e.name,category:e.category,apiBase:e.apiBaseUrl||"",apiKey:"",status:e.apiKeys&&e.apiKeys.length>0?"Connected":"Not Set",lastChecked:"",notes:"",isActive:!!e.isActive,priority:e.priority??0,apiKeys:(e.apiKeys||[]).map(e=>({id:e.id,keyName:e.keyName,createdAt:e.createdAt,updatedAt:e.updatedAt}))}));u(e=>e.map(e=>e.category!==a?e:o.find(t=>t.id===e.id)||e)),R({title:"Priority Updated",description:"Provider priority updated for this category."})}catch(e){R({title:"Failed to update priority",description:String(e),variant:"destructive"})}},V=async e=>{let t=window.prompt(`Enter key name for ${e.provider}`);if(!t)return;let a=window.prompt("Enter key value");if(a)try{let i=await fetch(`/api/admin/providers/${encodeURIComponent(e.id)}/api-key`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({keyName:t,keyValue:a})});if(!i.ok)throw Error(await i.text());let r=(await i.json()).apiKey;u(t=>t.map(t=>t.id===e.id?{...t,apiKeys:[...t.apiKeys||[],{id:r.id,keyName:r.keyName}],status:"Connected"}:t)),R({title:"API Key Created",description:`Key '${t}' added for ${e.provider}`})}catch(e){R({title:"Failed to create API key",description:String(e),variant:"destructive"})}},H=async(e,t)=>{if(confirm("Delete this API key?"))try{let a=await fetch(`/api/admin/providers/${encodeURIComponent(e.id)}/api-key?keyId=${encodeURIComponent(t)}`,{method:"DELETE"});if(!a.ok)throw Error(await a.text());u(a=>a.map(a=>a.id===e.id?{...a,apiKeys:(a.apiKeys||[]).filter(e=>e.id!==t),status:(a.apiKeys||[]).filter(e=>e.id!==t).length>0?"Connected":"Not Set"}:a)),R({title:"API Key Deleted",description:`Key removed for ${e.provider}`})}catch(e){R({title:"Failed to delete API key",description:String(e),variant:"destructive"})}},q=p.filter(e=>"Connected"===e.status).length;return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"API Integration Settings"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Configure all external API providers."})]}),(0,t.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,t.jsx)(l.Input,{placeholder:"Search providers or categories",value:I,onChange:e=>T(e.target.value),className:"w-64"}),(0,t.jsxs)(c.Select,{value:String(B),onValueChange:e=>E(Number(e)),children:[(0,t.jsx)(c.SelectTrigger,{className:"w-28",children:(0,t.jsx)(c.SelectValue,{placeholder:"Page size"})}),(0,t.jsxs)(c.SelectContent,{children:[(0,t.jsx)(c.SelectItem,{value:"3",children:"Show 3"}),(0,t.jsx)(c.SelectItem,{value:"6",children:"Show 6"}),(0,t.jsx)(c.SelectItem,{value:"9",children:"Show 9"})]})]}),(0,t.jsxs)(s.Button,{onClick:()=>{R({title:"Testing All Connections",description:"Testing all API providers..."}),p.forEach((e,t)=>{"Manual Internal Services"!==e.category&&setTimeout(()=>{L(e)},500*t)})},variant:"outline",children:[(0,t.jsx)(N,{className:"mr-2 h-4 w-4"}),"Test All Connections"]}),(0,t.jsxs)(s.Button,{onClick:()=>{v(null),S(!0)},children:[(0,t.jsx)(x.Plus,{className:"mr-2 h-4 w-4"}),"Add Provider"]})]})]}),(0,t.jsxs)(r.Card,{children:[(0,t.jsx)(r.CardHeader,{children:(0,t.jsx)(r.CardTitle,{className:"text-lg",children:"Connection Status"})}),(0,t.jsx)(r.CardContent,{children:(0,t.jsxs)("div",{className:"text-2xl font-bold",children:[q," / ",p.length," ",(0,t.jsx)("span",{className:"text-base font-normal text-muted-foreground",children:"providers connected"})]})})]}),O.map(e=>(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold",children:e}),(0,t.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:M.filter(t=>t.category===e).slice(0,D[e]?void 0:B).map(a=>(0,t.jsxs)(r.Card,{className:"relative",children:[(0,t.jsx)(r.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)(r.CardTitle,{className:"text-lg",children:a.provider}),(0,t.jsx)(o.Badge,{variant:"secondary",className:"mt-2",children:a.category})]}),"Connected"===a.status?(0,t.jsx)(g.CheckCircle,{className:"h-5 w-5 text-green-600"}):"Invalid"===a.status?(0,t.jsx)(f.XCircle,{className:"h-5 w-5 text-red-600"}):(0,t.jsx)(f.XCircle,{className:"h-5 w-5 text-gray-400"})]})}),(0,t.jsxs)(r.CardContent,{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{className:"text-xs text-muted-foreground",children:"API Base URL"}),(0,t.jsx)("p",{className:"text-sm font-mono truncate",children:a.apiBase})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(d.Label,{className:"text-xs text-muted-foreground",children:"API Keys"}),(0,t.jsxs)("div",{className:"space-y-2",children:[a.apiKeys&&a.apiKeys.length>0?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:a.apiKeys.map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 border rounded px-2 py-1 text-xs",children:[(0,t.jsx)("span",{className:"font-mono",children:e.keyName}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",className:"h-6 px-1 text-red-600",onClick:()=>H(a,e.id),children:(0,t.jsx)(C.Trash2,{className:"h-3 w-3"})})]},e.id))}):(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"No keys set"}),(0,t.jsx)("div",{children:(0,t.jsx)(s.Button,{variant:"outline",size:"sm",onClick:()=>V(a),children:"Add API Key"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,t.jsx)(o.Badge,{variant:"Connected"===a.status?"default":"Invalid"===a.status?"destructive":"secondary",className:"Connected"===a.status?"bg-green-600":"",children:a.status}),(0,t.jsx)("span",{className:"text-muted-foreground",children:a.lastChecked?`Checked: ${a.lastChecked}`:"Never checked"})]}),p.filter(t=>t.category===e).length>1&&(0,t.jsxs)("div",{className:"flex items-center justify-between pt-2 border-t",children:[(0,t.jsx)(d.Label,{htmlFor:`active-${a.id}`,className:"text-xs",children:"Active Provider"}),(0,t.jsx)(n.Switch,{id:`active-${a.id}`,checked:a.isActive||!1,onCheckedChange:()=>_(a.id,e)})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(d.Label,{htmlFor:`priority-${a.id}`,className:"text-xs",children:"Priority"}),(0,t.jsx)(l.Input,{id:`priority-${a.id}`,type:"number",min:0,className:"w-20 h-8 text-sm",value:a.priority??0,onChange:e=>{let t=Math.max(0,Number(e.target.value)||0);u(e=>e.map(e=>e.id===a.id?{...e,priority:t}:e))},onBlur:t=>{let i=Math.max(0,Number(t.target.value)||0);z(a.id,e,i)}})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2",children:[(0,t.jsx)(s.Button,{variant:"outline",size:"sm",onClick:()=>{v(a),S(!0)},children:"Edit"}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>L(a),disabled:"Manual Internal Services"===a.category,children:"Test"}),a.apiKey&&"N/A"!==a.apiKey&&(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>{var e,t;return e=a.apiKey,t=a.provider,void(navigator.clipboard.writeText(e),R({title:"API Key Copied",description:`${t} API key copied to clipboard.`}))},children:(0,t.jsx)(j.Copy,{className:"h-3 w-3"})}),(0,t.jsx)(s.Button,{variant:"ghost",size:"sm",onClick:()=>$(a.id),className:"text-red-600 hover:text-red-700",children:(0,t.jsx)(C.Trash2,{className:"h-3 w-3"})})]})]})]},a.id))}),M.filter(t=>t.category===e).length>B&&(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(s.Button,{variant:"ghost",onClick:()=>K(t=>({...t,[e]:!t[e]})),children:D[e]?"Show Less":"Show More"})})]},e)),(0,t.jsx)(y,{provider:m,open:w,onOpenChange:S,onSave:U})]})}e.s(["default",()=>w],982894)}]);