(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,970065,e=>{"use strict";var t=e.i(843476),r=e.i(647163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function a({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...s})}function o({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>o,"CardDescription",()=>i,"CardHeader",()=>a,"CardTitle",()=>n])},10708,e=>{"use strict";var t=e.i(843476),r=e.i(271645),s=e.i(248425),a=r.forwardRef((e,r)=>(0,t.jsx)(s.Primitive.label,{...e,ref:r,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var n=e.i(647163);function i({className:e,...r}){return(0,t.jsx)(a,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...r})}e.s(["Label",()=>i],10708)},630374,326999,e=>{"use strict";var t=e.i(843476),r=e.i(271645),s=e.i(981140),a=e.i(820783),n=e.i(30030),i=e.i(610772),o=e.i(369340),l=e.i(726330),d=e.i(765491),c=e.i(774606),u=e.i(296626),p=e.i(248425),m=e.i(303536),x=e.i(985369),f=e.i(186312),g=e.i(991918),h="Dialog",[v,j]=(0,n.createContextScope)(h),[y,b]=v(h),w=e=>{let{__scopeDialog:s,children:a,open:n,defaultOpen:l,onOpenChange:d,modal:c=!0}=e,u=r.useRef(null),p=r.useRef(null),[m,x]=(0,o.useControllableState)({prop:n,defaultProp:l??!1,onChange:d,caller:h});return(0,t.jsx)(y,{scope:s,triggerRef:u,contentRef:p,contentId:(0,i.useId)(),titleId:(0,i.useId)(),descriptionId:(0,i.useId)(),open:m,onOpenChange:x,onOpenToggle:r.useCallback(()=>x(e=>!e),[x]),modal:c,children:a})};w.displayName=h;var N="DialogTrigger",C=r.forwardRef((e,r)=>{let{__scopeDialog:n,...i}=e,o=b(N,n),l=(0,a.useComposedRefs)(r,o.triggerRef);return(0,t.jsx)(p.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":z(o.open),...i,ref:l,onClick:(0,s.composeEventHandlers)(e.onClick,o.onOpenToggle)})});C.displayName=N;var S="DialogPortal",[T,E]=v(S,{forceMount:void 0}),D=e=>{let{__scopeDialog:s,forceMount:a,children:n,container:i}=e,o=b(S,s);return(0,t.jsx)(T,{scope:s,forceMount:a,children:r.Children.map(n,e=>(0,t.jsx)(u.Presence,{present:a||o.open,children:(0,t.jsx)(c.Portal,{asChild:!0,container:i,children:e})}))})};D.displayName=S;var R="DialogOverlay",P=r.forwardRef((e,r)=>{let s=E(R,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=b(R,e.__scopeDialog);return i.modal?(0,t.jsx)(u.Presence,{present:a||i.open,children:(0,t.jsx)(k,{...n,ref:r})}):null});P.displayName=R;var A=(0,g.createSlot)("DialogOverlay.RemoveScroll"),k=r.forwardRef((e,r)=>{let{__scopeDialog:s,...a}=e,n=b(R,s);return(0,t.jsx)(x.RemoveScroll,{as:A,allowPinchZoom:!0,shards:[n.contentRef],children:(0,t.jsx)(p.Primitive.div,{"data-state":z(n.open),...a,ref:r,style:{pointerEvents:"auto",...a.style}})})}),I="DialogContent",F=r.forwardRef((e,r)=>{let s=E(I,e.__scopeDialog),{forceMount:a=s.forceMount,...n}=e,i=b(I,e.__scopeDialog);return(0,t.jsx)(u.Presence,{present:a||i.open,children:i.modal?(0,t.jsx)(L,{...n,ref:r}):(0,t.jsx)(O,{...n,ref:r})})});F.displayName=I;var L=r.forwardRef((e,n)=>{let i=b(I,e.__scopeDialog),o=r.useRef(null),l=(0,a.useComposedRefs)(n,i.contentRef,o);return r.useEffect(()=>{let e=o.current;if(e)return(0,f.hideOthers)(e)},[]),(0,t.jsx)(U,{...e,ref:l,trapFocus:i.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),i.triggerRef.current?.focus()}),onPointerDownOutside:(0,s.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,s.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),O=r.forwardRef((e,s)=>{let a=b(I,e.__scopeDialog),n=r.useRef(!1),i=r.useRef(!1);return(0,t.jsx)(U,{...e,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(n.current||a.triggerRef.current?.focus(),t.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(n.current=!0,"pointerdown"===t.detail.originalEvent.type&&(i.current=!0));let r=t.target;a.triggerRef.current?.contains(r)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),U=r.forwardRef((e,s)=>{let{__scopeDialog:n,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=e,p=b(I,n),x=r.useRef(null),f=(0,a.useComposedRefs)(s,x);return(0,m.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(d.FocusScope,{asChild:!0,loop:!0,trapped:i,onMountAutoFocus:o,onUnmountAutoFocus:c,children:(0,t.jsx)(l.DismissableLayer,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":z(p.open),...u,ref:f,onDismiss:()=>p.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(W,{titleId:p.titleId}),(0,t.jsx)(X,{contentRef:x,descriptionId:p.descriptionId})]})]})}),M="DialogTitle",V=r.forwardRef((e,r)=>{let{__scopeDialog:s,...a}=e,n=b(M,s);return(0,t.jsx)(p.Primitive.h2,{id:n.titleId,...a,ref:r})});V.displayName=M;var _="DialogDescription",H=r.forwardRef((e,r)=>{let{__scopeDialog:s,...a}=e,n=b(_,s);return(0,t.jsx)(p.Primitive.p,{id:n.descriptionId,...a,ref:r})});H.displayName=_;var B="DialogClose",$=r.forwardRef((e,r)=>{let{__scopeDialog:a,...n}=e,i=b(B,a);return(0,t.jsx)(p.Primitive.button,{type:"button",...n,ref:r,onClick:(0,s.composeEventHandlers)(e.onClick,()=>i.onOpenChange(!1))})});function z(e){return e?"open":"closed"}$.displayName=B;var K="DialogTitleWarning",[q,J]=(0,n.createContext)(K,{contentName:I,titleName:M,docsSlug:"dialog"}),W=({titleId:e})=>{let t=J(K),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&(document.getElementById(e)||console.error(s))},[s,e]),null},X=({contentRef:e,descriptionId:t})=>{let s=J("DialogDescriptionWarning"),a=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return r.useEffect(()=>{let r=e.current?.getAttribute("aria-describedby");t&&r&&(document.getElementById(t)||console.warn(a))},[a,e,t]),null};e.s(["Close",()=>$,"Content",()=>F,"Description",()=>H,"Overlay",()=>P,"Portal",()=>D,"Root",()=>w,"Title",()=>V,"Trigger",()=>C,"WarningProvider",()=>q,"createDialogScope",()=>j],326999);var Y=e.i(37727),G=e.i(647163);function Z({...e}){return(0,t.jsx)(w,{"data-slot":"dialog",...e})}function Q({...e}){return(0,t.jsx)(C,{"data-slot":"dialog-trigger",...e})}function ee({...e}){return(0,t.jsx)(D,{"data-slot":"dialog-portal",...e})}function et({className:e,...r}){return(0,t.jsx)(P,{"data-slot":"dialog-overlay",className:(0,G.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function er({className:e,children:r,showCloseButton:s=!0,...a}){return(0,t.jsxs)(ee,{"data-slot":"dialog-portal",children:[(0,t.jsx)(et,{}),(0,t.jsxs)(F,{"data-slot":"dialog-content",className:(0,G.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...a,children:[r,s&&(0,t.jsxs)($,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(Y.X,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function es({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,G.cn)("flex flex-col gap-2 text-center sm:text-left",e),...r})}function ea({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,G.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...r})}function en({className:e,...r}){return(0,t.jsx)(V,{"data-slot":"dialog-title",className:(0,G.cn)("text-lg leading-none font-semibold",e),...r})}function ei({className:e,...r}){return(0,t.jsx)(H,{"data-slot":"dialog-description",className:(0,G.cn)("text-muted-foreground text-sm",e),...r})}e.s(["Dialog",()=>Z,"DialogContent",()=>er,"DialogDescription",()=>ei,"DialogFooter",()=>ea,"DialogHeader",()=>es,"DialogTitle",()=>en,"DialogTrigger",()=>Q],630374)},120682,e=>{"use strict";var t=e.i(271645);let r=0,s=new Map,a=e=>{if(s.has(e))return;let t=setTimeout(()=>{s.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);s.set(e,t)},n=[],i={toasts:[]};function o(e){i=((e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:r}=t;return r?a(r):e.toasts.forEach(e=>{a(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===r||void 0===r?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}})(i,e),n.forEach(e=>{e(i)})}function l({...e}){let t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function d(){let[e,r]=t.useState(i);return t.useEffect(()=>(n.push(r),()=>{let e=n.indexOf(r);e>-1&&n.splice(e,1)}),[e]),{...e,toast:l,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}e.s(["toast",()=>l,"useToast",()=>d])},184762,e=>{"use strict";var t=e.i(843476),r=e.i(647163);function s({className:e,...s}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...s})}e.s(["Textarea",()=>s])},286536,e=>{"use strict";let t=(0,e.i(475254).default)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);e.s(["Eye",()=>t],286536)},334863,e=>{"use strict";var t=e.i(843476),r=e.i(120682),s=e.i(271645),a=e.i(174080),n=e.i(981140),i=e.i(820783),o=e.i(75830),l=e.i(30030),d=e.i(726330),c=e.i(774606),u=e.i(296626),p=e.i(248425),m=e.i(30207),x=e.i(369340),f=e.i(934620),g=e.i(959411),h="ToastProvider",[v,j,y]=(0,o.createCollection)("Toast"),[b,w]=(0,l.createContextScope)("Toast",[y]),[N,C]=b(h),S=e=>{let{__scopeToast:r,label:a="Notification",duration:n=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:l}=e,[d,c]=s.useState(null),[u,p]=s.useState(0),m=s.useRef(!1),x=s.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${h}\`. Expected non-empty \`string\`.`),(0,t.jsx)(v.Provider,{scope:r,children:(0,t.jsx)(N,{scope:r,label:a,duration:n,swipeDirection:i,swipeThreshold:o,toastCount:u,viewport:d,onViewportChange:c,onToastAdd:s.useCallback(()=>p(e=>e+1),[]),onToastRemove:s.useCallback(()=>p(e=>e-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:x,children:l})})};S.displayName=h;var T="ToastViewport",E=["F8"],D="toast.viewportPause",R="toast.viewportResume",P=s.forwardRef((e,r)=>{let{__scopeToast:a,hotkey:n=E,label:o="Notifications ({hotkey})",...l}=e,c=C(T,a),u=j(a),m=s.useRef(null),x=s.useRef(null),f=s.useRef(null),g=s.useRef(null),h=(0,i.useComposedRefs)(r,g,c.onViewportChange),y=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=c.toastCount>0;s.useEffect(()=>{let e=e=>{0!==n.length&&n.every(t=>e[t]||e.code===t)&&g.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[n]),s.useEffect(()=>{let e=m.current,t=g.current;if(b&&e&&t){let r=()=>{if(!c.isClosePausedRef.current){let e=new CustomEvent(D);t.dispatchEvent(e),c.isClosePausedRef.current=!0}},s=()=>{if(c.isClosePausedRef.current){let e=new CustomEvent(R);t.dispatchEvent(e),c.isClosePausedRef.current=!1}},a=t=>{e.contains(t.relatedTarget)||s()},n=()=>{e.contains(document.activeElement)||s()};return e.addEventListener("focusin",r),e.addEventListener("focusout",a),e.addEventListener("pointermove",r),e.addEventListener("pointerleave",n),window.addEventListener("blur",r),window.addEventListener("focus",s),()=>{e.removeEventListener("focusin",r),e.removeEventListener("focusout",a),e.removeEventListener("pointermove",r),e.removeEventListener("pointerleave",n),window.removeEventListener("blur",r),window.removeEventListener("focus",s)}}},[b,c.isClosePausedRef]);let w=s.useCallback(({tabbingDirection:e})=>{let t=u().map(t=>{let r=t.ref.current,s=[r,...function(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}(r)];return"forwards"===e?s:s.reverse()});return("forwards"===e?t.reverse():t).flat()},[u]);return s.useEffect(()=>{let e=g.current;if(e){let t=t=>{let r=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!r){let r=document.activeElement,s=t.shiftKey;if(t.target===e&&s)return void x.current?.focus();let a=w({tabbingDirection:s?"backwards":"forwards"}),n=a.findIndex(e=>e===r);W(a.slice(n+1))?t.preventDefault():s?x.current?.focus():f.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}},[u,w]),(0,t.jsxs)(d.Branch,{ref:m,role:"region","aria-label":o.replace("{hotkey}",y),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&(0,t.jsx)(k,{ref:x,onFocusFromOutsideViewport:()=>{W(w({tabbingDirection:"forwards"}))}}),(0,t.jsx)(v.Slot,{scope:a,children:(0,t.jsx)(p.Primitive.ol,{tabIndex:-1,...l,ref:h})}),b&&(0,t.jsx)(k,{ref:f,onFocusFromOutsideViewport:()=>{W(w({tabbingDirection:"backwards"}))}})]})});P.displayName=T;var A="ToastFocusProxy",k=s.forwardRef((e,r)=>{let{__scopeToast:s,onFocusFromOutsideViewport:a,...n}=e,i=C(A,s);return(0,t.jsx)(g.VisuallyHidden,{tabIndex:0,...n,ref:r,style:{position:"fixed"},onFocus:e=>{let t=e.relatedTarget;i.viewport?.contains(t)||a()}})});k.displayName=A;var I="Toast",F=s.forwardRef((e,r)=>{let{forceMount:s,open:a,defaultOpen:i,onOpenChange:o,...l}=e,[d,c]=(0,x.useControllableState)({prop:a,defaultProp:i??!0,onChange:o,caller:I});return(0,t.jsx)(u.Presence,{present:s||d,children:(0,t.jsx)(U,{open:d,...l,ref:r,onClose:()=>c(!1),onPause:(0,m.useCallbackRef)(e.onPause),onResume:(0,m.useCallbackRef)(e.onResume),onSwipeStart:(0,n.composeEventHandlers)(e.onSwipeStart,e=>{e.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:(0,n.composeEventHandlers)(e.onSwipeMove,e=>{let{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${r}px`)}),onSwipeCancel:(0,n.composeEventHandlers)(e.onSwipeCancel,e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:(0,n.composeEventHandlers)(e.onSwipeEnd,e=>{let{x:t,y:r}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${r}px`),c(!1)})})})});F.displayName=I;var[L,O]=b(I,{onClose(){}}),U=s.forwardRef((e,r)=>{let{__scopeToast:o,type:l="foreground",duration:c,open:u,onClose:x,onEscapeKeyDown:f,onPause:g,onResume:h,onSwipeStart:j,onSwipeMove:y,onSwipeCancel:b,onSwipeEnd:w,...N}=e,S=C(I,o),[T,E]=s.useState(null),P=(0,i.useComposedRefs)(r,e=>E(e)),A=s.useRef(null),k=s.useRef(null),F=c||S.duration,O=s.useRef(0),U=s.useRef(F),V=s.useRef(0),{onToastAdd:_,onToastRemove:H}=S,B=(0,m.useCallbackRef)(()=>{T?.contains(document.activeElement)&&S.viewport?.focus(),x()}),$=s.useCallback(e=>{e&&e!==1/0&&(window.clearTimeout(V.current),O.current=new Date().getTime(),V.current=window.setTimeout(B,e))},[B]);s.useEffect(()=>{let e=S.viewport;if(e){let t=()=>{$(U.current),h?.()},r=()=>{let e=new Date().getTime()-O.current;U.current=U.current-e,window.clearTimeout(V.current),g?.()};return e.addEventListener(D,r),e.addEventListener(R,t),()=>{e.removeEventListener(D,r),e.removeEventListener(R,t)}}},[S.viewport,F,g,h,$]),s.useEffect(()=>{u&&!S.isClosePausedRef.current&&$(F)},[u,F,S.isClosePausedRef,$]),s.useEffect(()=>(_(),()=>H()),[_,H]);let z=s.useMemo(()=>T?function e(t){let r=[];return Array.from(t.childNodes).forEach(t=>{var s;if(t.nodeType===t.TEXT_NODE&&t.textContent&&r.push(t.textContent),(s=t).nodeType===s.ELEMENT_NODE){let s=t.ariaHidden||t.hidden||"none"===t.style.display,a=""===t.dataset.radixToastAnnounceExclude;if(!s)if(a){let e=t.dataset.radixToastAnnounceAlt;e&&r.push(e)}else r.push(...e(t))}}),r}(T):null,[T]);return S.viewport?(0,t.jsxs)(t.Fragment,{children:[z&&(0,t.jsx)(M,{__scopeToast:o,role:"status","aria-live":"foreground"===l?"assertive":"polite",children:z}),(0,t.jsx)(L,{scope:o,onClose:B,children:a.createPortal((0,t.jsx)(v.ItemSlot,{scope:o,children:(0,t.jsx)(d.Root,{asChild:!0,onEscapeKeyDown:(0,n.composeEventHandlers)(f,()=>{S.isFocusedToastEscapeKeyDownRef.current||B(),S.isFocusedToastEscapeKeyDownRef.current=!1}),children:(0,t.jsx)(p.Primitive.li,{tabIndex:0,"data-state":u?"open":"closed","data-swipe-direction":S.swipeDirection,...N,ref:P,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:(0,n.composeEventHandlers)(e.onKeyDown,e=>{"Escape"===e.key&&(f?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(S.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:(0,n.composeEventHandlers)(e.onPointerDown,e=>{0===e.button&&(A.current={x:e.clientX,y:e.clientY})}),onPointerMove:(0,n.composeEventHandlers)(e.onPointerMove,e=>{if(!A.current)return;let t=e.clientX-A.current.x,r=e.clientY-A.current.y,s=!!k.current,a=["left","right"].includes(S.swipeDirection),n=["left","up"].includes(S.swipeDirection)?Math.min:Math.max,i=a?n(0,t):0,o=a?0:n(0,r),l="touch"===e.pointerType?10:2,d={x:i,y:o},c={originalEvent:e,delta:d};s?(k.current=d,q("toast.swipeMove",y,c,{discrete:!1})):J(d,S.swipeDirection,l)?(k.current=d,q("toast.swipeStart",j,c,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>l||Math.abs(r)>l)&&(A.current=null)}),onPointerUp:(0,n.composeEventHandlers)(e.onPointerUp,e=>{let t=k.current,r=e.target;if(r.hasPointerCapture(e.pointerId)&&r.releasePointerCapture(e.pointerId),k.current=null,A.current=null,t){let r=e.currentTarget,s={originalEvent:e,delta:t};J(t,S.swipeDirection,S.swipeThreshold)?q("toast.swipeEnd",w,s,{discrete:!0}):q("toast.swipeCancel",b,s,{discrete:!0}),r.addEventListener("click",e=>e.preventDefault(),{once:!0})}})})})}),S.viewport)})]}):null}),M=e=>{let{__scopeToast:r,children:a,...n}=e,i=C(I,r),[o,l]=s.useState(!1),[d,u]=s.useState(!1);return function(e=()=>{}){let t=(0,m.useCallbackRef)(e);(0,f.useLayoutEffect)(()=>{let e=0,r=0;return e=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(e),window.cancelAnimationFrame(r)}},[t])}(()=>l(!0)),s.useEffect(()=>{let e=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(e)},[]),d?null:(0,t.jsx)(c.Portal,{asChild:!0,children:(0,t.jsx)(g.VisuallyHidden,{...n,children:o&&(0,t.jsxs)(t.Fragment,{children:[i.label," ",a]})})})},V=s.forwardRef((e,r)=>{let{__scopeToast:s,...a}=e;return(0,t.jsx)(p.Primitive.div,{...a,ref:r})});V.displayName="ToastTitle";var _=s.forwardRef((e,r)=>{let{__scopeToast:s,...a}=e;return(0,t.jsx)(p.Primitive.div,{...a,ref:r})});_.displayName="ToastDescription";var H="ToastAction",B=s.forwardRef((e,r)=>{let{altText:s,...a}=e;return s.trim()?(0,t.jsx)(K,{altText:s,asChild:!0,children:(0,t.jsx)(z,{...a,ref:r})}):(console.error(`Invalid prop \`altText\` supplied to \`${H}\`. Expected non-empty \`string\`.`),null)});B.displayName=H;var $="ToastClose",z=s.forwardRef((e,r)=>{let{__scopeToast:s,...a}=e,i=O($,s);return(0,t.jsx)(K,{asChild:!0,children:(0,t.jsx)(p.Primitive.button,{type:"button",...a,ref:r,onClick:(0,n.composeEventHandlers)(e.onClick,i.onClose)})})});z.displayName=$;var K=s.forwardRef((e,r)=>{let{__scopeToast:s,altText:a,...n}=e;return(0,t.jsx)(p.Primitive.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":a||void 0,...n,ref:r})});function q(e,t,r,{discrete:s}){let a=r.originalEvent.currentTarget,n=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&a.addEventListener(e,t,{once:!0}),s?(0,p.dispatchDiscreteCustomEvent)(a,n):a.dispatchEvent(n)}var J=(e,t,r=0)=>{let s=Math.abs(e.x),a=Math.abs(e.y),n=s>a;return"left"===t||"right"===t?n&&s>r:!n&&a>r};function W(e){let t=document.activeElement;return e.some(e=>e===t||(e.focus(),document.activeElement!==t))}var X=e.i(225913),Y=e.i(37727),G=e.i(647163);let Z=s.forwardRef(({className:e,...r},s)=>(0,t.jsx)(P,{ref:s,className:(0,G.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...r}));Z.displayName=P.displayName;let Q=(0,X.cva)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ee=s.forwardRef(({className:e,variant:r,...s},a)=>(0,t.jsx)(F,{ref:a,className:(0,G.cn)(Q({variant:r}),e),...s}));ee.displayName=F.displayName,s.forwardRef(({className:e,...r},s)=>(0,t.jsx)(B,{ref:s,className:(0,G.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...r})).displayName=B.displayName;let et=s.forwardRef(({className:e,...r},s)=>(0,t.jsx)(z,{ref:s,className:(0,G.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...r,children:(0,t.jsx)(Y.X,{className:"h-4 w-4"})}));et.displayName=z.displayName;let er=s.forwardRef(({className:e,...r},s)=>(0,t.jsx)(V,{ref:s,className:(0,G.cn)("text-sm font-semibold",e),...r}));er.displayName=V.displayName;let es=s.forwardRef(({className:e,...r},s)=>(0,t.jsx)(_,{ref:s,className:(0,G.cn)("text-sm opacity-90",e),...r}));function ea(){let{toasts:e}=(0,r.useToast)();return(0,t.jsxs)(S,{children:[e.map(function({id:e,title:r,description:s,action:a,...n}){return(0,t.jsxs)(ee,{...n,children:[(0,t.jsxs)("div",{className:"grid gap-1",children:[r&&(0,t.jsx)(er,{children:r}),s&&(0,t.jsx)(es,{children:s})]}),a,(0,t.jsx)(et,{})]},e)}),(0,t.jsx)(Z,{})]})}es.displayName=_.displayName,e.s(["Toaster",()=>ea],334863)},727612,e=>{"use strict";let t=(0,e.i(475254).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>t],727612)},882293,e=>{"use strict";let t=(0,e.i(475254).default)("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);e.s(["UserCheck",()=>t],882293)},451364,e=>{"use strict";var t=e.i(843476),r=e.i(271645),s=e.i(970065),a=e.i(167881),n=e.i(23750),i=e.i(62870),o=e.i(994179),l=e.i(761911),d=e.i(882293),c=e.i(475254);let u=(0,c.default)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var p=e.i(286536),m=e.i(120682),x=e.i(630374),f=e.i(10708),g=e.i(184762),h=e.i(212426);let v=(0,c.default)("KeyRound",[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);var j=e.i(727612),y=e.i(30030),b=e.i(820783),w=e.i(326999),N=e.i(981140),C=e.i(991918),S="AlertDialog",[T,E]=(0,y.createContextScope)(S,[w.createDialogScope]),D=(0,w.createDialogScope)(),R=e=>{let{__scopeAlertDialog:r,...s}=e,a=D(r);return(0,t.jsx)(w.Root,{...a,...s,modal:!0})};R.displayName=S,r.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...a}=e,n=D(s);return(0,t.jsx)(w.Trigger,{...n,...a,ref:r})}).displayName="AlertDialogTrigger";var P=e=>{let{__scopeAlertDialog:r,...s}=e,a=D(r);return(0,t.jsx)(w.Portal,{...a,...s})};P.displayName="AlertDialogPortal";var A=r.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...a}=e,n=D(s);return(0,t.jsx)(w.Overlay,{...n,...a,ref:r})});A.displayName="AlertDialogOverlay";var k="AlertDialogContent",[I,F]=T(k),L=(0,C.createSlottable)("AlertDialogContent"),O=r.forwardRef((e,s)=>{let{__scopeAlertDialog:a,children:n,...i}=e,o=D(a),l=r.useRef(null),d=(0,b.useComposedRefs)(s,l),c=r.useRef(null);return(0,t.jsx)(w.WarningProvider,{contentName:k,titleName:U,docsSlug:"alert-dialog",children:(0,t.jsx)(I,{scope:a,cancelRef:c,children:(0,t.jsxs)(w.Content,{role:"alertdialog",...o,...i,ref:d,onOpenAutoFocus:(0,N.composeEventHandlers)(i.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(L,{children:n}),(0,t.jsx)(z,{contentRef:l})]})})})});O.displayName=k;var U="AlertDialogTitle",M=r.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...a}=e,n=D(s);return(0,t.jsx)(w.Title,{...n,...a,ref:r})});M.displayName=U;var V="AlertDialogDescription",_=r.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...a}=e,n=D(s);return(0,t.jsx)(w.Description,{...n,...a,ref:r})});_.displayName=V;var H=r.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...a}=e,n=D(s);return(0,t.jsx)(w.Close,{...n,...a,ref:r})});H.displayName="AlertDialogAction";var B="AlertDialogCancel",$=r.forwardRef((e,r)=>{let{__scopeAlertDialog:s,...a}=e,{cancelRef:n}=F(B,s),i=D(s),o=(0,b.useComposedRefs)(r,n);return(0,t.jsx)(w.Close,{...i,...a,ref:o})});$.displayName=B;var z=({contentRef:e})=>{let t=`\`${k}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${k}\` by passing a \`${V}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${k}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},K=e.i(647163);function q({...e}){return(0,t.jsx)(R,{"data-slot":"alert-dialog",...e})}function J({...e}){return(0,t.jsx)(P,{"data-slot":"alert-dialog-portal",...e})}function W({className:e,...r}){return(0,t.jsx)(A,{"data-slot":"alert-dialog-overlay",className:(0,K.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function X({className:e,...r}){return(0,t.jsxs)(J,{children:[(0,t.jsx)(W,{}),(0,t.jsx)(O,{"data-slot":"alert-dialog-content",className:(0,K.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",e),...r})]})}function Y({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,K.cn)("flex flex-col gap-2 text-center sm:text-left",e),...r})}function G({className:e,...r}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,K.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...r})}function Z({className:e,...r}){return(0,t.jsx)(M,{"data-slot":"alert-dialog-title",className:(0,K.cn)("text-lg font-semibold",e),...r})}function Q({className:e,...r}){return(0,t.jsx)(_,{"data-slot":"alert-dialog-description",className:(0,K.cn)("text-muted-foreground text-sm",e),...r})}function ee({className:e,...r}){return(0,t.jsx)(H,{className:(0,K.cn)((0,a.buttonVariants)(),e),...r})}function et({className:e,...r}){return(0,t.jsx)($,{className:(0,K.cn)((0,a.buttonVariants)({variant:"outline"}),e),...r})}var er=e.i(692659);function es({user:e,isOpen:s,onClose:l,onUserUpdate:c}){let[p,y]=(0,r.useState)(e.role),[b,w]=(0,r.useState)(""),[N,C]=(0,r.useState)(""),[S,T]=(0,r.useState)(!1),[E,D]=(0,r.useState)(e.balance),{toast:R}=(0,m.useToast)(),P=async()=>{let t=Number(b);if(!Number.isFinite(t)||""===b.trim())return void R({title:"Invalid amount",description:"Enter a valid number (use negative for debit).",variant:"destructive"});try{let r=await (0,er.authFetch)("/api/admin/wallet/adjust",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id,amount:t,reason:N||void 0})}),s=await r.json().catch(()=>({}));if(!r.ok)return void R({title:"Adjustment failed",description:s?.error||"Server error",variant:"destructive"});let a=Number(s?.wallet?.balance??E+t);D(a),c?.({id:e.id,balance:a}),w(""),R({title:"Balance adjusted",description:`New balance: â‚¦${a.toLocaleString()}`})}catch(e){R({title:"Network error",description:String(e),variant:"destructive"})}},A=async()=>{try{let t=await (0,er.authFetch)(`/api/admin/users/${e.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:p})}),r=await t.json().catch(()=>({}));if(!t.ok||!r?.ok)return void R({title:"Role update failed",description:r?.error||"Server error",variant:"destructive"});c?.({id:e.id,role:p}),R({title:"Role updated",description:`Role changed to ${p}.`}),l()}catch(e){R({title:"Network error",description:String(e),variant:"destructive"})}};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Dialog,{open:s,onOpenChange:l,children:(0,t.jsxs)(x.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(x.DialogHeader,{children:[(0,t.jsx)(x.DialogTitle,{children:"User Details"}),(0,t.jsx)(x.DialogDescription,{children:"View and manage user account"})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Label,{className:"text-muted-foreground",children:"Name"}),(0,t.jsx)("p",{className:"font-medium",children:e.name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Label,{className:"text-muted-foreground",children:"Email"}),(0,t.jsx)("p",{className:"text-sm",children:e.email})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Label,{className:"text-muted-foreground",children:"Phone"}),(0,t.jsx)("p",{className:"text-sm",children:e.phone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Label,{className:"text-muted-foreground",children:"User ID"}),(0,t.jsx)("p",{className:"font-mono text-sm",children:e.id})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Label,{className:"text-muted-foreground",children:"Role"}),(0,t.jsx)("div",{className:"mt-1",children:(e=>{switch(e){case"admin":return(0,t.jsx)(o.Badge,{className:"bg-purple-100 text-purple-700 hover:bg-purple-100",children:"Admin"});case"agent":return(0,t.jsx)(o.Badge,{className:"bg-blue-100 text-blue-700 hover:bg-blue-100",children:"Agent"});case"user":return(0,t.jsx)(o.Badge,{variant:"outline",children:"User"})}})(e.role)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Label,{className:"text-muted-foreground",children:"Status"}),(0,t.jsx)("div",{className:"mt-1",children:(e=>{switch(e){case"active":return(0,t.jsx)(o.Badge,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Active"});case"suspended":return(0,t.jsx)(o.Badge,{className:"bg-red-100 text-red-700 hover:bg-red-100",children:"Suspended"});case"pending":return(0,t.jsx)(o.Badge,{className:"bg-yellow-100 text-yellow-700 hover:bg-yellow-100",children:"Pending"})}})(e.status)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Label,{className:"text-muted-foreground",children:"Join Date"}),(0,t.jsx)("p",{className:"text-sm",children:e.joinDate})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Label,{className:"text-muted-foreground",children:"Total Requests"}),(0,t.jsx)("p",{className:"text-sm font-semibold",children:e.totalRequests})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Label,{className:"text-muted-foreground",children:"Current Balance"}),(0,t.jsxs)("p",{className:"text-lg font-bold text-primary",children:["â‚¦",E.toLocaleString()]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(f.Label,{className:"text-muted-foreground",children:"Total Spent"}),(0,t.jsxs)("p",{className:"text-sm font-semibold",children:["â‚¦",e.totalSpent.toLocaleString()]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Label,{htmlFor:"role-select",children:"Update Role"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(i.Select,{value:p,onValueChange:e=>y(e),children:[(0,t.jsx)(i.SelectTrigger,{id:"role-select",children:(0,t.jsx)(i.SelectValue,{})}),(0,t.jsxs)(i.SelectContent,{children:[(0,t.jsx)(i.SelectItem,{value:"user",children:"User"}),(0,t.jsx)(i.SelectItem,{value:"agent",children:"Agent"}),(0,t.jsx)(i.SelectItem,{value:"admin",children:"Admin"})]})]}),(0,t.jsx)(a.Button,{onClick:A,children:"Update"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Label,{htmlFor:"balance-adjustment",children:"Adjust Balance"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.Input,{id:"balance-adjustment",type:"number",placeholder:"Enter amount (+ or -)",value:b,onChange:e=>w(e.target.value)}),(0,t.jsxs)(a.Button,{onClick:P,className:"flex items-center gap-2",children:[(0,t.jsx)(h.DollarSign,{className:"h-4 w-4"}),"Adjust"]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(f.Label,{htmlFor:"admin-notes",children:"Admin Notes"}),(0,t.jsx)(g.Textarea,{id:"admin-notes",placeholder:"Add notes about this user...",value:N,onChange:e=>C(e.target.value),rows:3})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(f.Label,{children:"User Actions"}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-2",children:["suspended"===e.status&&(0,t.jsxs)(a.Button,{onClick:()=>{(0,er.authFetch)(`/api/admin/users/${e.id}/actions?action=ACTIVATE`,{method:"POST",headers:{"Content-Type":"application/json","x-action":"ACTIVATE"},body:JSON.stringify({action:"ACTIVATE",note:N||void 0})}).then(e=>e.json().catch(()=>({}))).then(t=>{t?.ok?(c?.({id:e.id,status:"active"}),R({title:"User activated",description:`${e.name} has been activated.`}),l()):R({title:"Activate failed",description:t?.error||"Server error",variant:"destructive"})}).catch(e=>R({title:"Network error",description:String(e),variant:"destructive"}))},className:"flex items-center gap-2",children:[(0,t.jsx)(d.UserCheck,{className:"h-4 w-4"}),"Activate User"]}),"pending"===e.status&&(0,t.jsxs)(a.Button,{onClick:()=>{(0,er.authFetch)(`/api/admin/users/${e.id}/actions?action=VERIFY`,{method:"POST",headers:{"Content-Type":"application/json","x-action":"VERIFY"},body:JSON.stringify({action:"VERIFY",note:N||void 0})}).then(e=>e.json().catch(()=>({}))).then(t=>{t?.ok?(c?.({id:e.id,status:"active"}),R({title:"User verified",description:`${e.name} has been verified.`}),l()):R({title:"Verify failed",description:t?.error||"Server error",variant:"destructive"})}).catch(e=>R({title:"Network error",description:String(e),variant:"destructive"}))},className:"flex items-center gap-2",children:[(0,t.jsx)(d.UserCheck,{className:"h-4 w-4"}),"Verify User"]}),"active"===e.status&&(0,t.jsxs)(a.Button,{onClick:()=>{(0,er.authFetch)(`/api/admin/users/${e.id}/actions?action=SUSPEND`,{method:"POST",headers:{"Content-Type":"application/json","x-action":"SUSPEND"},body:JSON.stringify({action:"SUSPEND",note:N||void 0})}).then(e=>e.json().catch(()=>({}))).then(t=>{t?.ok?(c?.({id:e.id,status:"suspended"}),R({title:"User suspended",description:`${e.name} has been suspended.`}),l()):R({title:"Suspend failed",description:t?.error||"Server error",variant:"destructive"})}).catch(e=>R({title:"Network error",description:String(e),variant:"destructive"}))},variant:"destructive",className:"flex items-center gap-2",children:[(0,t.jsx)(u,{className:"h-4 w-4"}),"Suspend User"]}),(0,t.jsxs)(a.Button,{onClick:()=>{console.log("[v0] Resetting password for:",e.id),alert(`Password reset link sent to ${e.email}`)},variant:"outline",className:"flex items-center gap-2 bg-transparent",children:[(0,t.jsx)(v,{className:"h-4 w-4"}),"Reset Password"]}),(0,t.jsxs)(a.Button,{onClick:()=>{console.log("[v0] Resetting PIN for:",e.id),alert(`PIN has been reset for ${e.name}`)},variant:"outline",className:"flex items-center gap-2 bg-transparent",children:[(0,t.jsx)(v,{className:"h-4 w-4"}),"Reset Pin"]}),(0,t.jsxs)(a.Button,{onClick:()=>T(!0),variant:"destructive",className:"flex items-center gap-2",children:[(0,t.jsx)(j.Trash2,{className:"h-4 w-4"}),"Delete User"]}),(0,t.jsx)(a.Button,{variant:"outline",onClick:l,children:"Close"})]})]})]})]})}),(0,t.jsx)(q,{open:S,onOpenChange:T,children:(0,t.jsxs)(X,{children:[(0,t.jsxs)(Y,{children:[(0,t.jsx)(Z,{children:"Are you sure?"}),(0,t.jsxs)(Q,{children:["This will permanently delete the user account for ",(0,t.jsx)("strong",{children:e.name}),". This action cannot be undone."]})]}),(0,t.jsxs)(G,{children:[(0,t.jsx)(et,{children:"Cancel"}),(0,t.jsx)(ee,{onClick:()=>{console.log("[v0] Deleting user:",e.id),alert(`User ${e.name} has been deleted`),T(!1),l()},className:"bg-destructive text-destructive-foreground",children:"Delete User"})]})]})})]})}var ea=e.i(334863);function en(){let[e,c]=(0,r.useState)(""),[m,x]=(0,r.useState)("all"),[f,g]=(0,r.useState)("all"),[h,v]=(0,r.useState)(null),[j,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)([]),[N,C]=(0,r.useState)(!0);(0,r.useEffect)(()=>{let e=!0;return(async()=>{C(!0);try{let t=await (0,er.authFetch)("/api/admin/users",{method:"GET"}),r=await t.json().catch(()=>({}));t.ok&&r?.users&&e&&w(r.users)}catch{}C(!1)})(),()=>{e=!1}},[]);let S=b.filter(t=>{let r=t.name.toLowerCase().includes(e.toLowerCase())||t.email.toLowerCase().includes(e.toLowerCase())||t.phone.includes(e),s="all"===m||t.role===m,a="all"===f||t.status===f;return r&&s&&a}),T=(0,r.useMemo)(()=>{let e=b.length;return{totalUsers:e,activeAgents:b.filter(e=>"agent"===e.role).length,pendingVerifications:b.filter(e=>"pending"===e.status).length}},[b]);return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)(ea.Toaster,{}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Agents & Users"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Manage user accounts and agent assignments"})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{className:"pb-2",children:(0,t.jsxs)(s.CardDescription,{className:"flex items-center gap-2",children:[(0,t.jsx)(l.Users,{className:"h-4 w-4"}),"Total Users"]})}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold",children:T.totalUsers.toLocaleString()}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Registered accounts"})]})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{className:"pb-2",children:(0,t.jsxs)(s.CardDescription,{className:"flex items-center gap-2",children:[(0,t.jsx)(d.UserCheck,{className:"h-4 w-4"}),"Active Agents"]})}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-green-600",children:T.activeAgents}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Verified agents"})]})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{className:"pb-2",children:(0,t.jsxs)(s.CardDescription,{className:"flex items-center gap-2",children:[(0,t.jsx)(u,{className:"h-4 w-4"}),"Pending Verifications"]})}),(0,t.jsxs)(s.CardContent,{children:[(0,t.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:T.pendingVerifications}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsx)(s.CardHeader,{children:(0,t.jsx)(s.CardTitle,{children:"Filter Users"})}),(0,t.jsx)(s.CardContent,{children:(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)(n.Input,{placeholder:"Search by name, email, or phone...",value:e,onChange:e=>c(e.target.value)})}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)(i.Select,{value:m,onValueChange:x,children:[(0,t.jsx)(i.SelectTrigger,{children:(0,t.jsx)(i.SelectValue,{placeholder:"Filter by role"})}),(0,t.jsxs)(i.SelectContent,{children:[(0,t.jsx)(i.SelectItem,{value:"all",children:"All Roles"}),(0,t.jsx)(i.SelectItem,{value:"user",children:"User"}),(0,t.jsx)(i.SelectItem,{value:"agent",children:"Agent"}),(0,t.jsx)(i.SelectItem,{value:"admin",children:"Admin"})]})]})}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)(i.Select,{value:f,onValueChange:g,children:[(0,t.jsx)(i.SelectTrigger,{children:(0,t.jsx)(i.SelectValue,{placeholder:"Filter by status"})}),(0,t.jsxs)(i.SelectContent,{children:[(0,t.jsx)(i.SelectItem,{value:"all",children:"All Statuses"}),(0,t.jsx)(i.SelectItem,{value:"active",children:"Active"}),(0,t.jsx)(i.SelectItem,{value:"suspended",children:"Suspended"}),(0,t.jsx)(i.SelectItem,{value:"pending",children:"Pending"})]})]})})]})})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsx)(s.CardTitle,{children:"User Accounts"}),(0,t.jsx)(s.CardDescription,{children:N?"Loading users...":`Showing ${S.length} users`})]}),(0,t.jsx)(s.CardContent,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("th",{className:"pb-3 text-left text-sm font-medium text-muted-foreground",children:"User"}),(0,t.jsx)("th",{className:"pb-3 text-left text-sm font-medium text-muted-foreground",children:"Phone"}),(0,t.jsx)("th",{className:"pb-3 text-left text-sm font-medium text-muted-foreground",children:"Role"}),(0,t.jsx)("th",{className:"pb-3 text-left text-sm font-medium text-muted-foreground",children:"Status"}),(0,t.jsx)("th",{className:"pb-3 text-right text-sm font-medium text-muted-foreground",children:"Balance"}),(0,t.jsx)("th",{className:"pb-3 text-right text-sm font-medium text-muted-foreground",children:"Requests"}),(0,t.jsx)("th",{className:"pb-3 text-left text-sm font-medium text-muted-foreground",children:"Join Date"}),(0,t.jsx)("th",{className:"pb-3 text-left text-sm font-medium text-muted-foreground",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:S.map(e=>(0,t.jsxs)("tr",{className:"border-b last:border-0",children:[(0,t.jsxs)("td",{className:"py-3",children:[(0,t.jsx)("div",{className:"text-sm font-medium",children:e.name}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:e.email})]}),(0,t.jsx)("td",{className:"py-3 text-sm",children:e.phone}),(0,t.jsx)("td",{className:"py-3",children:(e=>{switch(e){case"admin":return(0,t.jsx)(o.Badge,{className:"bg-purple-100 text-purple-700 hover:bg-purple-100",children:"Admin"});case"agent":return(0,t.jsx)(o.Badge,{className:"bg-blue-100 text-blue-700 hover:bg-blue-100",children:"Agent"});case"user":return(0,t.jsx)(o.Badge,{variant:"outline",children:"User"})}})(e.role)}),(0,t.jsx)("td",{className:"py-3",children:(e=>{switch(e){case"active":return(0,t.jsx)(o.Badge,{className:"bg-green-100 text-green-700 hover:bg-green-100",children:"Active"});case"suspended":return(0,t.jsx)(o.Badge,{className:"bg-red-100 text-red-700 hover:bg-red-100",children:"Suspended"});case"pending":return(0,t.jsx)(o.Badge,{className:"bg-yellow-100 text-yellow-700 hover:bg-yellow-100",children:"Pending"})}})(e.status)}),(0,t.jsxs)("td",{className:"py-3 text-right text-sm font-semibold",children:["â‚¦",e.balance.toLocaleString()]}),(0,t.jsx)("td",{className:"py-3 text-right text-sm",children:e.totalRequests}),(0,t.jsx)("td",{className:"py-3 text-sm text-muted-foreground",children:e.joinDate}),(0,t.jsx)("td",{className:"py-3",children:(0,t.jsx)(a.Button,{variant:"ghost",size:"sm",onClick:()=>{v(e),y(!0)},children:(0,t.jsx)(p.Eye,{className:"h-4 w-4"})})})]},e.id))})]})})})]}),h&&(0,t.jsx)(es,{user:h,isOpen:j,onClose:()=>y(!1),onUserUpdate:e=>{w(t=>t.map(t=>t.id===e.id?{...t,...e}:t)),v(t=>t&&t.id===e.id?{...t,...e}:t)}})]})}e.s(["default",()=>en],451364)}]);