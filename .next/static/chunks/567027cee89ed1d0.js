(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,595468,e=>{"use strict";let s=(0,e.i(475254).default)("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);e.s(["CheckCircle2",()=>s],595468)},750769,e=>{"use strict";var s=e.i(271645),t=e.i(692659);function i(e){try{let s=String(e?.role||"").toLowerCase(),t=Array.isArray(e?.roles)?e.roles.map(e=>String(e).toLowerCase()):[];return s.includes("marketer")||t.includes("marketer")||e?.isMarketer===!0?"marketer":"user"}catch{return"user"}}async function r(){try{let e=await fetch("/api/me");if(!e.ok)return"user";let s=await e.json().catch(()=>null);return i(s?.user||s)}catch{return"user"}}function a(e,a,n,l,c){let[d,o]=(0,s.useState)(()=>i(c)),[u,m]=(0,s.useState)(null),[p,x]=(0,s.useState)(!1),[h,v]=(0,s.useState)(null),[g,b]=(0,s.useState)(void 0),f=(0,s.useMemo)(()=>({category:String(e||"").trim(),subservice:String(a||"").trim(),variant:String(n||"").trim()}),[e,a,n]),j=(0,s.useMemo)(()=>{if(!l||"object"!=typeof l)return"";let e=Object.entries(l).filter(([e,s])=>null!=s);return e.length?(e.sort(([e],[s])=>e.localeCompare(s)),e.map(([e,s])=>`${e}=${String(s)}`).join("|")):""},[l]);return(0,s.useEffect)(()=>{let e=!1;return(async()=>{x(!0),v(null);try{let s=c?i(c):await r();e||o(s);let t=[["category",f.category],["subservice",f.subservice],["variant",f.variant],["role",s]];if(l&&"object"==typeof l){let e=Object.entries(l).filter(([e,s])=>null!=s);for(let[s,i]of(e.sort(([e],[s])=>e.localeCompare(s)),e))t.push([s,String(i)])}let a=new URLSearchParams(t),n=await fetch(`/api/pricing?${a.toString()}`,{cache:"no-store"}),d=await n.json().catch(()=>null);if(!n.ok)throw Error(String(d?.error||"Failed to load pricing"));let u=d?.price;m("number"==typeof u?u:null)}catch(e){v(e?.message||"Failed to fetch pricing"),m(null)}finally{e||x(!1)}})(),()=>{e=!0}},[f.category,f.subservice,f.variant,j,c]),{price:u,isLoading:p,error:h,reference:g,submitService:(0,s.useCallback)(async e=>{try{let s={amount:Number(e.amount),idempotencyKey:"string"==typeof e.idempotencyKey?e.idempotencyKey:void 0,params:{...e||{}},subServiceId:f.variant||void 0,action:function(e,s){let t=e.trim().toLowerCase(),i=s.trim().toLowerCase();if("nin"===t){if("slip"===i)return"nin.slip";if("printout"===i)return"nin.printout";if("advanced"===i||"verification"===i)return"nin.advanced"}if("bvn"===t){if("printout"===i)return"bvn.printout";if("retrieval"===i||"retrieval_phone"===i)return"bvn.retrieval_phone";if("advanced"===i||"verification"===i)return"bvn.advanced"}if("cac"===t){if("info"===i)return"cac.info";if("status"===i)return"cac.status"}return"passport"===t&&("verify"===i||"verification"===i||"basic"===i)?"passport.verify":"phone"===t&&("advanced"===i||"verification"===i||"basic"===i)?"phone.verify_advanced":("driver-license"===t||"drivers_license"===t)&&("basic"===i||"verification"===i)?"drivers_license.verify":("voters-card"===t||"voters"===t)&&("basic"===i||"full"===i||"verification"===i)?"voters.verify":("plate-number"===t||"plate"===t)&&("basic"===i||"verification"===i)?"plate.verify":"tin"===t&&("basic"===i||"certificate"===i||"verification"===i)?"tin.verify":null}(f.category,f.subservice)||void 0,pin:e.pin},i=await (0,t.authFetch)(`/api/service/${encodeURIComponent(f.category)}/${encodeURIComponent(f.subservice)}`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(s)}),r=await i.json().catch(()=>null);if(!i.ok)return{ok:!1,error:String(r?.error||`Service failed (${i.status})`),message:String(r?.message||"Failed"),data:r};return b(String(r?.reference||"")),{ok:!0,reference:String(r?.reference||""),message:String(r?.message||""),data:r}}catch(e){return{ok:!1,error:String(e?.message||e)}}},[f.category,f.subservice,f.variant])}}e.s(["default",0,a,"useDynamicPricing",()=>a])},330843,e=>{"use strict";var s=e.i(843476),t=e.i(271645),i=e.i(630374),r=e.i(167881),a=e.i(23750),n=e.i(10708),l=e.i(846696);function c({isOpen:e,onClose:c,onConfirm:d,isLoading:o}){let[u,m]=(0,t.useState)(""),p=()=>{4!==u.length?l.toast.error("Please enter a 4-digit PIN"):(d(u),m(""))};return(0,s.jsx)(i.Dialog,{open:e,onOpenChange:e=>!e&&c(),children:(0,s.jsxs)(i.DialogContent,{className:"sm:max-w-md",children:[(0,s.jsxs)(i.DialogHeader,{children:[(0,s.jsx)(i.DialogTitle,{children:"Enter Transaction PIN"}),(0,s.jsx)(i.DialogDescription,{children:"Please enter your 4-digit transaction PIN to authorize this request."})]}),(0,s.jsx)("div",{className:"space-y-4 py-4",children:(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"pin",className:"text-center block",children:"PIN"}),(0,s.jsx)(a.Input,{id:"pin",type:"password",inputMode:"numeric",maxLength:4,value:u,onChange:e=>m(e.target.value.replace(/\D/g,"")),className:"text-center text-2xl tracking-[1em]",placeholder:"••••",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&p()}})]})}),(0,s.jsxs)(i.DialogFooter,{children:[(0,s.jsx)(r.Button,{variant:"outline",onClick:c,disabled:o,children:"Cancel"}),(0,s.jsx)(r.Button,{onClick:p,disabled:o||4!==u.length,className:"bg-[#3457D5]",children:o?"Verifying...":"Confirm PIN"})]})]})})}e.s(["PinPrompt",()=>c])},929054,e=>{"use strict";function s(e,t,i="Error"){t({title:i,description:e.error||e.message||"An unexpected error occurred",variant:"destructive"})}e.s(["handleServiceError",()=>s])},184762,e=>{"use strict";var s=e.i(843476),t=e.i(647163);function i({className:e,...i}){return(0,s.jsx)("textarea",{"data-slot":"textarea",className:(0,t.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...i})}e.s(["Textarea",()=>i])},781947,e=>{"use strict";var s=e.i(843476),t=e.i(225913),i=e.i(647163);let r=(0,t.cva)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function a({className:e,variant:t,...a}){return(0,s.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,i.cn)(r({variant:t}),e),...a})}function n({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"alert-title",className:(0,i.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",e),...t})}function l({className:e,...t}){return(0,s.jsx)("div",{"data-slot":"alert-description",className:(0,i.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",e),...t})}e.s(["Alert",()=>a,"AlertDescription",()=>l,"AlertTitle",()=>n])},127341,e=>{"use strict";var s=e.i(843476),t=e.i(271645),i=e.i(981140),r=e.i(30030),a=e.i(842727),n=e.i(296626),l=e.i(248425),c=e.i(586318),d=e.i(369340),o=e.i(610772),u="Tabs",[m,p]=(0,r.createContextScope)(u,[a.createRovingFocusGroupScope]),x=(0,a.createRovingFocusGroupScope)(),[h,v]=m(u),g=t.forwardRef((e,t)=>{let{__scopeTabs:i,value:r,onValueChange:a,defaultValue:n,orientation:m="horizontal",dir:p,activationMode:x="automatic",...v}=e,g=(0,c.useDirection)(p),[b,f]=(0,d.useControllableState)({prop:r,onChange:a,defaultProp:n??"",caller:u});return(0,s.jsx)(h,{scope:i,baseId:(0,o.useId)(),value:b,onValueChange:f,orientation:m,dir:g,activationMode:x,children:(0,s.jsx)(l.Primitive.div,{dir:g,"data-orientation":m,...v,ref:t})})});g.displayName=u;var b="TabsList",f=t.forwardRef((e,t)=>{let{__scopeTabs:i,loop:r=!0,...n}=e,c=v(b,i),d=x(i);return(0,s.jsx)(a.Root,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:r,children:(0,s.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":c.orientation,...n,ref:t})})});f.displayName=b;var j="TabsTrigger",N=t.forwardRef((e,t)=>{let{__scopeTabs:r,value:n,disabled:c=!1,...d}=e,o=v(j,r),u=x(r),m=w(o.baseId,n),p=S(o.baseId,n),h=n===o.value;return(0,s.jsx)(a.Item,{asChild:!0,...u,focusable:!c,active:h,children:(0,s.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":p,"data-state":h?"active":"inactive","data-disabled":c?"":void 0,disabled:c,id:m,...d,ref:t,onMouseDown:(0,i.composeEventHandlers)(e.onMouseDown,e=>{c||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(n)}),onKeyDown:(0,i.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(n)}),onFocus:(0,i.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==o.activationMode;h||c||!e||o.onValueChange(n)})})})});N.displayName=j;var y="TabsContent",C=t.forwardRef((e,i)=>{let{__scopeTabs:r,value:a,forceMount:c,children:d,...o}=e,u=v(y,r),m=w(u.baseId,a),p=S(u.baseId,a),x=a===u.value,h=t.useRef(x);return t.useEffect(()=>{let e=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,s.jsx)(n.Presence,{present:c||x,children:({present:t})=>(0,s.jsx)(l.Primitive.div,{"data-state":x?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!t,id:p,tabIndex:0,...o,ref:i,style:{...e.style,animationDuration:h.current?"0s":void 0},children:t&&d})})});function w(e,s){return`${e}-trigger-${s}`}function S(e,s){return`${e}-content-${s}`}C.displayName=y;var T=e.i(647163);function D({className:e,...t}){return(0,s.jsx)(g,{"data-slot":"tabs",className:(0,T.cn)("flex flex-col gap-2",e),...t})}function A({className:e,...t}){return(0,s.jsx)(f,{"data-slot":"tabs-list",className:(0,T.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",e),...t})}function P({className:e,...t}){return(0,s.jsx)(N,{"data-slot":"tabs-trigger",className:(0,T.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function B({className:e,...t}){return(0,s.jsx)(C,{"data-slot":"tabs-content",className:(0,T.cn)("flex-1 outline-none",e),...t})}e.s(["Tabs",()=>D,"TabsContent",()=>B,"TabsList",()=>A,"TabsTrigger",()=>P],127341)},330958,527026,e=>{"use strict";var s=e.i(271645);function t(){let[e,t]=(0,s.useState)(null),[i,r]=(0,s.useState)(!1),[a,n]=(0,s.useState)(!0);(0,s.useEffect)(()=>{l()},[]);let l=async()=>{n(!0);try{let e=await fetch("/api/kyc/status");if(!e.ok)throw Error("Failed to fetch KYC status");let s=await e.json();if(s?.status&&"NONE"!==s.status){let e="APPROVED"===s.status?"Approved":"PENDING"===s.status?"Pending":"REJECTED"===s.status?"Rejected":null;t(e)}else t(null)}catch(e){console.error("[v0] Error checking KYC status:",e),t(null)}finally{n(!1)}};return{kycStatus:e,isKYCApproved:"Approved"===e,showKYCModal:i,setShowKYCModal:r,requireKYC:()=>"Approved"===e||(r(!0),!1),isLoading:a}}e.s(["useKYCCheck",()=>t],330958);var i=e.i(843476),r=e.i(618566),a=e.i(630374),n=e.i(167881),l=e.i(581418),c=e.i(63209);function d({open:e,onOpenChange:s}){let t=(0,r.useRouter)();return(0,i.jsx)(a.Dialog,{open:e,onOpenChange:s,children:(0,i.jsxs)(a.DialogContent,{className:"sm:max-w-md",children:[(0,i.jsxs)(a.DialogHeader,{children:[(0,i.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mx-auto mb-4",children:(0,i.jsx)(l.ShieldCheck,{className:"h-6 w-6 text-primary"})}),(0,i.jsx)(a.DialogTitle,{className:"text-center",children:"KYC Verification Required"}),(0,i.jsx)(a.DialogDescription,{className:"text-center",children:"You need to complete your identity verification before accessing this service."})]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-muted rounded-lg",children:[(0,i.jsx)(c.AlertCircle,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),(0,i.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,i.jsx)("p",{className:"font-medium text-foreground mb-1",children:"Why is KYC required?"}),(0,i.jsx)("p",{children:"Identity verification helps us ensure the security of your account and comply with regulatory requirements."})]})]}),(0,i.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,i.jsx)(n.Button,{variant:"outline",onClick:()=>s(!1),className:"flex-1",children:"Cancel"}),(0,i.jsx)(n.Button,{onClick:()=>{s(!1),t.push("/dashboard/kyc")},className:"flex-1",children:"Start KYC Verification"})]})]})]})})}e.s(["KYCRequiredModal",()=>d],527026)},697446,e=>{"use strict";var s=e.i(843476),t=e.i(271645),i=e.i(167881),r=e.i(970065),a=e.i(23750),n=e.i(10708),l=e.i(62870),c=e.i(127341),d=e.i(781947),o=e.i(994179),u=e.i(531278),m=e.i(595468),p=e.i(63209),x=e.i(37727),h=e.i(184762),v=e.i(330843),g=e.i(929054),b=e.i(330958),f=e.i(527026),j=e.i(750769);let N=["Federal","National","Government","State","Ministry","Commission","Authority","Bank","Insurance","University"],y=["NIN","Passport","Driver's License","Voter's Card"],C=["Sole Proprietorship","Partnership","Limited Liability Company","Public Limited Company","NGO","Incorporated Trustees"];function w(){let e,{showKYCModal:w,setShowKYCModal:S,requireKYC:T}=(0,b.useKYCCheck)(),[D,A]=(0,t.useState)("BN"),[P,B]=(0,t.useState)(!1),[k,F]=(0,t.useState)(!1),[I,L]=(0,t.useState)(null),[O,R]=(0,t.useState)(!1),[E,q]=(0,t.useState)(!1),[K,V]=(0,t.useState)(null),[M,Y]=(0,t.useState)({fullName:"",dateOfBirth:"",nationality:"Nigerian",idType:"",idFile:null,passportPhoto:null,businessName:"",businessObjectives:"",businessType:"",businessAddress:"",residenceAddress:"",commencementDate:"",rcNumber:"",directors:[]}),[z,G]=(0,t.useState)({}),{price:_,isLoading:U,error:$,submitService:H}=(0,j.default)("cac","registration",D.toLowerCase(),{directorsCount:M.directors.length,businessType:M.businessType?M.businessType.toLowerCase():""}),J=async()=>{M.businessName&&(R(!0),await new Promise(e=>setTimeout(e,1500)),L(Math.random()>.3),R(!1))},W=(e,s)=>{if(s){if(!["image/jpeg","image/png","application/pdf"].includes(s.type))return void G({...z,[e]:"Only JPEG, PNG, or PDF files are allowed"});if(s.size>5242880)return void G({...z,[e]:"File size must be less than 5MB"})}Y({...M,[e]:s}),G({...z,[e]:""})},X=(e,s,t)=>{Y({...M,directors:M.directors.map(i=>i.id===e?{...i,[s]:t}:i)})},Q=async e=>{let s;e.preventDefault(),T()&&(s={},M.fullName||(s.fullName="Full name is required"),M.dateOfBirth||(s.dateOfBirth="Date of birth is required"),M.nationality||(s.nationality="Nationality is required"),M.idType||(s.idType="ID type is required"),M.idFile||(s.idFile="ID document is required"),M.passportPhoto||(s.passportPhoto="Passport photo is required"),M.businessName||(s.businessName="Business name is required"),M.businessObjectives||(s.businessObjectives="Business objectives are required"),M.businessType||(s.businessType="Business type is required"),M.businessAddress||(s.businessAddress="Business address is required"),M.commencementDate||(s.commencementDate="Commencement date is required"),"RC"===D&&0===M.directors.length&&(s.directors="At least one director is required for company registration"),G(s),0===Object.keys(s).length&&(V({amount:Number(_),businessName:M.businessName,businessObjectives:M.businessObjectives,businessType:M.businessType,businessAddress:M.businessAddress,residenceAddress:M.residenceAddress,commencementDate:M.commencementDate,directors:M.directors.map(e=>({name:e.name,dateOfBirth:e.dateOfBirth,idType:e.idType})),idType:M.idType,rcNumber:M.rcNumber,category:"cac",variant:D.toLowerCase()}),q(!0)))},Z=async e=>{q(!1),B(!0);try{let s=await H({...K,pin:e});if(!s.ok)return void(0,g.handleServiceError)(s,null,"Submission failed");console.log("Form submitted:",{mode:D,formData:K,reference:s.reference}),F(!0)}catch(e){G({submit:e.message||"An unexpected error occurred"})}finally{B(!1)}};return k?(0,s.jsx)(r.Card,{className:"shadow-lg",children:(0,s.jsx)(r.CardContent,{className:"pt-6",children:(0,s.jsxs)("div",{className:"text-center py-12",children:[(0,s.jsx)(m.CheckCircle2,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),(0,s.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Application Submitted Successfully!"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-6",children:"Your CAC registration application has been submitted. We will process your request and contact you soon."}),(0,s.jsx)(i.Button,{onClick:()=>F(!1),children:"Submit Another Application"})]})})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(r.Card,{className:"shadow-lg",children:[(0,s.jsxs)(r.CardHeader,{children:[(0,s.jsx)(r.CardTitle,{children:"Registration Form"}),(0,s.jsx)(r.CardDescription,{children:"Choose your registration type and fill in the required information"})]}),(0,s.jsx)(r.CardContent,{children:(0,s.jsxs)("form",{onSubmit:Q,className:"space-y-8",children:[(0,s.jsxs)(c.Tabs,{value:D,onValueChange:e=>A(e),children:[(0,s.jsxs)(c.TabsList,{className:"grid w-full grid-cols-2",children:[(0,s.jsx)(c.TabsTrigger,{value:"BN",children:"Business Name (BN)"}),(0,s.jsx)(c.TabsTrigger,{value:"RC",children:"Company Registration (RC)"})]}),(0,s.jsx)(c.TabsContent,{value:"BN",className:"space-y-6 mt-6",children:(0,s.jsx)(d.Alert,{children:(0,s.jsx)(d.AlertDescription,{children:"Business Name registration is suitable for sole proprietorships and partnerships."})})}),(0,s.jsx)(c.TabsContent,{value:"RC",className:"space-y-6 mt-6",children:(0,s.jsx)(d.Alert,{children:(0,s.jsx)(d.AlertDescription,{children:"Company Registration (RC) is for Limited Liability Companies, PLCs, and Incorporated Trustees."})})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground border-b pb-2",children:"Personal Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(n.Label,{htmlFor:"fullName",children:["Full Name of Proprietor / Main Applicant ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(a.Input,{id:"fullName",value:M.fullName,onChange:e=>Y({...M,fullName:e.target.value}),placeholder:"Enter full name",className:z.fullName?"border-destructive":""}),z.fullName&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:z.fullName})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(n.Label,{htmlFor:"dateOfBirth",children:["Date of Birth ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(a.Input,{id:"dateOfBirth",type:"date",value:M.dateOfBirth,onChange:e=>Y({...M,dateOfBirth:e.target.value}),className:z.dateOfBirth?"border-destructive":""}),z.dateOfBirth&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:z.dateOfBirth})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(n.Label,{htmlFor:"nationality",children:["Nationality ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(a.Input,{id:"nationality",value:M.nationality,onChange:e=>Y({...M,nationality:e.target.value}),placeholder:"Enter nationality",className:z.nationality?"border-destructive":""}),z.nationality&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:z.nationality})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(n.Label,{htmlFor:"idType",children:["Means of Identification ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)(l.Select,{value:M.idType,onValueChange:e=>Y({...M,idType:e}),children:[(0,s.jsx)(l.SelectTrigger,{className:z.idType?"border-destructive":"",children:(0,s.jsx)(l.SelectValue,{placeholder:"Select ID type"})}),(0,s.jsx)(l.SelectContent,{children:y.map(e=>(0,s.jsx)(l.SelectItem,{value:e,children:e},e))})]}),z.idType&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:z.idType})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(n.Label,{htmlFor:"idFile",children:["Upload ID Document ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.Input,{id:"idFile",type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:e=>W("idFile",e.target.files?.[0]||null),className:z.idFile?"border-destructive":""}),M.idFile&&(0,s.jsxs)(o.Badge,{variant:"secondary",className:"flex items-center gap-1",children:[(0,s.jsx)(m.CheckCircle2,{className:"h-3 w-3"}),"Uploaded"]})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"JPEG, PNG, or PDF (max 5MB)"}),z.idFile&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:z.idFile})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(n.Label,{htmlFor:"passportPhoto",children:["Passport Photo ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.Input,{id:"passportPhoto",type:"file",accept:".jpg,.jpeg,.png",onChange:e=>W("passportPhoto",e.target.files?.[0]||null),className:z.passportPhoto?"border-destructive":""}),M.passportPhoto&&(0,s.jsxs)(o.Badge,{variant:"secondary",className:"flex items-center gap-1",children:[(0,s.jsx)(m.CheckCircle2,{className:"h-3 w-3"}),"Uploaded"]})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"JPEG or PNG (max 5MB)"}),z.passportPhoto&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:z.passportPhoto})]})]})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground border-b pb-2",children:"Business Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(n.Label,{htmlFor:"businessName",children:["Proposed Business / Company Name ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(a.Input,{id:"businessName",value:M.businessName,onChange:e=>{Y({...M,businessName:e.target.value}),L(null)},placeholder:"Enter business name",className:z.businessName?"border-destructive":""}),(0,s.jsx)(i.Button,{type:"button",variant:"outline",onClick:J,disabled:!M.businessName||O,children:O?(0,s.jsx)(u.Loader2,{className:"h-4 w-4 animate-spin"}):"Check"})]}),z.businessName&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:z.businessName}),!0===I&&(0,s.jsxs)(d.Alert,{className:"border-green-500 bg-green-50",children:[(0,s.jsx)(m.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,s.jsx)(d.AlertDescription,{className:"text-green-700",children:"Name is available!"})]}),!1===I&&(0,s.jsxs)(d.Alert,{className:"border-destructive bg-destructive/10",children:[(0,s.jsx)(p.AlertCircle,{className:"h-4 w-4 text-destructive"}),(0,s.jsx)(d.AlertDescription,{className:"text-destructive",children:"Name is not available. Please try another name."})]}),(e=M.businessName,N.some(s=>e.toLowerCase().includes(s.toLowerCase()))&&(0,s.jsxs)(d.Alert,{className:"border-yellow-500 bg-yellow-50",children:[(0,s.jsx)(p.AlertCircle,{className:"h-4 w-4 text-yellow-600"}),(0,s.jsx)(d.AlertDescription,{className:"text-yellow-700",children:"This name contains restricted words that may require special approval from relevant authorities."})]}))]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(n.Label,{htmlFor:"businessObjectives",children:["Business Objectives / Line of Business ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(h.Textarea,{id:"businessObjectives",value:M.businessObjectives,onChange:e=>Y({...M,businessObjectives:e.target.value}),placeholder:"Describe your business objectives and activities",rows:4,className:z.businessObjectives?"border-destructive":""}),z.businessObjectives&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:z.businessObjectives})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(n.Label,{htmlFor:"businessType",children:["Business Type / Structure ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsxs)(l.Select,{value:M.businessType,onValueChange:e=>Y({...M,businessType:e}),children:[(0,s.jsx)(l.SelectTrigger,{className:z.businessType?"border-destructive":"",children:(0,s.jsx)(l.SelectValue,{placeholder:"Select business type"})}),(0,s.jsx)(l.SelectContent,{children:C.map(e=>(0,s.jsx)(l.SelectItem,{value:e,children:e},e))})]}),z.businessType&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:z.businessType})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(n.Label,{htmlFor:"commencementDate",children:["Proposed Date of Commencement ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(a.Input,{id:"commencementDate",type:"date",value:M.commencementDate,onChange:e=>Y({...M,commencementDate:e.target.value}),className:z.commencementDate?"border-destructive":""}),z.commencementDate&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:z.commencementDate})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)(n.Label,{htmlFor:"businessAddress",children:["Business Address ",(0,s.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,s.jsx)(h.Textarea,{id:"businessAddress",value:M.businessAddress,onChange:e=>Y({...M,businessAddress:e.target.value}),placeholder:"Enter complete business address",rows:3,className:z.businessAddress?"border-destructive":""}),z.businessAddress&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:z.businessAddress})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"residenceAddress",children:"Residence / Proprietor Address"}),(0,s.jsx)(h.Textarea,{id:"residenceAddress",value:M.residenceAddress,onChange:e=>Y({...M,residenceAddress:e.target.value}),placeholder:"Enter residence address (if different from business address)",rows:3})]})]})]}),"RC"===D&&(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between border-b pb-2",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Additional Directors"}),(0,s.jsx)(i.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{Y({...M,directors:[...M.directors,{id:Date.now().toString(),name:"",dateOfBirth:"",idType:"",idFile:null}]})},children:"Add Director"})]}),z.directors&&(0,s.jsx)("p",{className:"text-sm text-destructive",children:z.directors}),M.directors.map((e,t)=>(0,s.jsxs)(r.Card,{className:"bg-muted/50",children:[(0,s.jsx)(r.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(r.CardTitle,{className:"text-base",children:["Director ",t+1]}),(0,s.jsx)(i.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{var s;return s=e.id,void Y({...M,directors:M.directors.filter(e=>e.id!==s)})},className:"h-8 w-8 p-0",children:(0,s.jsx)(x.X,{className:"h-4 w-4"})})]})}),(0,s.jsx)(r.CardContent,{className:"space-y-4",children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{children:"Director Name"}),(0,s.jsx)(a.Input,{value:e.name,onChange:s=>X(e.id,"name",s.target.value),placeholder:"Enter director name"})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{children:"Date of Birth"}),(0,s.jsx)(a.Input,{type:"date",value:e.dateOfBirth,onChange:s=>X(e.id,"dateOfBirth",s.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{children:"ID Type"}),(0,s.jsxs)(l.Select,{value:e.idType,onValueChange:s=>X(e.id,"idType",s),children:[(0,s.jsx)(l.SelectTrigger,{children:(0,s.jsx)(l.SelectValue,{placeholder:"Select ID type"})}),(0,s.jsx)(l.SelectContent,{children:y.map(e=>(0,s.jsx)(l.SelectItem,{value:e,children:e},e))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{children:"Upload ID Document"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(a.Input,{type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:s=>X(e.id,"idFile",s.target.files?.[0]||null)}),e.idFile&&(0,s.jsx)(o.Badge,{variant:"secondary",className:"flex items-center gap-1",children:(0,s.jsx)(m.CheckCircle2,{className:"h-3 w-3"})})]})]})]})})]},e.id))]}),"RC"===D&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"rcNumber",children:"RC Number (if retrieving existing registration)"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"RC"}),(0,s.jsx)(a.Input,{id:"rcNumber",value:M.rcNumber,onChange:e=>{let s=e.target.value.replace(/[^0-9]/g,"").slice(0,7);Y({...M,rcNumber:s})},maxLength:7,placeholder:"Enter 7-digit number"})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter 7 digits only (RC prefix is automatic)"})]}),"BN"===D&&(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(n.Label,{htmlFor:"bnNumber",children:"BN Number (if retrieving existing registration)"}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"BN"}),(0,s.jsx)(a.Input,{id:"bnNumber",value:M.rcNumber,onChange:e=>{let s=e.target.value.replace(/[^0-9]/g,"").slice(0,7);Y({...M,rcNumber:s})},maxLength:7,placeholder:"Enter 7-digit number"})]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter 7 digits only (BN prefix is automatic)"})]}),(0,s.jsxs)(r.Card,{className:"bg-primary/5 border-primary/20",children:[(0,s.jsx)(r.CardHeader,{children:(0,s.jsx)(r.CardTitle,{className:"text-lg",children:"Estimated Price"})}),(0,s.jsxs)(r.CardContent,{children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"Based on registration mode, business type and directors"}),U?(0,s.jsx)("span",{className:"text-sm",children:"Fetching price..."}):null!=_?(0,s.jsxs)("span",{className:"text-xl font-bold text-primary",children:["₦",Number(_).toLocaleString()]}):(0,s.jsx)("span",{className:"text-sm text-muted-foreground",children:"—"})]}),$&&(0,s.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"Failed to load price. You can still submit."})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,s.jsx)(i.Button,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),(0,s.jsx)(i.Button,{type:"submit",disabled:P,className:"min-w-[150px]",children:P?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(u.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Application"})]}),z.submit&&(0,s.jsx)("p",{className:"text-sm text-red-600 text-right mt-2",children:z.submit})]})})]}),(0,s.jsx)(f.KYCRequiredModal,{open:w,onOpenChange:S}),(0,s.jsx)(v.PinPrompt,{isOpen:E,onClose:()=>q(!1),onConfirm:Z,isLoading:P})]})}var S=e.i(846932);function T(){return(0,s.jsx)("div",{className:"min-h-screen crosshatch-bg",children:(0,s.jsx)("main",{className:"py-12 px-4 sm:px-6 lg:px-8",children:(0,s.jsxs)(S.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-5xl mx-auto",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-4 text-balance",children:"CAC Registration"}),(0,s.jsx)("p",{className:"text-lg text-muted-foreground text-pretty",children:"Register your business name or company with the Corporate Affairs Commission"})]}),(0,s.jsx)(w,{})]})})})}e.s(["default",()=>T],697446)}]);