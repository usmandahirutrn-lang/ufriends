(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,970065,e=>{"use strict";var t=e.i(843476),a=e.i(647163);function s({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function i({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function r({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function n({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function d({className:e,...s}){return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",e),...s})}e.s(["Card",()=>s,"CardContent",()=>d,"CardDescription",()=>n,"CardHeader",()=>i,"CardTitle",()=>r])},794771,e=>{"use strict";let t=(0,e.i(475254).default)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);e.s(["CheckCheck",()=>t],794771)},417708,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(970065),i=e.i(167881),r=e.i(994179),n=e.i(245423),d=e.i(794771),c=e.i(531278),l=e.i(692659),o=e.i(647163);function m(){let[e,m]=(0,a.useState)([]),[h,x]=(0,a.useState)(!0),[u,f]=(0,a.useState)(!1),p=async()=>{try{let e=await (0,l.authFetch)("/api/notifications?limit=50");if(e.ok){let t=await e.json();m(t.notifications||[])}}catch{}finally{x(!1)}},j=async()=>{f(!0);try{await (0,l.authFetch)("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({markAllRead:!0})}),m(e=>e.map(e=>({...e,readAt:new Date().toISOString()})))}catch{}finally{f(!1)}},g=async e=>{try{await (0,l.authFetch)("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:[e]})}),m(t=>t.map(t=>t.id===e?{...t,readAt:new Date().toISOString()}:t))}catch{}};(0,a.useEffect)(()=>{p()},[]);let y=e.filter(e=>!e.readAt).length;return(0,t.jsxs)("div",{className:"space-y-6 p-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-[#3457D5]",children:(0,t.jsx)(n.Bell,{className:"h-6 w-6 text-white"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-[#3457D5]",children:"Admin Notifications"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"View all admin alerts and updates"})]})]}),y>0&&(0,t.jsxs)(i.Button,{onClick:j,disabled:u,variant:"outline",children:[u?(0,t.jsx)(c.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,t.jsx)(d.CheckCheck,{className:"mr-2 h-4 w-4"}),"Mark all as read (",y,")"]})]}),(0,t.jsxs)(s.Card,{children:[(0,t.jsxs)(s.CardHeader,{children:[(0,t.jsx)(s.CardTitle,{children:"All Notifications"}),(0,t.jsxs)(s.CardDescription,{children:[e.length," notification",1!==e.length?"s":""]})]}),(0,t.jsx)(s.CardContent,{children:h?(0,t.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,t.jsx)(c.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===e.length?(0,t.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,t.jsx)(n.Bell,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),(0,t.jsx)("p",{children:"No notifications yet"})]}):(0,t.jsx)("div",{className:"divide-y",children:e.map(e=>(0,t.jsx)("div",{className:(0,o.cn)("py-4 px-2 cursor-pointer hover:bg-muted/50 rounded-lg transition-colors",!e.readAt&&"bg-primary/5"),onClick:()=>!e.readAt&&g(e.id),children:(0,t.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("p",{className:"font-medium",children:e.title}),!e.readAt&&(0,t.jsx)(r.Badge,{variant:"secondary",className:"text-xs",children:"New"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.body}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:(e=>{let t=new Date(e),a=Math.floor((new Date().getTime()-t.getTime())/6e4);if(a<60)return`${a} minutes ago`;let s=Math.floor(a/60);if(s<24)return`${s} hours ago`;let i=Math.floor(s/24);return`${i} days ago`})(e.createdAt)})]})})},e.id))})})]})]})}e.s(["default",()=>m])}]);