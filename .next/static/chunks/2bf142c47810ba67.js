(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,750769,e=>{"use strict";var t=e.i(271645),r=e.i(692659);function a(e){try{let t=String(e?.role||"").toLowerCase(),r=Array.isArray(e?.roles)?e.roles.map(e=>String(e).toLowerCase()):[];return t.includes("marketer")||r.includes("marketer")||e?.isMarketer===!0?"marketer":"user"}catch{return"user"}}async function s(){try{let e=await fetch("/api/me");if(!e.ok)return"user";let t=await e.json().catch(()=>null);return a(t?.user||t)}catch{return"user"}}function i(e,i,n,l,o){let[c,d]=(0,t.useState)(()=>a(o)),[u,m]=(0,t.useState)(null),[h,p]=(0,t.useState)(!1),[x,f]=(0,t.useState)(null),[g,v]=(0,t.useState)(void 0),C=(0,t.useMemo)(()=>({category:String(e||"").trim(),subservice:String(i||"").trim(),variant:String(n||"").trim()}),[e,i,n]),b=(0,t.useMemo)(()=>{if(!l||"object"!=typeof l)return"";let e=Object.entries(l).filter(([e,t])=>null!=t);return e.length?(e.sort(([e],[t])=>e.localeCompare(t)),e.map(([e,t])=>`${e}=${String(t)}`).join("|")):""},[l]);return(0,t.useEffect)(()=>{let e=!1;return(async()=>{p(!0),f(null);try{let t=o?a(o):await s();e||d(t);let r=[["category",C.category],["subservice",C.subservice],["variant",C.variant],["role",t]];if(l&&"object"==typeof l){let e=Object.entries(l).filter(([e,t])=>null!=t);for(let[t,a]of(e.sort(([e],[t])=>e.localeCompare(t)),e))r.push([t,String(a)])}let i=new URLSearchParams(r),n=await fetch(`/api/pricing?${i.toString()}`,{cache:"no-store"}),c=await n.json().catch(()=>null);if(!n.ok)throw Error(String(c?.error||"Failed to load pricing"));let u=c?.price;m("number"==typeof u?u:null)}catch(e){f(e?.message||"Failed to fetch pricing"),m(null)}finally{e||p(!1)}})(),()=>{e=!0}},[C.category,C.subservice,C.variant,b,o]),{price:u,isLoading:h,error:x,reference:g,submitService:(0,t.useCallback)(async e=>{try{let t={amount:Number(e.amount),idempotencyKey:"string"==typeof e.idempotencyKey?e.idempotencyKey:void 0,params:{...e||{}},subServiceId:C.variant||void 0,action:function(e,t){let r=e.trim().toLowerCase(),a=t.trim().toLowerCase();if("nin"===r){if("slip"===a)return"nin.slip";if("printout"===a)return"nin.printout";if("advanced"===a||"verification"===a)return"nin.advanced"}if("bvn"===r){if("printout"===a)return"bvn.printout";if("retrieval"===a||"retrieval_phone"===a)return"bvn.retrieval_phone";if("advanced"===a||"verification"===a)return"bvn.advanced"}if("cac"===r){if("info"===a)return"cac.info";if("status"===a)return"cac.status"}return"passport"===r&&("verify"===a||"verification"===a||"basic"===a)?"passport.verify":"phone"===r&&("advanced"===a||"verification"===a||"basic"===a)?"phone.verify_advanced":("driver-license"===r||"drivers_license"===r)&&("basic"===a||"verification"===a)?"drivers_license.verify":("voters-card"===r||"voters"===r)&&("basic"===a||"full"===a||"verification"===a)?"voters.verify":("plate-number"===r||"plate"===r)&&("basic"===a||"verification"===a)?"plate.verify":"tin"===r&&("basic"===a||"certificate"===a||"verification"===a)?"tin.verify":null}(C.category,C.subservice)||void 0,pin:e.pin},a=await (0,r.authFetch)(`/api/service/${encodeURIComponent(C.category)}/${encodeURIComponent(C.subservice)}`,{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(t)}),s=await a.json().catch(()=>null);if(!a.ok)return{ok:!1,error:String(s?.error||`Service failed (${a.status})`),message:String(s?.message||"Failed"),data:s};return v(String(s?.reference||"")),{ok:!0,reference:String(s?.reference||""),message:String(s?.message||""),data:s}}catch(e){return{ok:!1,error:String(e?.message||e)}}},[C.category,C.subservice,C.variant])}}e.s(["default",0,i,"useDynamicPricing",()=>i])},330843,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(630374),s=e.i(167881),i=e.i(23750),n=e.i(10708),l=e.i(846696);function o({isOpen:e,onClose:o,onConfirm:c,isLoading:d}){let[u,m]=(0,r.useState)(""),h=()=>{4!==u.length?l.toast.error("Please enter a 4-digit PIN"):(c(u),m(""))};return(0,t.jsx)(a.Dialog,{open:e,onOpenChange:e=>!e&&o(),children:(0,t.jsxs)(a.DialogContent,{className:"sm:max-w-md",children:[(0,t.jsxs)(a.DialogHeader,{children:[(0,t.jsx)(a.DialogTitle,{children:"Enter Transaction PIN"}),(0,t.jsx)(a.DialogDescription,{children:"Please enter your 4-digit transaction PIN to authorize this request."})]}),(0,t.jsx)("div",{className:"space-y-4 py-4",children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{htmlFor:"pin",className:"text-center block",children:"PIN"}),(0,t.jsx)(i.Input,{id:"pin",type:"password",inputMode:"numeric",maxLength:4,value:u,onChange:e=>m(e.target.value.replace(/\D/g,"")),className:"text-center text-2xl tracking-[1em]",placeholder:"••••",autoFocus:!0,onKeyDown:e=>{"Enter"===e.key&&h()}})]})}),(0,t.jsxs)(a.DialogFooter,{children:[(0,t.jsx)(s.Button,{variant:"outline",onClick:o,disabled:d,children:"Cancel"}),(0,t.jsx)(s.Button,{onClick:h,disabled:d||4!==u.length,className:"bg-[#3457D5]",children:d?"Verifying...":"Confirm PIN"})]})]})})}e.s(["PinPrompt",()=>o])},929054,e=>{"use strict";function t(e,r,a="Error"){r({title:a,description:e.error||e.message||"An unexpected error occurred",variant:"destructive"})}e.s(["handleServiceError",()=>t])},184762,e=>{"use strict";var t=e.i(843476),r=e.i(647163);function a({className:e,...a}){return(0,t.jsx)("textarea",{"data-slot":"textarea",className:(0,r.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...a})}e.s(["Textarea",()=>a])},625959,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(820783),s=e.i(30030),i=e.i(981140),n=e.i(369340),l=e.i(999682),o=e.i(635804),c=e.i(296626),d=e.i(248425),u="Checkbox",[m,h]=(0,s.createContextScope)(u),[p,x]=m(u);function f(e){let{__scopeCheckbox:a,checked:s,children:i,defaultChecked:l,disabled:o,form:c,name:d,onCheckedChange:m,required:h,value:x="on",internal_do_not_use_render:f}=e,[g,v]=(0,n.useControllableState)({prop:s,defaultProp:l??!1,onChange:m,caller:u}),[C,b]=r.useState(null),[y,N]=r.useState(null),j=r.useRef(!1),D=!C||!!c||!!C.closest("form"),w={checked:g,disabled:o,setChecked:v,control:C,setControl:b,name:d,form:c,value:x,hasConsumerStoppedPropagationRef:j,required:h,defaultChecked:!S(l)&&l,isFormControl:D,bubbleInput:y,setBubbleInput:N};return(0,t.jsx)(p,{scope:a,...w,children:"function"==typeof f?f(w):i})}var g="CheckboxTrigger",v=r.forwardRef(({__scopeCheckbox:e,onKeyDown:s,onClick:n,...l},o)=>{let{control:c,value:u,disabled:m,checked:h,required:p,setControl:f,setChecked:v,hasConsumerStoppedPropagationRef:C,isFormControl:b,bubbleInput:y}=x(g,e),N=(0,a.useComposedRefs)(o,f),j=r.useRef(h);return r.useEffect(()=>{let e=c?.form;if(e){let t=()=>v(j.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}},[c,v]),(0,t.jsx)(d.Primitive.button,{type:"button",role:"checkbox","aria-checked":S(h)?"mixed":h,"aria-required":p,"data-state":D(h),"data-disabled":m?"":void 0,disabled:m,value:u,...l,ref:N,onKeyDown:(0,i.composeEventHandlers)(s,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:(0,i.composeEventHandlers)(n,e=>{v(e=>!!S(e)||!e),y&&b&&(C.current=e.isPropagationStopped(),C.current||e.stopPropagation())})})});v.displayName=g;var C=r.forwardRef((e,r)=>{let{__scopeCheckbox:a,name:s,checked:i,defaultChecked:n,required:l,disabled:o,value:c,onCheckedChange:d,form:u,...m}=e;return(0,t.jsx)(f,{__scopeCheckbox:a,checked:i,defaultChecked:n,disabled:o,required:l,onCheckedChange:d,name:s,form:u,value:c,internal_do_not_use_render:({isFormControl:e})=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(v,{...m,ref:r,__scopeCheckbox:a}),e&&(0,t.jsx)(j,{__scopeCheckbox:a})]})})});C.displayName=u;var b="CheckboxIndicator",y=r.forwardRef((e,r)=>{let{__scopeCheckbox:a,forceMount:s,...i}=e,n=x(b,a);return(0,t.jsx)(c.Presence,{present:s||S(n.checked)||!0===n.checked,children:(0,t.jsx)(d.Primitive.span,{"data-state":D(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:r,style:{pointerEvents:"none",...e.style}})})});y.displayName=b;var N="CheckboxBubbleInput",j=r.forwardRef(({__scopeCheckbox:e,...s},i)=>{let{control:n,hasConsumerStoppedPropagationRef:c,checked:u,defaultChecked:m,required:h,disabled:p,name:f,value:g,form:v,bubbleInput:C,setBubbleInput:b}=x(N,e),y=(0,a.useComposedRefs)(i,b),j=(0,l.usePrevious)(u),D=(0,o.useSize)(n);r.useEffect(()=>{if(!C)return;let e=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set,t=!c.current;if(j!==u&&e){let r=new Event("click",{bubbles:t});C.indeterminate=S(u),e.call(C,!S(u)&&u),C.dispatchEvent(r)}},[C,j,u,c]);let w=r.useRef(!S(u)&&u);return(0,t.jsx)(d.Primitive.input,{type:"checkbox","aria-hidden":!0,defaultChecked:m??w.current,required:h,disabled:p,name:f,value:g,form:v,...s,tabIndex:-1,ref:y,style:{...s.style,...D,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function S(e){return"indeterminate"===e}function D(e){return S(e)?"indeterminate":e?"checked":"unchecked"}j.displayName=N;var w=e.i(643531),k=e.i(647163);function F({className:e,...r}){return(0,t.jsx)(C,{"data-slot":"checkbox",className:(0,k.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...r,children:(0,t.jsx)(y,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(w.Check,{className:"size-3.5"})})})}e.s(["Checkbox",()=>F],625959)},569074,e=>{"use strict";let t=(0,e.i(475254).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);e.s(["Upload",()=>t],569074)},330958,527026,e=>{"use strict";var t=e.i(271645);function r(){let[e,r]=(0,t.useState)(null),[a,s]=(0,t.useState)(!1),[i,n]=(0,t.useState)(!0);(0,t.useEffect)(()=>{l()},[]);let l=async()=>{n(!0);try{let e=await fetch("/api/kyc/status");if(!e.ok)throw Error("Failed to fetch KYC status");let t=await e.json();if(t?.status&&"NONE"!==t.status){let e="APPROVED"===t.status?"Approved":"PENDING"===t.status?"Pending":"REJECTED"===t.status?"Rejected":null;r(e)}else r(null)}catch(e){console.error("[v0] Error checking KYC status:",e),r(null)}finally{n(!1)}};return{kycStatus:e,isKYCApproved:"Approved"===e,showKYCModal:a,setShowKYCModal:s,requireKYC:()=>"Approved"===e||(s(!0),!1),isLoading:i}}e.s(["useKYCCheck",()=>r],330958);var a=e.i(843476),s=e.i(618566),i=e.i(630374),n=e.i(167881),l=e.i(581418),o=e.i(63209);function c({open:e,onOpenChange:t}){let r=(0,s.useRouter)();return(0,a.jsx)(i.Dialog,{open:e,onOpenChange:t,children:(0,a.jsxs)(i.DialogContent,{className:"sm:max-w-md",children:[(0,a.jsxs)(i.DialogHeader,{children:[(0,a.jsx)("div",{className:"flex items-center justify-center w-12 h-12 rounded-full bg-primary/10 mx-auto mb-4",children:(0,a.jsx)(l.ShieldCheck,{className:"h-6 w-6 text-primary"})}),(0,a.jsx)(i.DialogTitle,{className:"text-center",children:"KYC Verification Required"}),(0,a.jsx)(i.DialogDescription,{className:"text-center",children:"You need to complete your identity verification before accessing this service."})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-muted rounded-lg",children:[(0,a.jsx)(o.AlertCircle,{className:"h-5 w-5 text-muted-foreground mt-0.5"}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[(0,a.jsx)("p",{className:"font-medium text-foreground mb-1",children:"Why is KYC required?"}),(0,a.jsx)("p",{children:"Identity verification helps us ensure the security of your account and comply with regulatory requirements."})]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2",children:[(0,a.jsx)(n.Button,{variant:"outline",onClick:()=>t(!1),className:"flex-1",children:"Cancel"}),(0,a.jsx)(n.Button,{onClick:()=>{t(!1),r.push("/dashboard/kyc")},className:"flex-1",children:"Start KYC Verification"})]})]})]})})}e.s(["KYCRequiredModal",()=>c],527026)},237978,e=>{"use strict";let t="ufriends_bvn_modification_requests";class r{static getAllRequests(){let e=localStorage.getItem(t);return e?JSON.parse(e):[]}static getUserRequests(e){return this.getAllRequests().filter(t=>t.userId===e)}static addRequest(e){let r={...e,id:crypto.randomUUID(),status:"Pending",submittedAt:new Date().toISOString()},a=this.getAllRequests();return a.push(r),localStorage.setItem(t,JSON.stringify(a)),r}static updateRequestStatus(e,r,a){let s=this.getAllRequests(),i=s.findIndex(t=>t.id===e);return -1===i?null:(s[i].status=r,s[i].processedAt=new Date().toISOString(),a&&(s[i].rejectionReason=a),localStorage.setItem(t,JSON.stringify(s)),s[i])}static getRequestById(e){return this.getAllRequests().find(t=>t.id===e)||null}}e.s(["BVNModificationStorage",()=>r])},203973,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(167881),s=e.i(970065),i=e.i(23750),n=e.i(10708),l=e.i(625959),o=e.i(62870),c=e.i(184762),d=e.i(630374),u=e.i(569074),m=e.i(952571),h=e.i(522016),p=e.i(330958),x=e.i(527026),f=e.i(237978),g=e.i(120682),v=e.i(334863),C=e.i(750769),b=e.i(330843),y=e.i(929054);let N=[{value:"Name Correction",label:"Name Correction"},{value:"Date of Birth Correction",label:"Date of Birth Correction"},{value:"Phone Number Update",label:"Phone Number Update"},{value:"Address Update",label:"Address Update"},{value:"Gender Correction",label:"Gender Correction"},{value:"Email Correction",label:"Email Correction"},{value:"Others",label:"Others"}],j=["NIN","Voter's Card","Driver's License","International Passport"];function S(){let{showKYCModal:e,setShowKYCModal:S,requireKYC:D}=(0,p.useKYCCheck)(),{toast:w}=(0,g.useToast)(),[k,F]=(0,r.useState)(!1),[I,P]=(0,r.useState)(""),[E,R]=(0,r.useState)(""),[L,q]=(0,r.useState)(""),[A,B]=(0,r.useState)(""),[O,T]=(0,r.useState)(""),[U,K]=(0,r.useState)(""),[V,M]=(0,r.useState)(""),[_,$]=(0,r.useState)(""),[Y,z]=(0,r.useState)(""),[H,J]=(0,r.useState)(""),[G,W]=(0,r.useState)(""),[X,Q]=(0,r.useState)(""),[Z,ee]=(0,r.useState)(""),[et,er]=(0,r.useState)(""),[ea,es]=(0,r.useState)(""),[ei,en]=(0,r.useState)(""),[el,eo]=(0,r.useState)("NIN"),[ec,ed]=(0,r.useState)(""),[eu,em]=(0,r.useState)(null),[eh,ep]=(0,r.useState)(""),[ex,ef]=(0,r.useState)(!1),[eg,ev]=(0,r.useState)(!1),[eC,eb]=(0,r.useState)(!1),[ey,eN]=(0,r.useState)(!1),[ej,eS]=(0,r.useState)(null),[eD,ew]=(0,r.useState)(f.BVNModificationStorage.getUserRequests("u_001")),ek=(0,r.useMemo)(()=>String(I||"").toLowerCase().replace(/[^a-z0-9]+/g,"_").replace(/^_+|_+$/g,"")||"unknown",[I]),{price:eF,isLoading:eI,error:eP,submitService:eE}=(0,C.default)("bvn","modification","basic",{modificationType:ek,verificationType:el});(0,r.useEffect)(()=>{F(!0)},[]);let eR=async e=>{eN(!1),eb(!0);try{let t=await eE({...ej,pin:e});if(!t.ok)return void(0,y.handleServiceError)(t,w,"Submission Failed");w({title:"Success",description:"BVN Modification Request submitted successfully!"}),P(""),R(""),q(""),B(""),T(""),K(""),M(""),$(""),z(""),J(""),W(""),Q(""),ee(""),er(""),es(""),en(""),ed(""),em(null),ep(""),ef(!1),ev(!1)}catch(e){w({title:"Submission Error",description:e.message||"An error occurred",variant:"destructive"})}finally{eb(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-[#F9F7F3] p-4 md:p-8",children:[(0,t.jsx)(v.Toaster,{}),(0,t.jsx)(d.Dialog,{open:k,onOpenChange:F,children:(0,t.jsx)(d.DialogContent,{className:"sm:max-w-md",children:(0,t.jsxs)("div",{className:"flex flex-col items-center text-center space-y-4 p-6",children:[(0,t.jsx)("div",{className:"w-16 h-16 rounded-full border-2 border-[#3457D5] bg-[#CCCCFF]/20 flex items-center justify-center",children:(0,t.jsx)(m.Info,{className:"h-8 w-8 text-[#3457D5]"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Warning"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 leading-relaxed",children:"By submitting a BVN modification request, you confirm that you have obtained the necessary legal authority to process this personal data, and you assume full liability for unlawful access. The Company and its Data Protection Compliance Organization (DPCO) will cooperate fully with regulators in cases of misuse."}),(0,t.jsx)(a.Button,{onClick:()=>F(!1),className:"bg-[#3457D5] hover:bg-[#3457D5]/90 text-white px-8",children:"I Understand"})]})})}),(0,t.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,t.jsx)(s.Card,{className:"shadow-lg border-[#CCCCFF]/30",children:(0,t.jsxs)(s.CardContent,{className:"p-6 md:p-8",children:[(0,t.jsx)("h1",{className:"text-xl font-semibold mb-2 text-gray-900",children:"BVN Modification Request"}),(0,t.jsx)("p",{className:"text-sm text-gray-600 mb-8",children:"Submit a request to correct or update your BVN information securely."}),(0,t.jsxs)("form",{className:"space-y-6",onSubmit:e=>{if(e.preventDefault(),!D())return;if(!ex||!eg)return void w({title:"Error",description:"Please accept consent and terms to continue",variant:"destructive"});let t=`${L} ${A} ${O}`.trim(),r=`${H} ${G} ${X}`.trim();eS({amount:Number(eF||0),modificationType:I,currentBVN:E,currentName:t,currentDOB:U||void 0,currentPhone:V||void 0,currentEmail:_||void 0,currentAddress:Y||void 0,newName:r||void 0,newDOB:Z||void 0,newPhone:et||void 0,newEmail:ea||void 0,newAddress:ei||void 0,verificationType:el,nin:"NIN"===el?ec:void 0,idFileName:eu?.name,comment:eh||void 0,category:"bvn",action:"modification",idempotencyKey:crypto.randomUUID()}),eN(!0)},children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{className:"text-sm font-medium",children:"Modification Type"}),(0,t.jsxs)(o.Select,{value:I,onValueChange:P,children:[(0,t.jsx)(o.SelectTrigger,{className:"w-full border-[#CCCCFF] focus:border-[#3457D5]",children:(0,t.jsx)(o.SelectValue,{placeholder:"Select modification type"})}),(0,t.jsx)(o.SelectContent,{children:N.map(e=>(0,t.jsx)(o.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(n.Label,{className:"text-sm font-semibold",children:"Current Details"}),(0,t.jsx)(i.Input,{type:"text",placeholder:"Current BVN (11 digits)",maxLength:11,value:E,onChange:e=>R(e.target.value.replace(/\D/g,"")),className:"border-[#CCCCFF] focus:border-[#3457D5]",required:!0}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,t.jsx)(i.Input,{type:"text",placeholder:"First Name",value:L,onChange:e=>q(e.target.value),className:"border-[#CCCCFF] focus:border-[#3457D5]",required:!0}),(0,t.jsx)(i.Input,{type:"text",placeholder:"Middle Name",value:A,onChange:e=>B(e.target.value),className:"border-[#CCCCFF] focus:border-[#3457D5]"}),(0,t.jsx)(i.Input,{type:"text",placeholder:"Surname/Last Name",value:O,onChange:e=>T(e.target.value),className:"border-[#CCCCFF] focus:border-[#3457D5]",required:!0})]}),I.includes("Date of Birth")&&(0,t.jsx)(i.Input,{type:"date",placeholder:"Current Date of Birth",value:U,onChange:e=>K(e.target.value),className:"border-[#CCCCFF] focus:border-[#3457D5]"}),I.includes("Phone")&&(0,t.jsx)(i.Input,{type:"tel",placeholder:"Current Phone Number",maxLength:11,value:V,onChange:e=>M(e.target.value.replace(/\D/g,"")),className:"border-[#CCCCFF] focus:border-[#3457D5]"}),I.includes("Email")&&(0,t.jsx)(i.Input,{type:"email",placeholder:"Current Email",value:_,onChange:e=>$(e.target.value),className:"border-[#CCCCFF] focus:border-[#3457D5]"}),I.includes("Address")&&(0,t.jsx)(i.Input,{type:"text",placeholder:"Current Address",value:Y,onChange:e=>z(e.target.value),className:"border-[#CCCCFF] focus:border-[#3457D5]"})]}),I&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)(n.Label,{className:"text-sm font-semibold",children:"New Details"}),I.includes("Name")&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[(0,t.jsx)(i.Input,{type:"text",placeholder:"New First Name",value:H,onChange:e=>J(e.target.value),className:"border-[#CCCCFF] focus:border-[#3457D5]"}),(0,t.jsx)(i.Input,{type:"text",placeholder:"New Middle Name",value:G,onChange:e=>W(e.target.value),className:"border-[#CCCCFF] focus:border-[#3457D5]"}),(0,t.jsx)(i.Input,{type:"text",placeholder:"New Surname/Last Name",value:X,onChange:e=>Q(e.target.value),className:"border-[#CCCCFF] focus:border-[#3457D5]"})]}),I.includes("Date of Birth")&&(0,t.jsx)(i.Input,{type:"date",placeholder:"New Date of Birth",value:Z,onChange:e=>ee(e.target.value),className:"border-[#CCCCFF] focus:border-[#3457D5]"}),I.includes("Phone")&&(0,t.jsx)(i.Input,{type:"tel",placeholder:"New Phone Number",maxLength:11,value:et,onChange:e=>er(e.target.value.replace(/\D/g,"")),className:"border-[#CCCCFF] focus:border-[#3457D5]"}),I.includes("Email")&&(0,t.jsx)(i.Input,{type:"email",placeholder:"New Email",value:ea,onChange:e=>es(e.target.value),className:"border-[#CCCCFF] focus:border-[#3457D5]"}),I.includes("Address")&&(0,t.jsx)(i.Input,{type:"text",placeholder:"New Address",value:ei,onChange:e=>en(e.target.value),className:"border-[#CCCCFF] focus:border-[#3457D5]"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{className:"text-sm font-medium",children:"Verification Type"}),(0,t.jsxs)(o.Select,{value:el,onValueChange:e=>eo(e),children:[(0,t.jsx)(o.SelectTrigger,{className:"w-full border-[#CCCCFF] focus:border-[#3457D5]",children:(0,t.jsx)(o.SelectValue,{})}),(0,t.jsx)(o.SelectContent,{children:j.map(e=>(0,t.jsx)(o.SelectItem,{value:e,children:e},e))})]})]}),"NIN"===el?(0,t.jsx)(i.Input,{type:"text",placeholder:"Enter NIN (11 digits)",maxLength:11,value:ec,onChange:e=>ed(e.target.value.replace(/\D/g,"")),className:"border-[#CCCCFF] focus:border-[#3457D5]"}):(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)(n.Label,{htmlFor:"id-upload",className:"cursor-pointer",children:[(0,t.jsx)("div",{className:"flex items-center justify-center w-full h-32 border-2 border-dashed border-[#CCCCFF] rounded-lg hover:border-[#3457D5] transition-colors bg-[#CCCCFF]/10",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(u.Upload,{className:"h-8 w-8 mx-auto mb-2 text-[#3457D5]"}),(0,t.jsx)("p",{className:"text-sm text-gray-700",children:eu?eu.name:"Upload ID Document"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Click to browse"})]})}),(0,t.jsx)("input",{id:"id-upload",type:"file",className:"hidden",accept:"image/*,.pdf",onChange:e=>{e.target.files&&e.target.files[0]&&em(e.target.files[0])}})]})}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(n.Label,{className:"text-sm font-medium",children:"Comment / Notes (Optional)"}),(0,t.jsx)(c.Textarea,{placeholder:"Short explanation for the modification request",value:eh,onChange:e=>ep(e.target.value),rows:3,className:"border-[#CCCCFF] focus:border-[#3457D5]"})]}),(0,t.jsxs)("div",{className:"space-y-4 border-t border-[#CCCCFF]/50 pt-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Estimated Price"}),(0,t.jsx)("span",{className:"text-sm font-semibold text-gray-900",children:eI?"Loading...":null!=eF?`₦${eF}`:"—"})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(l.Checkbox,{id:"consent",checked:ex,onCheckedChange:e=>ef(!0===e),className:"mt-1 border-[#3457D5] data-[state=checked]:bg-[#3457D5]"}),(0,t.jsx)(n.Label,{htmlFor:"consent",className:"text-sm text-gray-700 cursor-pointer leading-relaxed",children:"By checking this box, you confirm the ID owner's consent for verification."})]}),(0,t.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,t.jsx)(l.Checkbox,{id:"terms",checked:eg,onCheckedChange:e=>ev(!0===e),className:"mt-1 border-[#3457D5] data-[state=checked]:bg-[#3457D5]"}),(0,t.jsxs)(n.Label,{htmlFor:"terms",className:"text-sm text-gray-700 cursor-pointer leading-relaxed",children:["I agree to the"," ",(0,t.jsx)(h.default,{href:"/terms",className:"text-[#3457D5] hover:underline",children:"Terms of Service"})," ","and"," ",(0,t.jsx)(h.default,{href:"/privacy",className:"text-[#3457D5] hover:underline",children:"Privacy Policy"})]})]})]}),(0,t.jsx)(a.Button,{type:"submit",className:"w-full bg-[#3457D5] hover:bg-[#3457D5]/90 text-white font-medium py-6",disabled:!ex||!eg||eC,children:eC?"Processing...":"Submit Modification Request"}),eP&&(0,t.jsx)("p",{className:"text-xs text-red-600 mt-2",children:String(eP)})]})]})}),(0,t.jsx)(s.Card,{className:"mt-8 shadow-lg border-[#CCCCFF]/30",children:(0,t.jsxs)(s.CardContent,{className:"p-6",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Your Modification History"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b border-[#CCCCFF]/50",children:[(0,t.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-700",children:"Ref ID"}),(0,t.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-700",children:"BVN"}),(0,t.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-700",children:"Type"}),(0,t.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-700",children:"Date"}),(0,t.jsx)("th",{className:"text-left py-3 px-2 font-medium text-gray-700",children:"Status"})]})}),(0,t.jsx)("tbody",{children:0===eD.length?(0,t.jsx)("tr",{children:(0,t.jsx)("td",{colSpan:5,className:"text-center py-8 text-gray-500",children:"No modification requests yet."})}):eD.map(e=>{var r;return(0,t.jsxs)("tr",{className:"border-b border-[#CCCCFF]/30",children:[(0,t.jsxs)("td",{className:"py-3 px-2 font-mono text-xs text-gray-600",children:["#",e.id.slice(0,8)]}),(0,t.jsx)("td",{className:"py-3 px-2 text-gray-700",children:e.currentBVN}),(0,t.jsx)("td",{className:"py-3 px-2 text-gray-700",children:e.modificationType}),(0,t.jsx)("td",{className:"py-3 px-2 text-gray-600",children:new Date(e.submittedAt).toLocaleDateString()}),(0,t.jsx)("td",{className:"py-3 px-2",children:(r=e.status,(0,t.jsx)("span",{className:`px-2 py-1 rounded text-xs font-medium ${{Pending:"bg-yellow-100 text-yellow-800",Approved:"bg-green-100 text-green-800",Rejected:"bg-red-100 text-red-800"}[r]||""}`,children:r}))})]},e.id)})})]})})]})})]}),(0,t.jsx)(x.KYCRequiredModal,{open:e,onOpenChange:S}),(0,t.jsx)(b.PinPrompt,{isOpen:ey,onClose:()=>eN(!1),onConfirm:eR,isLoading:eC})]})}e.s(["default",()=>S])}]);