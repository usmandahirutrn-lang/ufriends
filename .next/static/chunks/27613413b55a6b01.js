(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,440160,e=>{"use strict";let t=(0,e.i(475254).default)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);e.s(["Download",()=>t],440160)},410160,e=>{"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}e.s(["default",()=>t])},201928,e=>{"use strict";let t=(0,e.i(475254).default)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);e.s(["ShoppingCart",()=>t],201928)},280185,e=>{"use strict";var t=e.i(843476),s=e.i(271645),a=e.i(846932),i=e.i(970065),r=e.i(167881),n=e.i(23750),l=e.i(10708),c=e.i(62870),o=e.i(120682),d=e.i(440160),u=e.i(32095),m=e.i(201928);let h="ufriends_automated_services";var x=e.i(692659),p=e.i(255749);function y(){let[e,y]=(0,s.useState)(""),[j,g]=(0,s.useState)(1),[S,f]=(0,s.useState)(""),[N,v]=(0,s.useState)(""),[b,C]=(0,s.useState)(0),[I,w]=(0,s.useState)(!1),[P,F]=(0,s.useState)(!1),[D,T]=(0,s.useState)(!1),[A,k]=(0,s.useState)(""),{toast:E}=(0,o.useToast)();(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/me"),t=e.ok?await e.json():null,s=t?.user?.role||t?.role||"",a=t?.user?.roles||[],i=/MARKETER/i.test(s)||a.includes("MARKETER");w(!!i)}catch{w(!1)}})()},[]),(0,s.useEffect)(()=>{(async()=>{if(!e)return C(0);try{let t=`education.nbais.${{"NBAIS Pin":"nbais-pin","GCE Registration Pin":"gce-registration-pin"}[e]||e.toLowerCase().replace(/[^a-z0-9]+/g,".")}`,s=I?"marketer":"user",a=await fetch(`/api/pricing?serviceSlug=${encodeURIComponent(t)}&tier=${s}`),i=await a.json().catch(()=>null);if(a.ok&&"number"==typeof i?.price)C(Number(i.price));else{let t=JSON.parse(localStorage.getItem("ufriends_service_prices")||"{}"),s=t[`Education-NBAIS-${e}`]?.sell||500;C(s)}}catch{let t=JSON.parse(localStorage.getItem("ufriends_service_prices")||"{}");C(t[`Education-NBAIS-${e}`]?.sell||500)}})()},[e,I]);let B=b*(0===j?Number.parseInt(S)||1:j),$=async t=>{t.preventDefault(),F(!0);let s=0===j?Number.parseInt(S)||1:j;try{let t,a,i,r=await (0,x.authFetch)("/api/service/education/nbais",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:B,params:{eduType:e,quantity:s,candidateName:N},idempotencyKey:`nbais-${Date.now()}-${Math.random()}`})});if(r.ok){let e=await r.json();k(e.reference||`NBAIS-${Date.now()}`),T(!0),E({title:"Success!",description:`Your NBAIS Pin(s) have been generated successfully${e.reference?` with reference: ${e.reference}`:""}.`})}else{let e=await r.json();throw Error(e.message||"Failed to process request")}t={...{userId:"u_001",serviceType:"Education",subType:"NBAIS",formData:{serviceType:e,quantity:s,candidateName:N},totalPrice:B,status:"Completed"},id:crypto.randomUUID(),referenceId:`REF-${Date.now()}-${Math.random().toString(36).substr(2,9).toUpperCase()}`,submittedAt:new Date().toISOString()},(i=(a=localStorage.getItem(h))?JSON.parse(a):[]).push(t),localStorage.setItem(h,JSON.stringify(i))}catch(e){console.error("API Error:",e),E({title:"Error",description:e instanceof Error?e.message:"Failed to process request. Please try again.",variant:"destructive"})}finally{F(!1)}};return D?(0,t.jsx)("div",{className:"min-h-screen bg-[#F9F7F3] p-6",children:(0,t.jsx)(a.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"max-w-2xl mx-auto",children:(0,t.jsxs)(i.Card,{className:"border-[#3457D5]",children:[(0,t.jsx)(i.CardHeader,{className:"bg-[#3457D5] text-white",children:(0,t.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(u.GraduationCap,{className:"h-6 w-6"}),"Purchase Successful!"]})}),(0,t.jsxs)(i.CardContent,{className:"pt-6 space-y-4",children:[(0,t.jsx)("p",{className:"text-lg",children:"Your NBAIS Pin(s) have been generated successfully."}),(0,t.jsxs)("div",{className:"bg-[#CCCCFF]/20 p-4 rounded-lg space-y-2",children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Reference ID:"})," ",A]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Quantity:"})," ",0===j?S:j]}),(0,t.jsxs)("p",{children:[(0,t.jsx)("strong",{children:"Total Paid:"})," â‚¦",B.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsxs)(r.Button,{onClick:()=>{let t=new p.default,s=0===j?Number.parseInt(S)||1:j;t.setFillColor(52,87,213),t.rect(0,0,210,40,"F"),t.setTextColor(255,255,255),t.setFontSize(24),t.text("UFriends Information Technology",105,20,{align:"center"}),t.setFontSize(14),t.text("Education Pin Purchase Confirmation",105,30,{align:"center"}),t.setTextColor(0,0,0),t.setFontSize(12),t.text(`Service Type: ${e}`,20,60),t.text(`Candidate Name: ${N||"N/A"}`,20,70),t.text(`Quantity: ${s}`,20,80),t.text(`Price per Unit: â‚¦${b.toLocaleString()}`,20,90),t.text(`Total Paid: â‚¦${B.toLocaleString()}`,20,100),t.text(`Reference ID: ${A}`,20,110),t.text(`Date: ${new Date().toLocaleString()}`,20,120),t.setFontSize(10),t.setTextColor(100,100,100),t.text("Generated by UFriends.com.ng â€” For Academic Use Only",105,280,{align:"center"}),t.save("NBAIS_Pin_Receipt.pdf")},className:"bg-[#3457D5] hover:bg-[#2a46aa]",children:[(0,t.jsx)(d.Download,{className:"mr-2 h-4 w-4"}),"Download Receipt"]}),(0,t.jsx)(r.Button,{variant:"outline",onClick:()=>T(!1),children:"Make Another Purchase"})]})]})]})})}):(0,t.jsx)("div",{className:"min-h-screen bg-[#F9F7F3] p-6",children:(0,t.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,t.jsxs)(a.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-[#3457D5] mb-2",children:"NBAIS Services"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Purchase NBAIS examination pins and scratch cards"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,t.jsx)(a.motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsxs)(i.CardTitle,{className:"flex items-center gap-2",children:[(0,t.jsx)(m.ShoppingCart,{className:"h-5 w-5 text-[#3457D5]"}),"Purchase NBAIS Pin"]}),(0,t.jsx)(i.CardDescription,{children:"Select service type and quantity"})]}),(0,t.jsx)(i.CardContent,{children:(0,t.jsxs)("form",{onSubmit:$,className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"serviceType",children:"Service Type"}),(0,t.jsxs)(c.Select,{value:e,onValueChange:y,required:!0,children:[(0,t.jsx)(c.SelectTrigger,{children:(0,t.jsx)(c.SelectValue,{placeholder:"Select service type"})}),(0,t.jsxs)(c.SelectContent,{children:[(0,t.jsx)(c.SelectItem,{value:"NBAIS Pin",children:"NBAIS Pin / Scratch Card"}),(0,t.jsx)(c.SelectItem,{value:"GCE Registration Pin",children:"GCE Registration Pin"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"candidateName",children:"Candidate Name (Optional)"}),(0,t.jsx)(n.Input,{id:"candidateName",value:N,onChange:e=>v(e.target.value),placeholder:"Enter candidate name"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"quantity",children:"Quantity"}),(0,t.jsxs)(c.Select,{value:j.toString(),onValueChange:e=>g(Number.parseInt(e)),children:[(0,t.jsx)(c.SelectTrigger,{children:(0,t.jsx)(c.SelectValue,{})}),(0,t.jsxs)(c.SelectContent,{children:[(0,t.jsx)(c.SelectItem,{value:"1",children:"1"}),(0,t.jsx)(c.SelectItem,{value:"2",children:"2"}),(0,t.jsx)(c.SelectItem,{value:"3",children:"3"}),(0,t.jsx)(c.SelectItem,{value:"4",children:"4"}),(0,t.jsx)(c.SelectItem,{value:"5",children:"5"}),(0,t.jsx)(c.SelectItem,{value:"0",children:"Custom"})]})]})]}),0===j&&(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(l.Label,{htmlFor:"customQuantity",children:"Custom Quantity"}),(0,t.jsx)(n.Input,{id:"customQuantity",type:"number",min:"1",value:S,onChange:e=>f(e.target.value),placeholder:"Enter quantity",required:!0})]}),e&&(0,t.jsx)("div",{className:"bg-[#CCCCFF]/20 p-4 rounded-lg",children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["ðŸ’° Price per unit: â‚¦",b.toLocaleString()," â€” Total: â‚¦",B.toLocaleString()]})}),(0,t.jsx)(r.Button,{type:"submit",disabled:P||!e,className:"w-full bg-[#3457D5] hover:bg-[#2a46aa]",children:P?"Processing...":"Purchase Now"})]})})]})}),(0,t.jsx)(a.motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:(0,t.jsxs)(i.Card,{className:"bg-gradient-to-br from-[#3457D5]/10 to-[#CCCCFF]/20",children:[(0,t.jsx)(i.CardHeader,{children:(0,t.jsx)(i.CardTitle,{className:"text-[#3457D5]",children:"About NBAIS Services"})}),(0,t.jsxs)(i.CardContent,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"bg-[#3457D5] text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0",children:"1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-1",children:"Instant Delivery"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Get your pins immediately after purchase"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"bg-[#3457D5] text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0",children:"2"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-1",children:"Secure Payment"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"All transactions are encrypted and secure"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)("div",{className:"bg-[#3457D5] text-white rounded-full w-8 h-8 flex items-center justify-center flex-shrink-0",children:"3"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold mb-1",children:"24/7 Support"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Our team is always ready to assist you"})]})]})]})]})})]})]})})}e.s(["default",()=>y],280185)},48503,e=>{e.v(t=>Promise.all(["static/chunks/2988bfaf82a45b76.js"].map(t=>e.l(t))).then(()=>t(915833)))},870653,e=>{e.v(t=>Promise.all(["static/chunks/ea37f18959494c2b.js"].map(t=>e.l(t))).then(()=>t(424154)))},195111,e=>{e.v(t=>Promise.all(["static/chunks/e3feae42dbedb569.js"].map(t=>e.l(t))).then(()=>t(38201)))}]);