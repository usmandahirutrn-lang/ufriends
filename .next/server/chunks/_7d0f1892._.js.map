{"version":3,"sources":["turbopack:///[project]/app/api/pdf/route.ts","turbopack:///[project]/node_modules/next/dist/src/build/templates/app-route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from \"next/server\"\r\nimport { requireAuth } from \"@/lib/require-auth\"\r\nimport { prisma } from \"@/lib/db\"\r\nimport { renderHtmlToPdfBuffer } from \"@/lib/pdf\"\r\nimport getPrembly from \"@/lib/prembly-sdk-adapter\"\r\n\r\n// POST /api/pdf\r\n// Body: { templateId: string, action: string, params: Record<string, any>, fileName?: string }\r\n// - templateId: NinTemplate.id (HTML with placeholders like {{firstName}})\r\n// - action: one of the unified verification actions handled by /api/verification\r\n// - params: payload for the selected action\r\nexport async function POST(req: NextRequest) {\r\n  try {\r\n    const auth = await requireAuth(req, { roles: [\"ADMIN\", \"AGENT\", \"USER\"] })\r\n    if (!auth.ok) return auth.response\r\n\r\n    const reqBody = await req.json().catch(() => ({}))\r\n    const { templateId, action, params, fileName, data: directData } = reqBody || {}\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      try {\r\n        console.log(\"[PDF] request\", {\r\n          action,\r\n          templateId,\r\n          hasDirectData: !!directData,\r\n          paramsKeys: params && typeof params === \"object\" ? Object.keys(params) : []\r\n        })\r\n      } catch { }\r\n    }\r\n\r\n    if (!templateId || typeof templateId !== \"string\") {\r\n      return NextResponse.json({ error: \"Missing templateId\" }, { status: 400 })\r\n    }\r\n    if (!action || typeof action !== \"string\") {\r\n      return NextResponse.json({ error: \"Missing action\" }, { status: 400 })\r\n    }\r\n\r\n    // Fetch template\r\n    const tpl = await prisma.ninTemplate.findUnique({ where: { id: templateId } })\r\n    if (!tpl || !tpl.isActive) {\r\n      return NextResponse.json({ error: \"Template not found or inactive\" }, { status: 404 })\r\n    }\r\n\r\n    const premblyClient = getPrembly()\r\n\r\n    // If direct verification data provided, skip upstream call\r\n    let result: any\r\n    let data: any = null\r\n    if (directData && typeof directData === \"object\") {\r\n      result = { status: true, data: directData }\r\n      data = directData\r\n    } else {\r\n      // Call Prembly via our client based on action (reusing mapping in /api/verification)\r\n      switch (action) {\r\n        case \"bvn.printout\":\r\n          result = await premblyClient.getBVNPrintout({ bvn: String(params?.bvn || \"\") })\r\n          break\r\n        case \"bvn.retrieval_phone\":\r\n          result = await premblyClient.getBVNByPhone({ phoneNumber: String(params?.phoneNumber || \"\") })\r\n          break\r\n        case \"bvn.advanced\":\r\n          result = await premblyClient.getBVNAdvanced({ bvn: String(params?.bvn || \"\") })\r\n          break\r\n        case \"nin.printout\":\r\n          result = await premblyClient.getNINPrintout({ nin: String(params?.nin || \"\") })\r\n          break\r\n        case \"nin.slip\":\r\n          result = await premblyClient.getNINSlip({ nin: String(params?.nin || \"\") })\r\n          break\r\n        case \"nin.advanced\":\r\n          result = await premblyClient.getNINAdvanced({\r\n            nin: String(params?.nin || \"\"),\r\n            phoneNumber: params?.phoneNumber,\r\n            firstName: params?.firstName,\r\n            lastName: params?.lastName,\r\n            dateOfBirth: params?.dateOfBirth,\r\n            gender: params?.gender,\r\n          })\r\n          break\r\n        case \"cac.info\":\r\n          result = await premblyClient.getCACInfo({\r\n            number: String(params?.number ?? params?.rcNumber ?? \"\"),\r\n            companyType: params?.companyType ? String(params.companyType).toUpperCase() as any : undefined,\r\n            companyName: params?.companyName ? String(params.companyName) : undefined,\r\n          })\r\n          break\r\n        case \"cac.status\":\r\n          result = await premblyClient.getCACStatusReport({\r\n            number: String(params?.number ?? params?.rcNumber ?? \"\"),\r\n            companyType: params?.companyType ? String(params.companyType).toUpperCase() as any : undefined,\r\n            companyName: params?.companyName ? String(params.companyName) : undefined,\r\n          })\r\n          break\r\n        case \"passport.verify\":\r\n          result = await premblyClient.verifyInternationalPassportV2({\r\n            passportNumber: String(params?.passportNumber || \"\"),\r\n            lastName: params?.lastName,\r\n          })\r\n          break\r\n        case \"tin.verify\":\r\n          result = await premblyClient.verifyTIN({ tin: String(params?.tin || \"\") })\r\n          break\r\n        case \"voters.verify\":\r\n          result = await premblyClient.verifyVotersCard({\r\n            number: String(params?.number ?? params?.vin ?? \"\"),\r\n            lastName: params?.lastName ? String(params.lastName) : undefined,\r\n            firstName: params?.firstName ? String(params.firstName) : undefined,\r\n            dob: params?.dob ? String(params.dob) : undefined,\r\n            lga: params?.lga ? String(params.lga) : undefined,\r\n            state: params?.state ? String(params.state) : undefined,\r\n          })\r\n          break\r\n        case \"plate.verify\":\r\n          result = await premblyClient.verifyPlateNumber({ plateNumber: String(params?.plateNumber || \"\") })\r\n          break\r\n        case \"phone.verify_advanced\":\r\n          result = await premblyClient.verifyPhoneAdvanced({ phoneNumber: String(params?.phoneNumber || \"\") })\r\n          break\r\n        case \"drivers_license.verify\":\r\n          result = await premblyClient.verifyDriversLicenseAdvanced({\r\n            licenseNumber: params?.licenseNumber ? String(params.licenseNumber) : undefined,\r\n            expiryDate: params?.expiryDate ? String(params.expiryDate) : undefined,\r\n            firstName: params?.firstName ? String(params.firstName) : undefined,\r\n            lastName: params?.lastName ? String(params.lastName) : undefined,\r\n            dob: params?.dob ? String(params.dob) : undefined,\r\n          })\r\n          break\r\n        default:\r\n          return NextResponse.json({ error: `Unsupported action: ${action}` }, { status: 400 })\r\n      }\r\n\r\n      if (!result?.status) {\r\n        return NextResponse.json({ error: result?.detail || result?.error || \"Upstream verification failed\" }, { status: 400 })\r\n      }\r\n\r\n      if (process.env.NODE_ENV !== \"production\") {\r\n        try {\r\n          console.log(\"[PDF] upstream status\", { status: !!result?.status, detail: result?.detail || result?.error })\r\n        } catch { }\r\n      }\r\n\r\n      // Create a simple placeholder substitution from templateContent\r\n      data = result?.data || (result as any)?.result || {}\r\n    }\r\n    if (data && typeof data === \"object\") {\r\n      if ((data as any).data) data = (data as any).data\r\n      if ((data as any).nin_data) data = (data as any).nin_data\r\n    }\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      try {\r\n        const src: any = data || {}\r\n        const rawImg = src.photo || src.image || src.imageUrl || src.base64Image || src.image_base64 || src.imageBase64 || src.photo_base64 || src.photoBase64 || \"\"\r\n        const head = typeof rawImg === \"string\" ? String(rawImg).slice(0, 120) : \"\"\r\n        console.log(\"[PDF] data keys\", Object.keys(src))\r\n        console.log(\"[PDF] data image preview\", head)\r\n      } catch { }\r\n    }\r\n    const aliases: Record<string, any> = {}\r\n    if (action.startsWith(\"nin.\")) {\r\n      const src = data || {}\r\n      const firstName = src.first_name || src.firstname || src.firstName || src.given_names || src.givenNames || src.given_name || \"\"\r\n      const lastName = src.last_name || src.lastname || src.lastName || src.surname || \"\"\r\n      const middleName = src.middle_name || src.middlename || src.middleName || src.other_names || src.otherNames || \"\"\r\n      const givenNames = src.given_names || src.givenNames || [firstName, middleName].filter(Boolean).join(\" \")\r\n      const sex = src.sex || src.gender || \"\"\r\n      const gender = src.gender || src.sex || \"\"\r\n      const nin = src.nin || src.nin_number || src.ninNumber || \"\"\r\n      const address = src.address || src.residential_address || src.homeAddress || src.residentialAddress || \"\"\r\n      const trackingId = src.tracking_id || src.trackingId || src.nimc_trackingId || \"\"\r\n      const phoneNumber = src.phone_number || src.phoneNumber || src.msisdn || src.telephoneno || \"\"\r\n      const residenceState = src.residence_state || src.stateOfResidence || src.residential_state || \"\"\r\n      const residenceTown = src.residence_town || src.residence_lga || src.lga || src.lgaOfResidence || \"\"\r\n      const birthState = src.birth_state || src.stateOfOrigin || src.state_of_origin || src.birthstate || \"\"\r\n      const birthLga = src.birth_lga || src.lgaOfOrigin || src.lga_of_origin || src.birthlga || \"\"\r\n      let image = src.photo || src.photoUrl || src.image || src.imageUrl || src.base64Image || src.image_base64 || src.imageBase64 || src.photo_base64 || src.photoBase64 || \"\"\r\n      const _imgRaw = typeof image === \"string\" ? String(image) : \"\"\r\n      const _imgCompact = _imgRaw.replace(/\\s+/g, \"\").trim()\r\n      image = _imgCompact || image\r\n      const looksLikeDataUrl = typeof image === \"string\" && /^data:image\\/(png|jpeg|jpg);base64,/i.test(String(image))\r\n      const looksLikeHttp = typeof image === \"string\" && /^(https?:\\/\\/|\\/)/i.test(String(image))\r\n      const base64Candidate = typeof image === \"string\" && !looksLikeDataUrl && !looksLikeHttp && /^[A-Za-z0-9+/=]+$/.test(String(image)) && String(image).length > 30\r\n      if (base64Candidate) {\r\n        const raw = String(image)\r\n        const isPng = /^iVBOR/.test(raw)\r\n        const isJpg = /^\\/9j\\//.test(raw)\r\n        const mime = isPng ? \"image/png\" : \"image/jpeg\"\r\n        image = `data:${mime};base64,${raw}`\r\n      } else if (!image && typeof src.photo === \"string\" && src.photo.length > 30) {\r\n        const raw = String(src.photo).replace(/\\s+/g, \"\").trim()\r\n        const isPng = /^iVBOR/.test(raw)\r\n        const mime = isPng ? \"image/png\" : \"image/jpeg\"\r\n        image = `data:${mime};base64,${raw}`\r\n      } else if (!image && typeof src.base64Image === \"string\" && src.base64Image.length > 30) {\r\n        const raw = String(src.base64Image).replace(/\\s+/g, \"\").trim()\r\n        const isPng = /^iVBOR/.test(raw)\r\n        const mime = isPng ? \"image/png\" : \"image/jpeg\"\r\n        image = `data:${mime};base64,${raw}`\r\n      } else if (!image && typeof src.image_base64 === \"string\" && src.image_base64.length > 30) {\r\n        const raw = String(src.image_base64).replace(/\\s+/g, \"\").trim()\r\n        const isPng = /^iVBOR/.test(raw)\r\n        const mime = isPng ? \"image/png\" : \"image/jpeg\"\r\n        image = `data:${mime};base64,${raw}`\r\n      } else if (!image && typeof src.imageBase64 === \"string\" && src.imageBase64.length > 30) {\r\n        const raw = String(src.imageBase64).replace(/\\s+/g, \"\").trim()\r\n        const isPng = /^iVBOR/.test(raw)\r\n        const mime = isPng ? \"image/png\" : \"image/jpeg\"\r\n        image = `data:${mime};base64,${raw}`\r\n      }\r\n      if (!image) {\r\n        const pick = (v: any) => {\r\n          const s = typeof v === \"string\" ? String(v).replace(/\\s+/g, \"\").trim() : \"\"\r\n          const isDataUrl = /^data:image\\/(png|jpeg|jpg);base64,/i.test(s)\r\n          const isHttp = /^(https?:\\/\\/|\\/)/i.test(s)\r\n          const isBase64 = !isDataUrl && !isHttp && /^[A-Za-z0-9+/=]+$/.test(s) && s.length > 30\r\n          if (isDataUrl || isHttp) return s\r\n          if (isBase64) {\r\n            const isPng = /^iVBOR/.test(s)\r\n            const mime = isPng ? \"image/png\" : \"image/jpeg\"\r\n            return `data:${mime};base64,${s}`\r\n          }\r\n          return \"\"\r\n        }\r\n        for (const [k, v] of Object.entries(src)) {\r\n          if (!image && typeof v === \"string\" && /(image|photo|portrait)/i.test(k)) {\r\n            const cand = pick(v)\r\n            if (cand) { image = cand; break }\r\n          } else if (!image && v && typeof v === \"object\") {\r\n            for (const [k2, v2] of Object.entries(v as any)) {\r\n              if (typeof v2 === \"string\" && /(image|photo|portrait|base64)/i.test(k2)) {\r\n                const cand2 = pick(v2)\r\n                if (cand2) { image = cand2; break }\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n      const issueDate = src.issue_date || src.issueDate || new Date().toISOString().slice(0, 10)\r\n      let qrCode = src.qr_code || src.qrCode || \"\"\r\n      const email = src.email || \"\"\r\n      const employmentStatus = src.employmentstatus || src.employment_status || \"\"\r\n      const maritalStatus = src.maritalstatus || src.marital_status || \"\"\r\n      const educationalLevel = src.educationallevel || src.education_level || \"\"\r\n      const birthCountry = src.birthcountry || src.birth_country || \"\"\r\n      const height = src.heigth || src.height || \"\"\r\n      const parentFirstName = src.pfirstname || src.parent_firstname || \"\"\r\n      const spokenLanguage = src.ospokenlang || src.spoken_language || \"\"\r\n      const centralId = src.centralID || src.central_id || \"\"\r\n      const nokFirst = src.nok_firstname || \"\"\r\n      const nokMiddle = src.nok_middlename || \"\"\r\n      const nokSurname = src.nok_surname || \"\"\r\n      const nokAddress1 = src.nok_address1 || \"\"\r\n      const nokAddress2 = src.nok_address2 || \"\"\r\n      const nokState = src.nok_state || \"\"\r\n      const nokLgaTown = src.nok_town || src.nok_lga || \"\"\r\n      const nokPostalCode = src.nok_postalcode || \"\"\r\n      aliases.surname = lastName\r\n      aliases.first_name = firstName\r\n      aliases.middle_name = middleName\r\n      aliases.given_names = givenNames\r\n      aliases.sex = sex\r\n      aliases.gender = gender\r\n      aliases.nin = nin\r\n      const dobRaw = src.birthdate || src.date_of_birth || src.dob || src.dateOfBirth || \"\"\r\n      const fmtDate = (v: any) => {\r\n        const s = String(v || \"\").trim()\r\n        if (!s) return \"\"\r\n        let d: Date | null = null\r\n        if (/^\\d{4}-\\d{2}-\\d{2}/.test(s)) {\r\n          d = new Date(s)\r\n        } else if (/^\\d{2}[\\/-]\\d{2}[\\/-]\\d{4}$/.test(s)) {\r\n          const [a, b, c] = s.split(/[\\/-]/).map(Number)\r\n          d = new Date(c, (b || 1) - 1, a)\r\n        } else if (!isNaN(Date.parse(s))) {\r\n          d = new Date(Date.parse(s))\r\n        }\r\n        if (!d || isNaN(d.getTime())) return s\r\n        const months = [\"JAN\", \"FEB\", \"MAR\", \"APR\", \"MAY\", \"JUN\", \"JUL\", \"AUG\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"]\r\n        const dd = String(d.getDate()).padStart(2, \"0\")\r\n        const mmm = months[d.getMonth()] || \"\"\r\n        const yyyy = d.getFullYear()\r\n        return `${dd} ${mmm} ${yyyy}`\r\n      }\r\n      aliases.dob = fmtDate(dobRaw)\r\n      const ninDigits = String(nin || \"\").replace(/\\D+/g, \"\")\r\n      const ninSpaced = ninDigits.length === 11 ? `${ninDigits.slice(0, 4)} ${ninDigits.slice(4, 7)} ${ninDigits.slice(7)}` : nin\r\n      aliases.nin_spaced = ninSpaced\r\n      aliases.address = address\r\n      aliases.image = image\r\n      aliases.photo = \"\"\r\n      aliases.imageUrl = \"\"\r\n      aliases.photoUrl = \"\"\r\n      if (typeof image === \"string\" && /^data:image\\/(png|jpeg|jpg);base64,/i.test(String(image))) {\r\n        aliases.base64Image = image.replace(/^data:image\\/(png|jpeg|jpg);base64,/i, \"\").replace(/\\s+/g, \"\")\r\n      } else if (typeof image === \"string\" && /^[A-Za-z0-9+/=]+$/.test(String(image)) && String(image).length > 50) {\r\n        aliases.base64Image = String(image).replace(/\\s+/g, \"\").trim()\r\n        aliases.image = `data:image/jpeg;base64,${aliases.base64Image}`\r\n        aliases.photo = \"\"\r\n        aliases.imageUrl = \"\"\r\n        aliases.photoUrl = \"\"\r\n      }\r\n      try {\r\n        if (typeof aliases.image === \"string\" && aliases.image) {\r\n          (data as any).image = aliases.image\r\n            ; (data as any).photo = aliases.image\r\n            ; (data as any).imageUrl = aliases.image\r\n            ; (data as any).photoUrl = aliases.image\r\n        }\r\n      } catch { }\r\n      if (process.env.NODE_ENV !== \"production\") {\r\n        try {\r\n          const imh = typeof aliases.image === \"string\" ? String(aliases.image).slice(0, 120) : \"\"\r\n          const b64len = typeof aliases.base64Image === \"string\" ? String(aliases.base64Image).length : 0\r\n          console.log(\"[PDF] nin aliases\", { imageHead: imh, base64Len: b64len, qr: !!aliases.qr_code })\r\n        } catch { }\r\n      }\r\n      aliases.tracking_id = trackingId\r\n      aliases.trackingId = trackingId\r\n      aliases.phone_number = phoneNumber\r\n      aliases.phoneNumber = phoneNumber\r\n      aliases.residence_state = residenceState\r\n      aliases.residence_town = residenceTown\r\n      aliases.birth_state = birthState\r\n      aliases.birth_lga = birthLga\r\n      aliases.issue_date = fmtDate(issueDate)\r\n      // Fallback QR generation if missing\r\n      if (!qrCode) {\r\n        try {\r\n          const payload = JSON.stringify({\r\n            nin,\r\n            surname: lastName,\r\n            given_names: givenNames,\r\n            dob: aliases.dob || src.birthdate || src.date_of_birth || src.dob || src.dateOfBirth || \"\",\r\n            issue_date: issueDate,\r\n          })\r\n          const url = `https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=${encodeURIComponent(payload)}`\r\n          const resp = await fetch(url)\r\n          if (resp.ok) {\r\n            const buf = Buffer.from(await resp.arrayBuffer())\r\n            qrCode = `data:image/png;base64,${buf.toString(\"base64\")}`\r\n          }\r\n        } catch { }\r\n      }\r\n      aliases.qr_code = qrCode\r\n      aliases.email = email\r\n      aliases.employment_status = employmentStatus\r\n      aliases.marital_status = maritalStatus\r\n      aliases.educational_level = educationalLevel\r\n      aliases.birth_country = birthCountry\r\n      aliases.height = height\r\n      aliases.parent_first_name = parentFirstName\r\n      aliases.spoken_language = spokenLanguage\r\n      aliases.central_id = centralId\r\n      aliases.nok_firstname = nokFirst\r\n      aliases.nok_middlename = nokMiddle\r\n      aliases.nok_surname = nokSurname\r\n      aliases.nok_address1 = nokAddress1\r\n      aliases.nok_address2 = nokAddress2\r\n      aliases.nok_state = nokState\r\n      aliases.nok_lga_town = nokLgaTown\r\n      aliases.nok_postalcode = nokPostalCode\r\n      try {\r\n        const rawImage = src.image || src.photo || src.imageUrl || src.photoUrl || src.base64Image || src.image_base64 || src.imageBase64 || src.photo_base64 || src.photoBase64 || \"\"\r\n        const rawPreview = typeof rawImage === \"string\" ? rawImage.slice(0, 120) : \"\"\r\n        const finalPreview = typeof aliases.image === \"string\" ? String(aliases.image).slice(0, 120) : \"\"\r\n        console.log(\"[PDF] NIN debug\", {\r\n          action,\r\n          hasData: !!data,\r\n          dataKeys: Object.keys(src || {}),\r\n          rawImagePreview: rawPreview,\r\n          finalImagePreview: finalPreview,\r\n          hasQr: !!aliases.qr_code,\r\n        })\r\n      } catch { }\r\n    } else if (action.startsWith(\"bvn.\")) {\r\n      const src = data || {}\r\n      const firstName = src.first_name || src.firstName || \"\"\r\n      const lastName = src.last_name || src.lastName || \"\"\r\n      const middleName = src.middle_name || src.middleName || src.other_names || src.otherNames || src.middleName || \"\"\r\n      const fullName = src.full_name || src.fullName || [firstName, middleName, lastName].filter(Boolean).join(\" \")\r\n      const bvn = src.bvn || src.number || src.bvn_number || \"\"\r\n      const dob = src.date_of_birth || src.dob || src.birth_date || src.dateOfBirth || \"\"\r\n      const phone = src.phone_number || src.phoneNumber || src.phoneNumber1 || src.phoneNumber2 || \"\"\r\n      const gender = src.gender || src.sex || \"\"\r\n      const email = src.email || \"\"\r\n      const enrollmentBank = src.enrollment_bank || src.enrollmentBank || \"\"\r\n      const enrollmentBranch = src.enrollment_branch || src.enrollmentBranch || \"\"\r\n      const registrationDate = src.registration_date || src.registrationDate || \"\"\r\n      const residentialAddress = src.residential_address || src.residentialAddress || \"\"\r\n      const stateOfResidence = src.state_of_residence || src.stateOfResidence || \"\"\r\n      const nin = src.nin || src.nin_number || src.ninNumber || \"\"\r\n      let image = src.photo || src.photoUrl || src.image || src.imageUrl || \"\"\r\n      if (!image && src.base64Image) {\r\n        image = `data:image/jpeg;base64,${String(src.base64Image)}`\r\n      }\r\n      aliases.first_name = firstName\r\n      aliases.middle_name = middleName\r\n      aliases.last_name = lastName\r\n      aliases.surname = lastName\r\n      aliases.full_name = fullName\r\n      aliases.bvn = bvn\r\n      aliases.nin = nin\r\n      aliases.dob = dob\r\n      aliases.phone_number = phone\r\n      aliases.phoneNumber = phone\r\n      aliases.gender = gender\r\n      aliases.email = email\r\n      aliases.enrollment_bank = enrollmentBank\r\n      aliases.enrollment_branch = enrollmentBranch\r\n      aliases.registration_date = registrationDate\r\n      aliases.residential_address = residentialAddress\r\n      aliases.state_of_residence = stateOfResidence\r\n\r\n      // Format Issue Date\r\n      const today = new Date()\r\n      const months = [\"JAN\", \"FEB\", \"MAR\", \"APR\", \"MAY\", \"JUN\", \"JUL\", \"AUG\", \"SEP\", \"OCT\", \"NOV\", \"DEC\"]\r\n      aliases.issue_date = `${today.getDate().toString().padStart(2, \"0\")}-${months[today.getMonth()]}-${today.getFullYear()}`\r\n\r\n      aliases.image = image\r\n      aliases.base64Image = src.base64Image || \"\"\r\n      aliases[\"data.bvn\"] = bvn\r\n      aliases[\"data.nin\"] = nin\r\n      aliases[\"data.firstName\"] = firstName\r\n      aliases[\"data.lastName\"] = lastName\r\n      aliases[\"data.middleName\"] = middleName\r\n      aliases[\"data.gender\"] = gender\r\n      aliases[\"data.email\"] = email\r\n      aliases[\"data.enrollmentBank\"] = enrollmentBank\r\n      aliases[\"data.enrollmentBranch\"] = enrollmentBranch\r\n      aliases[\"data.registrationDate\"] = registrationDate\r\n      aliases[\"data.residentialAddress\"] = residentialAddress\r\n      aliases[\"data.stateOfResidence\"] = stateOfResidence\r\n    } else if (action.startsWith(\"voters.\")) {\r\n      const src = data || {}\r\n      const firstName = src.first_name || src.firstName || \"\"\r\n      const lastName = src.last_name || src.lastName || \"\"\r\n      const fullName = src.full_name || `${firstName} ${lastName}`.trim()\r\n      const vin = src.number || src.votersCardNumber || src.vin || (params?.number || params?.vin || \"\")\r\n      const dob = src.dob || src.date_of_birth || src.dateOfBirth || \"\"\r\n      const gender = src.gender || src.sex || \"\"\r\n      const state = src.state || src.residence_state || (params?.state || \"\")\r\n      const lga = src.lga || src.residence_town || src.residence_lga || (params?.lga || \"\")\r\n      let address = src.address || src.residential_address || \"\"\r\n      if (!address) address = [lga, state].filter(Boolean).join(\", \")\r\n      let photo = src.photo || src.photoUrl || src.image || src.imageUrl || \"\"\r\n      const looksLikeDataUrl2 = typeof photo === \"string\" && /^data:image\\/(png|jpeg);base64,/i.test(String(photo))\r\n      const looksLikeHttp2 = typeof photo === \"string\" && /^(https?:\\/\\/|\\/)/i.test(String(photo))\r\n      const base64Candidate2 = typeof photo === \"string\" && !looksLikeDataUrl2 && !looksLikeHttp2 && /^[A-Za-z0-9+/=]+$/.test(String(photo).trim()) && String(photo).length > 100\r\n      if (base64Candidate2) photo = `data:image/jpeg;base64,${String(photo).trim()}`\r\n      aliases.first_name = firstName\r\n      aliases.last_name = lastName\r\n      aliases.full_name = fullName\r\n      aliases.vin = vin\r\n      aliases.number = vin\r\n      aliases.dob = dob\r\n      aliases.gender = gender\r\n      aliases.state = state\r\n      aliases.lga = lga\r\n      aliases.address = address\r\n      aliases.photo = photo\r\n    }\r\n\r\n    // Common aliases\r\n    aliases.generated_at = new Date().toLocaleString()\r\n    let html = tpl.templateContent\r\n    html = html.replace(/\\{\\{\\s*([a-zA-Z0-9_\\.]+)\\s*\\}\\}/g, (_, key) => {\r\n      const path = String(key)\r\n      const val = path.split(\".\").reduce<any>((acc, k) => (acc && acc[k] !== undefined ? acc[k] : undefined), data)\r\n        ?? (aliases[path] !== undefined ? aliases[path] : undefined)\r\n      return (val !== undefined && val !== null) ? String(val) : \"\"\r\n    })\r\n    if (process.env.NODE_ENV !== \"production\") {\r\n      try {\r\n        console.log(\"[PDF] html has data:image\", /data:image\\/(png|jpeg|jpg);base64,/.test(html))\r\n      } catch { }\r\n    }\r\n\r\n    // Normalize paths and relative asset URLs to absolute using request origin\r\n    try {\r\n      const origin = req.nextUrl?.origin || \"\"\r\n      if (origin) {\r\n        // Convert any backslashes to forward slashes in HTML paths\r\n        html = html.replace(/\\\\+/g, \"/\")\r\n        html = html.replace(/(<img\\s+[^>]*src=[\"'])\\/(?!\\/)([^\"']+)([\"'][^>]*>)/gi, `$1${origin}/$2$3`)\r\n      }\r\n    } catch { }\r\n\r\n    const pdf = await renderHtmlToPdfBuffer(html)\r\n    const defaultBase = (() => {\r\n      switch (String(action)) {\r\n        case \"bvn.retrieval_phone\":\r\n          return \"bvn-by-phone-printout\"\r\n        case \"bvn.printout\":\r\n          return \"bvn-printout\"\r\n        default:\r\n          return `${action}-slip`\r\n      }\r\n    })()\r\n    const fname = (fileName && typeof fileName === \"string\" ? fileName : `${defaultBase}-${Date.now()}`).replace(/[^a-zA-Z0-9._-]+/g, \"-\")\r\n\r\n    const pdfBody = (pdf instanceof Buffer) ? new Uint8Array(pdf) : pdf\r\n    return new NextResponse(pdfBody as any, {\r\n      status: 200,\r\n      headers: {\r\n        \"Content-Type\": \"application/pdf\",\r\n        \"Content-Disposition\": `attachment; filename=\"${fname}.pdf\"`,\r\n      },\r\n    })\r\n  } catch (err: any) {\r\n    return NextResponse.json({ error: \"Failed to generate PDF\", detail: String(err?.message || err) }, { status: 500 })\r\n  }\r\n}\r\n","import {\n  AppRouteRouteModule,\n  type AppRouteRouteHandlerContext,\n  type AppRouteRouteModuleOptions,\n} from '../../server/route-modules/app-route/module.compiled'\nimport { RouteKind } from '../../server/route-kind'\nimport { patchFetch as _patchFetch } from '../../server/lib/patch-fetch'\nimport type { IncomingMessage, ServerResponse } from 'node:http'\nimport { addRequestMeta, getRequestMeta } from '../../server/request-meta'\nimport { getTracer, type Span, SpanKind } from '../../server/lib/trace/tracer'\nimport { setReferenceManifestsSingleton } from '../../server/app-render/encryption-utils'\nimport { createServerModuleMap } from '../../server/app-render/action-utils'\nimport { normalizeAppPath } from '../../shared/lib/router/utils/app-paths'\nimport { NodeNextRequest, NodeNextResponse } from '../../server/base-http/node'\nimport {\n  NextRequestAdapter,\n  signalFromNodeResponse,\n} from '../../server/web/spec-extension/adapters/next-request'\nimport { BaseServerSpan } from '../../server/lib/trace/constants'\nimport { getRevalidateReason } from '../../server/instrumentation/utils'\nimport { sendResponse } from '../../server/send-response'\nimport {\n  fromNodeOutgoingHttpHeaders,\n  toNodeOutgoingHttpHeaders,\n} from '../../server/web/utils'\nimport { getCacheControlHeader } from '../../server/lib/cache-control'\nimport { INFINITE_CACHE, NEXT_CACHE_TAGS_HEADER } from '../../lib/constants'\nimport { NoFallbackError } from '../../shared/lib/no-fallback-error.external'\nimport {\n  CachedRouteKind,\n  type ResponseCacheEntry,\n  type ResponseGenerator,\n} from '../../server/response-cache'\n\nimport * as userland from 'VAR_USERLAND'\n\n// These are injected by the loader afterwards. This is injected as a variable\n// instead of a replacement because this could also be `undefined` instead of\n// an empty string.\ndeclare const nextConfigOutput: AppRouteRouteModuleOptions['nextConfigOutput']\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\n// INJECT:nextConfigOutput\n\nconst routeModule = new AppRouteRouteModule({\n  definition: {\n    kind: RouteKind.APP_ROUTE,\n    page: 'VAR_DEFINITION_PAGE',\n    pathname: 'VAR_DEFINITION_PATHNAME',\n    filename: 'VAR_DEFINITION_FILENAME',\n    bundlePath: 'VAR_DEFINITION_BUNDLE_PATH',\n  },\n  distDir: process.env.__NEXT_RELATIVE_DIST_DIR || '',\n  relativeProjectDir: process.env.__NEXT_RELATIVE_PROJECT_DIR || '',\n  resolvedPagePath: 'VAR_RESOLVED_PAGE_PATH',\n  nextConfigOutput,\n  userland,\n})\n\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule\n\nfunction patchFetch() {\n  return _patchFetch({\n    workAsyncStorage,\n    workUnitAsyncStorage,\n  })\n}\n\nexport {\n  routeModule,\n  workAsyncStorage,\n  workUnitAsyncStorage,\n  serverHooks,\n  patchFetch,\n}\n\nexport async function handler(\n  req: IncomingMessage,\n  res: ServerResponse,\n  ctx: {\n    waitUntil: (prom: Promise<void>) => void\n  }\n) {\n  if (routeModule.isDev) {\n    addRequestMeta(req, 'devRequestTimingInternalsEnd', process.hrtime.bigint())\n  }\n  let srcPage = 'VAR_DEFINITION_PAGE'\n\n  // turbopack doesn't normalize `/index` in the page name\n  // so we need to to process dynamic routes properly\n  // TODO: fix turbopack providing differing value from webpack\n  if (process.env.TURBOPACK) {\n    srcPage = srcPage.replace(/\\/index$/, '') || '/'\n  } else if (srcPage === '/index') {\n    // we always normalize /index specifically\n    srcPage = '/'\n  }\n  const multiZoneDraftMode = process.env\n    .__NEXT_MULTI_ZONE_DRAFT_MODE as any as boolean\n\n  const prepareResult = await routeModule.prepare(req, res, {\n    srcPage,\n    multiZoneDraftMode,\n  })\n\n  if (!prepareResult) {\n    res.statusCode = 400\n    res.end('Bad Request')\n    ctx.waitUntil?.(Promise.resolve())\n    return null\n  }\n\n  const {\n    buildId,\n    params,\n    nextConfig,\n    parsedUrl,\n    isDraftMode,\n    prerenderManifest,\n    routerServerContext,\n    isOnDemandRevalidate,\n    revalidateOnlyGenerated,\n    resolvedPathname,\n    clientReferenceManifest,\n    serverActionsManifest,\n  } = prepareResult\n\n  const normalizedSrcPage = normalizeAppPath(srcPage)\n\n  let isIsr = Boolean(\n    prerenderManifest.dynamicRoutes[normalizedSrcPage] ||\n      prerenderManifest.routes[resolvedPathname]\n  )\n\n  const render404 = async () => {\n    // TODO: should route-module itself handle rendering the 404\n    if (routerServerContext?.render404) {\n      await routerServerContext.render404(req, res, parsedUrl, false)\n    } else {\n      res.end('This page could not be found')\n    }\n    return null\n  }\n\n  if (isIsr && !isDraftMode) {\n    const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname])\n    const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage]\n\n    if (prerenderInfo) {\n      if (prerenderInfo.fallback === false && !isPrerendered) {\n        if (nextConfig.experimental.adapterPath) {\n          return await render404()\n        }\n        throw new NoFallbackError()\n      }\n    }\n  }\n\n  let cacheKey: string | null = null\n\n  if (isIsr && !routeModule.isDev && !isDraftMode) {\n    cacheKey = resolvedPathname\n    // ensure /index and / is normalized to one key\n    cacheKey = cacheKey === '/index' ? '/' : cacheKey\n  }\n\n  const supportsDynamicResponse: boolean =\n    // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true ||\n    // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr\n\n  // This is a revalidation request if the request is for a static\n  // page and it is not being resumed from a postponed render and\n  // it is not a dynamic RSC request then it is a revalidation\n  // request.\n  const isStaticGeneration = isIsr && !supportsDynamicResponse\n\n  // Before rendering (which initializes component tree modules), we have to\n  // set the reference manifests to our global store so Server Action's\n  // encryption util can access to them at the top level of the page module.\n  if (serverActionsManifest && clientReferenceManifest) {\n    setReferenceManifestsSingleton({\n      page: srcPage,\n      clientReferenceManifest,\n      serverActionsManifest,\n      serverModuleMap: createServerModuleMap({\n        serverActionsManifest,\n      }),\n    })\n  }\n\n  const method = req.method || 'GET'\n  const tracer = getTracer()\n  const activeSpan = tracer.getActiveScopeSpan()\n\n  const context: AppRouteRouteHandlerContext = {\n    params,\n    prerenderManifest,\n    renderOpts: {\n      experimental: {\n        authInterrupts: Boolean(nextConfig.experimental.authInterrupts),\n      },\n      cacheComponents: Boolean(nextConfig.cacheComponents),\n      supportsDynamicResponse,\n      incrementalCache: getRequestMeta(req, 'incrementalCache'),\n      cacheLifeProfiles: nextConfig.cacheLife,\n      waitUntil: ctx.waitUntil,\n      onClose: (cb) => {\n        res.on('close', cb)\n      },\n      onAfterTaskError: undefined,\n      onInstrumentationRequestError: (error, _request, errorContext) =>\n        routeModule.onRequestError(\n          req,\n          error,\n          errorContext,\n          routerServerContext\n        ),\n    },\n    sharedContext: {\n      buildId,\n    },\n  }\n  const nodeNextReq = new NodeNextRequest(req)\n  const nodeNextRes = new NodeNextResponse(res)\n\n  const nextReq = NextRequestAdapter.fromNodeNextRequest(\n    nodeNextReq,\n    signalFromNodeResponse(res)\n  )\n\n  try {\n    const invokeRouteModule = async (span?: Span) => {\n      return routeModule.handle(nextReq, context).finally(() => {\n        if (!span) return\n\n        span.setAttributes({\n          'http.status_code': res.statusCode,\n          'next.rsc': false,\n        })\n\n        const rootSpanAttributes = tracer.getRootSpanAttributes()\n        // We were unable to get attributes, probably OTEL is not enabled\n        if (!rootSpanAttributes) {\n          return\n        }\n\n        if (\n          rootSpanAttributes.get('next.span_type') !==\n          BaseServerSpan.handleRequest\n        ) {\n          console.warn(\n            `Unexpected root span type '${rootSpanAttributes.get(\n              'next.span_type'\n            )}'. Please report this Next.js issue https://github.com/vercel/next.js`\n          )\n          return\n        }\n\n        const route = rootSpanAttributes.get('next.route')\n        if (route) {\n          const name = `${method} ${route}`\n\n          span.setAttributes({\n            'next.route': route,\n            'http.route': route,\n            'next.span_name': name,\n          })\n          span.updateName(name)\n        } else {\n          span.updateName(`${method} ${srcPage}`)\n        }\n      })\n    }\n    const isMinimalMode = Boolean(\n      process.env.MINIMAL_MODE || getRequestMeta(req, 'minimalMode')\n    )\n\n    const handleResponse = async (currentSpan?: Span) => {\n      const responseGenerator: ResponseGenerator = async ({\n        previousCacheEntry,\n      }) => {\n        try {\n          if (\n            !isMinimalMode &&\n            isOnDemandRevalidate &&\n            revalidateOnlyGenerated &&\n            !previousCacheEntry\n          ) {\n            res.statusCode = 404\n            // on-demand revalidate always sets this header\n            res.setHeader('x-nextjs-cache', 'REVALIDATED')\n            res.end('This page could not be found')\n            return null\n          }\n\n          const response = await invokeRouteModule(currentSpan)\n\n          ;(req as any).fetchMetrics = (context.renderOpts as any).fetchMetrics\n          let pendingWaitUntil = context.renderOpts.pendingWaitUntil\n\n          // Attempt using provided waitUntil if available\n          // if it's not we fallback to sendResponse's handling\n          if (pendingWaitUntil) {\n            if (ctx.waitUntil) {\n              ctx.waitUntil(pendingWaitUntil)\n              pendingWaitUntil = undefined\n            }\n          }\n          const cacheTags = context.renderOpts.collectedTags\n\n          // If the request is for a static response, we can cache it so long\n          // as it's not edge.\n          if (isIsr) {\n            const blob = await response.blob()\n\n            // Copy the headers from the response.\n            const headers = toNodeOutgoingHttpHeaders(response.headers)\n\n            if (cacheTags) {\n              headers[NEXT_CACHE_TAGS_HEADER] = cacheTags\n            }\n\n            if (!headers['content-type'] && blob.type) {\n              headers['content-type'] = blob.type\n            }\n\n            const revalidate =\n              typeof context.renderOpts.collectedRevalidate === 'undefined' ||\n              context.renderOpts.collectedRevalidate >= INFINITE_CACHE\n                ? false\n                : context.renderOpts.collectedRevalidate\n\n            const expire =\n              typeof context.renderOpts.collectedExpire === 'undefined' ||\n              context.renderOpts.collectedExpire >= INFINITE_CACHE\n                ? undefined\n                : context.renderOpts.collectedExpire\n\n            // Create the cache entry for the response.\n            const cacheEntry: ResponseCacheEntry = {\n              value: {\n                kind: CachedRouteKind.APP_ROUTE,\n                status: response.status,\n                body: Buffer.from(await blob.arrayBuffer()),\n                headers,\n              },\n              cacheControl: { revalidate, expire },\n            }\n\n            return cacheEntry\n          } else {\n            // send response without caching if not ISR\n            await sendResponse(\n              nodeNextReq,\n              nodeNextRes,\n              response,\n              context.renderOpts.pendingWaitUntil\n            )\n            return null\n          }\n        } catch (err) {\n          // if this is a background revalidate we need to report\n          // the request error here as it won't be bubbled\n          if (previousCacheEntry?.isStale) {\n            await routeModule.onRequestError(\n              req,\n              err,\n              {\n                routerKind: 'App Router',\n                routePath: srcPage,\n                routeType: 'route',\n                revalidateReason: getRevalidateReason({\n                  isStaticGeneration,\n                  isOnDemandRevalidate,\n                }),\n              },\n              routerServerContext\n            )\n          }\n          throw err\n        }\n      }\n\n      const cacheEntry = await routeModule.handleResponse({\n        req,\n        nextConfig,\n        cacheKey,\n        routeKind: RouteKind.APP_ROUTE,\n        isFallback: false,\n        prerenderManifest,\n        isRoutePPREnabled: false,\n        isOnDemandRevalidate,\n        revalidateOnlyGenerated,\n        responseGenerator,\n        waitUntil: ctx.waitUntil,\n        isMinimalMode,\n      })\n\n      // we don't create a cacheEntry for ISR\n      if (!isIsr) {\n        return null\n      }\n\n      if (cacheEntry?.value?.kind !== CachedRouteKind.APP_ROUTE) {\n        throw new Error(\n          `Invariant: app-route received invalid cache entry ${cacheEntry?.value?.kind}`\n        )\n      }\n\n      if (!isMinimalMode) {\n        res.setHeader(\n          'x-nextjs-cache',\n          isOnDemandRevalidate\n            ? 'REVALIDATED'\n            : cacheEntry.isMiss\n              ? 'MISS'\n              : cacheEntry.isStale\n                ? 'STALE'\n                : 'HIT'\n        )\n      }\n\n      // Draft mode should never be cached\n      if (isDraftMode) {\n        res.setHeader(\n          'Cache-Control',\n          'private, no-cache, no-store, max-age=0, must-revalidate'\n        )\n      }\n\n      const headers = fromNodeOutgoingHttpHeaders(cacheEntry.value.headers)\n\n      if (!(isMinimalMode && isIsr)) {\n        headers.delete(NEXT_CACHE_TAGS_HEADER)\n      }\n\n      // If cache control is already set on the response we don't\n      // override it to allow users to customize it via next.config\n      if (\n        cacheEntry.cacheControl &&\n        !res.getHeader('Cache-Control') &&\n        !headers.get('Cache-Control')\n      ) {\n        headers.set(\n          'Cache-Control',\n          getCacheControlHeader(cacheEntry.cacheControl)\n        )\n      }\n\n      await sendResponse(\n        nodeNextReq,\n        nodeNextRes,\n        // @ts-expect-error - Argument of type 'Buffer<ArrayBufferLike>' is not assignable to parameter of type 'BodyInit | null | undefined'.\n        new Response(cacheEntry.value.body, {\n          headers,\n          status: cacheEntry.value.status || 200,\n        })\n      )\n      return null\n    }\n\n    // TODO: activeSpan code path is for when wrapped by\n    // next-server can be removed when this is no longer used\n    if (activeSpan) {\n      await handleResponse(activeSpan)\n    } else {\n      await tracer.withPropagatedContext(req.headers, () =>\n        tracer.trace(\n          BaseServerSpan.handleRequest,\n          {\n            spanName: `${method} ${srcPage}`,\n            kind: SpanKind.SERVER,\n            attributes: {\n              'http.method': method,\n              'http.target': req.url,\n            },\n          },\n          handleResponse\n        )\n      )\n    }\n  } catch (err) {\n    if (!(err instanceof NoFallbackError)) {\n      await routeModule.onRequestError(req, err, {\n        routerKind: 'App Router',\n        routePath: normalizedSrcPage,\n        routeType: 'route',\n        revalidateReason: getRevalidateReason({\n          isStaticGeneration,\n          isOnDemandRevalidate,\n        }),\n      })\n    }\n\n    // rethrow so that we can handle serving error page\n\n    // If this is during static generation, throw the error again.\n    if (isIsr) throw err\n\n    // Otherwise, send a 500 response.\n    await sendResponse(\n      nodeNextReq,\n      nodeNextRes,\n      new Response(null, { status: 500 })\n    )\n    return null\n  }\n}\n"],"names":["AppRouteRouteModule","RouteKind","patchFetch","_patchFetch","addRequestMeta","getRequestMeta","getTracer","SpanKind","setReferenceManifestsSingleton","createServerModuleMap","normalizeAppPath","NodeNextRequest","NodeNextResponse","NextRequestAdapter","signalFromNodeResponse","BaseServerSpan","getRevalidateReason","sendResponse","fromNodeOutgoingHttpHeaders","toNodeOutgoingHttpHeaders","getCacheControlHeader","INFINITE_CACHE","NEXT_CACHE_TAGS_HEADER","NoFallbackError","CachedRouteKind","userland","routeModule","definition","kind","APP_ROUTE","page","pathname","filename","bundlePath","distDir","process","env","__NEXT_RELATIVE_DIST_DIR","relativeProjectDir","__NEXT_RELATIVE_PROJECT_DIR","resolvedPagePath","nextConfigOutput","workAsyncStorage","workUnitAsyncStorage","serverHooks","handler","req","res","ctx","isDev","hrtime","bigint","srcPage","TURBOPACK","replace","multiZoneDraftMode","__NEXT_MULTI_ZONE_DRAFT_MODE","prepareResult","prepare","statusCode","end","waitUntil","Promise","resolve","buildId","params","nextConfig","parsedUrl","isDraftMode","prerenderManifest","routerServerContext","isOnDemandRevalidate","revalidateOnlyGenerated","resolvedPathname","clientReferenceManifest","serverActionsManifest","normalizedSrcPage","isIsr","Boolean","dynamicRoutes","routes","render404","isPrerendered","prerenderInfo","fallback","experimental","adapterPath","cacheKey","supportsDynamicResponse","isStaticGeneration","serverModuleMap","method","tracer","activeSpan","getActiveScopeSpan","context","renderOpts","authInterrupts","cacheComponents","incrementalCache","cacheLifeProfiles","cacheLife","onClose","cb","on","onAfterTaskError","undefined","onInstrumentationRequestError","error","_request","errorContext","onRequestError","sharedContext","nodeNextReq","nodeNextRes","nextReq","fromNodeNextRequest","invokeRouteModule","span","handle","finally","setAttributes","rootSpanAttributes","getRootSpanAttributes","get","handleRequest","console","warn","route","name","updateName","isMinimalMode","MINIMAL_MODE","handleResponse","currentSpan","cacheEntry","responseGenerator","previousCacheEntry","setHeader","response","fetchMetrics","pendingWaitUntil","cacheTags","collectedTags","blob","headers","type","revalidate","collectedRevalidate","expire","collectedExpire","value","status","body","Buffer","from","arrayBuffer","cacheControl","err","isStale","routerKind","routePath","routeType","revalidateReason","routeKind","isFallback","isRoutePPREnabled","Error","isMiss","delete","getHeader","set","Response","withPropagatedContext","trace","spanName","SERVER","attributes","url"],"mappings":"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","ignoreList":[1]}