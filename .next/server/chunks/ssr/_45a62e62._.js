module.exports=[620610,a=>{"use strict";let b=(0,a.i(170106).default)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);a.s(["CheckCheck",()=>b],620610)},767506,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(703130),e=a.i(340695),f=a.i(254161),g=a.i(523312),h=a.i(620610),i=a.i(596221),j=a.i(677050),k=a.i(497895);function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(!1),q=async()=>{try{let a=await (0,j.authFetch)("/api/notifications?limit=50");if(a.ok){let b=await a.json();l(b.notifications||[])}}catch{}finally{n(!1)}},r=async()=>{p(!0);try{await (0,j.authFetch)("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({markAllRead:!0})}),l(a=>a.map(a=>({...a,readAt:new Date().toISOString()})))}catch{}finally{p(!1)}},s=async a=>{try{await (0,j.authFetch)("/api/notifications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ids:[a]})}),l(b=>b.map(b=>b.id===a?{...b,readAt:new Date().toISOString()}:b))}catch{}};(0,c.useEffect)(()=>{q()},[]);let t=a.filter(a=>!a.readAt).length;return(0,b.jsxs)("div",{className:"space-y-6 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-[#3457D5]",children:(0,b.jsx)(g.Bell,{className:"h-6 w-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-[#3457D5]",children:"Notifications"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"View all your notifications"})]})]}),t>0&&(0,b.jsxs)(e.Button,{onClick:r,disabled:o,variant:"outline",children:[o?(0,b.jsx)(i.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}):(0,b.jsx)(h.CheckCheck,{className:"mr-2 h-4 w-4"}),"Mark all as read (",t,")"]})]}),(0,b.jsxs)(d.Card,{children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"All Notifications"}),(0,b.jsxs)(d.CardDescription,{children:[a.length," notification",1!==a.length?"s":""]})]}),(0,b.jsx)(d.CardContent,{children:m?(0,b.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,b.jsx)(i.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):0===a.length?(0,b.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,b.jsx)(g.Bell,{className:"mx-auto h-12 w-12 mb-4 opacity-50"}),(0,b.jsx)("p",{children:"No notifications yet"})]}):(0,b.jsx)("div",{className:"divide-y",children:a.map(a=>(0,b.jsx)("div",{className:(0,k.cn)("py-4 px-2 cursor-pointer hover:bg-muted/50 rounded-lg transition-colors",!a.readAt&&"bg-primary/5"),onClick:()=>!a.readAt&&s(a.id),children:(0,b.jsx)("div",{className:"flex items-start justify-between gap-4",children:(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("p",{className:"font-medium",children:a.title}),!a.readAt&&(0,b.jsx)(f.Badge,{variant:"secondary",className:"text-xs",children:"New"})]}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.body}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:(a=>{let b=new Date(a),c=Math.floor((new Date().getTime()-b.getTime())/6e4);if(c<60)return`${c} minutes ago`;let d=Math.floor(c/60);if(d<24)return`${d} hours ago`;let e=Math.floor(d/24);return`${e} days ago`})(a.createdAt)})]})})},a.id))})})]})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=_45a62e62._.js.map