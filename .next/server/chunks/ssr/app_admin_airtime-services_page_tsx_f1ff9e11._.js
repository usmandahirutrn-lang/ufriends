module.exports=[922314,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(703130),e=a.i(340695),f=a.i(205522),g=a.i(917171),h=a.i(546893),i=a.i(254161),j=a.i(621958),k=a.i(277687),l=a.i(588237),m=a.i(965733),n=a.i(887682),o=a.i(53569);let p=(0,a.i(170106).default)("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);var q=a.i(724669),r=a.i(167453),s=a.i(862722),t=a.i(641710),u=a.i(587532);function v(){let{toast:a}=(0,k.useToast)(),[v,w]=(0,c.useState)([]),[x,y]=(0,c.useState)([]),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)(!1),[D,E]=(0,c.useState)("approve"),[F,G]=(0,c.useState)(""),[H,I]=(0,c.useState)(""),[J,K]=(0,c.useState)("all");(0,c.useEffect)(()=>{L()},[]);let L=()=>{let a=JSON.parse(localStorage.getItem("ufriends_share_n_sell_logs")||"[]"),b=JSON.parse(localStorage.getItem("ufriends_airtime2cash_requests")||"[]");w(a),y(b)},M=(a,b)=>{A(a),E(b),G(""),C(!0)},N=x.filter(a=>{let b=a.id.toLowerCase().includes(H.toLowerCase())||a.senderNumber.includes(H)||a.network.toLowerCase().includes(H.toLowerCase()),c="all"===J||a.status===J;return b&&c}),O=v.reduce((a,b)=>a+b.price,0),P=v.reduce((a,b)=>a+(b.amount-b.price),0),Q=x.filter(a=>"Pending"===a.status).length,R=x.filter(a=>"Completed"===a.status).length;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-foreground",children:"Airtime Services Management"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage Share 'n Sell and Airtime 2 Cash services"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,b.jsxs)(d.Card,{className:"border-[#3457D5]/20",children:[(0,b.jsx)(d.CardHeader,{className:"pb-3",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[(0,b.jsx)(o.Share2,{className:"h-4 w-4 text-[#3457D5]"}),"Share 'n Sell Sales"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-[#3457D5]",children:["₦",O.toLocaleString()]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:[v.length," transactions"]})]})]}),(0,b.jsxs)(d.Card,{className:"border-green-500/20",children:[(0,b.jsx)(d.CardHeader,{className:"pb-3",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[(0,b.jsx)(q.TrendingUp,{className:"h-4 w-4 text-green-600"}),"Profit Margin"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["₦",P.toLocaleString()]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"From Share 'n Sell"})]})]}),(0,b.jsxs)(d.Card,{className:"border-yellow-500/20",children:[(0,b.jsx)(d.CardHeader,{className:"pb-3",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[(0,b.jsx)(t.Clock,{className:"h-4 w-4 text-yellow-600"}),"Pending A2C"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:Q}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Awaiting confirmation"})]})]}),(0,b.jsxs)(d.Card,{className:"border-green-500/20",children:[(0,b.jsx)(d.CardHeader,{className:"pb-3",children:(0,b.jsxs)(d.CardTitle,{className:"text-sm font-medium flex items-center gap-2",children:[(0,b.jsx)(r.CheckCircle2,{className:"h-4 w-4 text-green-600"}),"Completed A2C"]})}),(0,b.jsxs)(d.CardContent,{children:[(0,b.jsx)("div",{className:"text-2xl font-bold text-green-600",children:R}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Successfully processed"})]})]})]}),(0,b.jsxs)(j.Tabs,{defaultValue:"airtime2cash",className:"space-y-4",children:[(0,b.jsxs)(j.TabsList,{className:"bg-[#F9F7F3]",children:[(0,b.jsxs)(j.TabsTrigger,{value:"airtime2cash",className:"data-[state=active]:bg-[#3457D5] data-[state=active]:text-white",children:[(0,b.jsx)(p,{className:"h-4 w-4 mr-2"}),"Airtime 2 Cash"]}),(0,b.jsxs)(j.TabsTrigger,{value:"sharensell",className:"data-[state=active]:bg-[#3457D5] data-[state=active]:text-white",children:[(0,b.jsx)(o.Share2,{className:"h-4 w-4 mr-2"}),"Share 'n Sell Logs"]})]}),(0,b.jsx)(j.TabsContent,{value:"airtime2cash",className:"space-y-4",children:(0,b.jsxs)(d.Card,{className:"border-[#3457D5]/20",children:[(0,b.jsx)(d.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(d.CardTitle,{children:"Airtime 2 Cash Requests"}),(0,b.jsx)(d.CardDescription,{children:"Review and approve user airtime conversion requests"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(u.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,b.jsx)(f.Input,{placeholder:"Search...",value:H,onChange:a=>I(a.target.value),className:"pl-9 w-64"})]}),(0,b.jsxs)(n.Select,{value:J,onValueChange:K,children:[(0,b.jsx)(n.SelectTrigger,{className:"w-32",children:(0,b.jsx)(n.SelectValue,{})}),(0,b.jsxs)(n.SelectContent,{children:[(0,b.jsx)(n.SelectItem,{value:"all",children:"All Status"}),(0,b.jsx)(n.SelectItem,{value:"Pending",children:"Pending"}),(0,b.jsx)(n.SelectItem,{value:"Completed",children:"Completed"}),(0,b.jsx)(n.SelectItem,{value:"Rejected",children:"Rejected"})]})]})]})]})}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)(l.Table,{children:[(0,b.jsx)(l.TableHeader,{children:(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableHead,{children:"Request ID"}),(0,b.jsx)(l.TableHead,{children:"Network"}),(0,b.jsx)(l.TableHead,{children:"Sender"}),(0,b.jsx)(l.TableHead,{children:"UFriends Number"}),(0,b.jsx)(l.TableHead,{children:"Amount"}),(0,b.jsx)(l.TableHead,{children:"Payout"}),(0,b.jsx)(l.TableHead,{children:"Method"}),(0,b.jsx)(l.TableHead,{children:"Status"}),(0,b.jsx)(l.TableHead,{children:"Date"}),(0,b.jsx)(l.TableHead,{children:"Actions"})]})}),(0,b.jsx)(l.TableBody,{children:0===N.length?(0,b.jsx)(l.TableRow,{children:(0,b.jsx)(l.TableCell,{colSpan:10,className:"text-center text-muted-foreground py-8",children:"No requests found"})}):N.map(a=>(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableCell,{className:"font-mono text-xs",children:a.id}),(0,b.jsx)(l.TableCell,{children:(0,b.jsx)(i.Badge,{variant:"outline",children:a.network})}),(0,b.jsx)(l.TableCell,{children:a.senderNumber}),(0,b.jsx)(l.TableCell,{children:a.companyNumber}),(0,b.jsxs)(l.TableCell,{children:["₦",a.amount.toLocaleString()]}),(0,b.jsxs)(l.TableCell,{className:"font-semibold text-green-600",children:["₦",a.payoutValue.toLocaleString()]}),(0,b.jsx)(l.TableCell,{children:(0,b.jsx)(i.Badge,{variant:"Wallet"===a.payoutMethod?"default":"secondary",children:a.payoutMethod})}),(0,b.jsxs)(l.TableCell,{children:["Pending"===a.status&&(0,b.jsxs)(i.Badge,{className:"bg-yellow-500 text-white",children:[(0,b.jsx)(t.Clock,{className:"h-3 w-3 mr-1"}),"Pending"]}),"Completed"===a.status&&(0,b.jsxs)(i.Badge,{className:"bg-green-500 text-white",children:[(0,b.jsx)(r.CheckCircle2,{className:"h-3 w-3 mr-1"}),"Completed"]}),"Rejected"===a.status&&(0,b.jsxs)(i.Badge,{className:"bg-red-500 text-white",children:[(0,b.jsx)(s.XCircle,{className:"h-3 w-3 mr-1"}),"Rejected"]})]}),(0,b.jsx)(l.TableCell,{className:"text-xs",children:new Date(a.createdAt).toLocaleDateString()}),(0,b.jsxs)(l.TableCell,{children:["Pending"===a.status&&(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(e.Button,{size:"sm",onClick:()=>M(a,"approve"),className:"bg-green-600 hover:bg-green-700",children:"Approve"}),(0,b.jsx)(e.Button,{size:"sm",variant:"destructive",onClick:()=>M(a,"reject"),children:"Reject"})]}),"Pending"!==a.status&&(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.adminNote||"No action needed"})]})]},a.id))})]})})]})}),(0,b.jsx)(j.TabsContent,{value:"sharensell",className:"space-y-4",children:(0,b.jsxs)(d.Card,{className:"border-[#3457D5]/20",children:[(0,b.jsxs)(d.CardHeader,{children:[(0,b.jsx)(d.CardTitle,{children:"Share 'n Sell Transaction Logs"}),(0,b.jsx)(d.CardDescription,{children:"Automated airtime purchase records (read-only)"})]}),(0,b.jsx)(d.CardContent,{children:(0,b.jsxs)(l.Table,{children:[(0,b.jsx)(l.TableHeader,{children:(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableHead,{children:"Transaction ID"}),(0,b.jsx)(l.TableHead,{children:"Network"}),(0,b.jsx)(l.TableHead,{children:"Recipient"}),(0,b.jsx)(l.TableHead,{children:"Airtime Value"}),(0,b.jsx)(l.TableHead,{children:"Amount Paid"}),(0,b.jsx)(l.TableHead,{children:"Profit"}),(0,b.jsx)(l.TableHead,{children:"Status"}),(0,b.jsx)(l.TableHead,{children:"Date"})]})}),(0,b.jsx)(l.TableBody,{children:0===v.length?(0,b.jsx)(l.TableRow,{children:(0,b.jsx)(l.TableCell,{colSpan:8,className:"text-center text-muted-foreground py-8",children:"No transactions yet"})}):v.map(a=>(0,b.jsxs)(l.TableRow,{children:[(0,b.jsx)(l.TableCell,{className:"font-mono text-xs",children:a.id}),(0,b.jsx)(l.TableCell,{children:(0,b.jsx)(i.Badge,{variant:"outline",children:a.network})}),(0,b.jsx)(l.TableCell,{children:a.recipientNumber}),(0,b.jsxs)(l.TableCell,{children:["₦",a.amount.toLocaleString()]}),(0,b.jsxs)(l.TableCell,{children:["₦",a.price.toLocaleString()]}),(0,b.jsxs)(l.TableCell,{className:"font-semibold text-green-600",children:["₦",(a.amount-a.price).toLocaleString()]}),(0,b.jsx)(l.TableCell,{children:(0,b.jsxs)(i.Badge,{className:"bg-green-500 text-white",children:[(0,b.jsx)(r.CheckCircle2,{className:"h-3 w-3 mr-1"}),a.status]})}),(0,b.jsx)(l.TableCell,{className:"text-xs",children:new Date(a.date).toLocaleDateString()})]},a.id))})]})})]})})]}),(0,b.jsx)(m.Dialog,{open:B,onOpenChange:C,children:(0,b.jsxs)(m.DialogContent,{className:"border-[#3457D5]/30",children:[(0,b.jsxs)(m.DialogHeader,{children:[(0,b.jsxs)(m.DialogTitle,{children:["approve"===D?"Approve":"Reject"," Airtime 2 Cash Request"]}),(0,b.jsx)(m.DialogDescription,{children:"approve"===D?"Confirm that you've verified the airtime transfer":"Provide a reason for rejection"})]}),z&&(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-[#F9F7F3] rounded-lg space-y-2 text-sm",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Request ID:"}),(0,b.jsx)("span",{className:"font-mono font-semibold",children:z.id})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Network:"}),(0,b.jsx)("span",{className:"font-semibold",children:z.network})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Amount:"}),(0,b.jsxs)("span",{className:"font-semibold",children:["₦",z.amount.toLocaleString()]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Payout:"}),(0,b.jsxs)("span",{className:"font-semibold text-green-600",children:["₦",z.payoutValue.toLocaleString()]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Method:"}),(0,b.jsx)("span",{className:"font-semibold",children:z.payoutMethod})]}),z.bankInfo&&(0,b.jsxs)("div",{className:"pt-2 border-t space-y-1",children:[(0,b.jsx)("p",{className:"font-semibold",children:"Bank Details:"}),(0,b.jsx)("p",{children:z.bankInfo.bank}),(0,b.jsxs)("p",{children:[z.bankInfo.acctNo," - ",z.bankInfo.acctName]})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"admin-note",children:["Admin Note ","reject"===D&&"(Required)"]}),(0,b.jsx)(h.Textarea,{id:"admin-note",placeholder:"approve"===D?"Optional note (e.g., 'Transfer verified')":"Reason for rejection (e.g., 'Transfer not found')",value:F,onChange:a=>G(a.target.value),rows:3})]})]}),(0,b.jsxs)(m.DialogFooter,{children:[(0,b.jsx)(e.Button,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),(0,b.jsx)(e.Button,{onClick:()=>{if(!z)return;let b=x.map(a=>{if(a.id===z.id)if("approve"!==D)return{...a,status:"Rejected",adminNote:F};else{if("Wallet"===a.payoutMethod){let b=Number.parseFloat(localStorage.getItem("ufriends_wallet_balance")||"0")+a.payoutValue;localStorage.setItem("ufriends_wallet_balance",b.toString())}return{...a,status:"Completed",adminNote:F}}return a});localStorage.setItem("ufriends_airtime2cash_requests",JSON.stringify(b)),y(b),C(!1),a({title:"approve"===D?"Request Approved":"Request Rejected",description:`Airtime 2 Cash request ${"approve"===D?"approved":"rejected"} successfully`})},disabled:"reject"===D&&!F,className:"approve"===D?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700",children:"approve"===D?"Approve Request":"Reject Request"})]})]})})]})}a.s(["default",()=>v],922314)}];

//# sourceMappingURL=app_admin_airtime-services_page_tsx_f1ff9e11._.js.map