module.exports=[542087,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(340695),e=a.i(703130),f=a.i(205522),g=a.i(917171),h=a.i(887682),i=a.i(950463),j=a.i(277687);let k=(0,a.i(170106).default)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);var l=a.i(856738),m=a.i(167453),n=a.i(346271),o=a.i(262036),p=a.i(370975),q=a.i(965733),r=a.i(464286),s=a.i(487228);let t={MTN:[{id:"mtn-corp-1gb",name:"1GB Corporate",size:"1GB",price:300,validity:"30 days"},{id:"mtn-corp-2gb",name:"2GB Corporate",size:"2GB",price:600,validity:"30 days"},{id:"mtn-corp-3gb",name:"3GB Corporate",size:"3GB",price:900,validity:"30 days"},{id:"mtn-corp-4gb",name:"4GB Corporate",size:"4GB",price:1200,validity:"30 days"},{id:"mtn-corp-5gb",name:"5GB Corporate",size:"5GB",price:1500,validity:"30 days"},{id:"mtn-corp-10gb",name:"10GB Corporate",size:"10GB",price:3e3,validity:"30 days"},{id:"mtn-corp-25gb",name:"25GB Corporate",size:"25GB",price:7500,validity:"30 days"},{id:"mtn-corp-50gb",name:"50GB Corporate",size:"50GB",price:15e3,validity:"30 days"}],Airtel:[{id:"airtel-corp-1gb",name:"1GB Corporate",size:"1GB",price:290,validity:"30 days"},{id:"airtel-corp-2gb",name:"2GB Corporate",size:"2GB",price:580,validity:"30 days"},{id:"airtel-corp-3gb",name:"3GB Corporate",size:"3GB",price:870,validity:"30 days"},{id:"airtel-corp-4gb",name:"4GB Corporate",size:"4GB",price:1160,validity:"30 days"},{id:"airtel-corp-5gb",name:"5GB Corporate",size:"5GB",price:1450,validity:"30 days"},{id:"airtel-corp-10gb",name:"10GB Corporate",size:"10GB",price:2900,validity:"30 days"},{id:"airtel-corp-25gb",name:"25GB Corporate",size:"25GB",price:7250,validity:"30 days"}],Glo:[{id:"glo-corp-1gb",name:"1GB Corporate",size:"1GB",price:280,validity:"30 days"},{id:"glo-corp-2gb",name:"2GB Corporate",size:"2GB",price:560,validity:"30 days"},{id:"glo-corp-3gb",name:"3GB Corporate",size:"3GB",price:840,validity:"30 days"},{id:"glo-corp-4gb",name:"4GB Corporate",size:"4GB",price:1120,validity:"30 days"},{id:"glo-corp-5gb",name:"5GB Corporate",size:"5GB",price:1400,validity:"30 days"},{id:"glo-corp-10gb",name:"10GB Corporate",size:"10GB",price:2800,validity:"30 days"}],"9mobile":[{id:"9mobile-corp-1gb",name:"1GB Corporate",size:"1GB",price:270,validity:"30 days"},{id:"9mobile-corp-2gb",name:"2GB Corporate",size:"2GB",price:540,validity:"30 days"},{id:"9mobile-corp-3gb",name:"3GB Corporate",size:"3GB",price:810,validity:"30 days"},{id:"9mobile-corp-4gb",name:"4GB Corporate",size:"4GB",price:1080,validity:"30 days"},{id:"9mobile-corp-5gb",name:"5GB Corporate",size:"5GB",price:1350,validity:"30 days"},{id:"9mobile-corp-10gb",name:"10GB Corporate",size:"10GB",price:2700,validity:"30 days"}]};function u(){let[a,u]=(0,c.useState)(!0),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(0),[z,A]=(0,c.useState)(""),[B,C]=(0,c.useState)(null),D=z&&B?`${z.toLowerCase()}.${B.size.toLowerCase()}`:"",{price:E,isLoading:F,error:G,submitService:H}=(0,p.default)("data","corporate",D,{network:z,size:B?.size||""}),[I,J]=(0,c.useState)(""),[K,L]=(0,c.useState)("wallet"),[M,N]=(0,c.useState)(!1),[O,P]=(0,c.useState)(""),[Q,R]=(0,c.useState)(!1),[S,T]=(0,c.useState)(null),{toast:U}=(0,j.useToast)();(0,c.useEffect)(()=>{let a=localStorage.getItem("ufriends_wallet_balance");y(a?Number.parseFloat(a):0),u(!1)},[]);let V=z&&t[z]||[],W=()=>"number"==typeof E?Math.round(E):0,X=async a=>{if(a.preventDefault(),!z||!B||!I||!K)return void U({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});if(11!==I.length)return void U({title:"Invalid Phone Number",description:"Phone number must be 11 digits",variant:"destructive"});let b=W();if("number"!=typeof E)return void U({title:"Pricing Unavailable",description:"Live pricing could not be fetched. Please try again.",variant:"destructive"});if("wallet"===K&&x<b)return void U({title:"Insufficient Balance",description:`You need ₦${b.toLocaleString()} but have ₦${x.toLocaleString()}`,variant:"destructive"});if("wallet"!==K){w(!0),P(crypto.randomUUID()),w(!1),N(!0),U({title:"Order Received",description:"Please complete bank transfer"});return}T({amount:b,phone:I,network:z,planCode:B.size,idempotencyKey:crypto.randomUUID(),category:"data",action:"corporate"}),R(!0)},Y=async a=>{R(!1),w(!0);try{let b=await H({...S,pin:a});if(!b.ok)return void(0,s.handleServiceError)(b,U,"Purchase Failed");P(b?.reference||crypto.randomUUID()),N(!0),U({title:"Purchase Successful",description:`${B?.size} sent to ${I}`})}catch(a){U({title:"Purchase Failed",description:a?.message||"Unable to complete purchase",variant:"destructive"})}finally{w(!1)}};return a?(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,b.jsx)(i.Skeleton,{className:"h-32 w-full"}),(0,b.jsx)(i.Skeleton,{className:"h-96 w-full"})]}):(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,b.jsx)(k,{className:"h-12 w-12 text-[#3457D5] mr-3"}),(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Corporate Data"})]}),(0,b.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Premium corporate data plans for businesses"})]}),(0,b.jsx)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:(0,b.jsx)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,b.jsxs)(e.Card,{className:"bg-gradient-to-br from-[#3457D5] to-[#CCCCFF] text-white",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center text-white",children:[(0,b.jsx)(l.Wallet,{className:"h-5 w-5 mr-2"}),"Wallet Balance"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("p",{className:"text-3xl font-bold",children:["₦",x.toLocaleString()]})})]})})}),(0,b.jsx)(n.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,b.jsxs)(e.Card,{className:"shadow-lg border-[#CCCCFF]",children:[(0,b.jsxs)(e.CardHeader,{className:"bg-[#F9F7F3]",children:[(0,b.jsx)(e.CardTitle,{className:"text-[#3457D5]",children:"Purchase Corporate Data"}),(0,b.jsx)(e.CardDescription,{children:"Enterprise-grade data solutions"})]}),(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("form",{onSubmit:X,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"network",children:"Select Network *"}),(0,b.jsxs)(h.Select,{value:z,onValueChange:A,children:[(0,b.jsx)(h.SelectTrigger,{className:"border-[#CCCCFF] focus:ring-[#3457D5]",children:(0,b.jsx)(h.SelectValue,{placeholder:"Choose network"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"MTN",children:"MTN"}),(0,b.jsx)(h.SelectItem,{value:"Airtel",children:"Airtel"}),(0,b.jsx)(h.SelectItem,{value:"Glo",children:"Glo"}),(0,b.jsx)(h.SelectItem,{value:"9mobile",children:"9mobile"})]})]})]}),(0,b.jsx)(o.AnimatePresence,{mode:"wait",children:z&&(0,b.jsxs)(n.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[(0,b.jsx)(g.Label,{htmlFor:"plan",children:"Select Corporate Plan *"}),(0,b.jsxs)(h.Select,{value:B?.id||"",onValueChange:a=>{C(V.find(b=>b.id===a)||null)},children:[(0,b.jsx)(h.SelectTrigger,{className:"border-[#CCCCFF] focus:ring-[#3457D5]",children:(0,b.jsx)(h.SelectValue,{placeholder:"Choose corporate plan"})}),(0,b.jsx)(h.SelectContent,{children:V.map(a=>(0,b.jsxs)(h.SelectItem,{value:a.id,children:[a.name," (",a.validity,")"]},a.id))})]}),B&&(0,b.jsxs)("div",{className:"mt-3 text-sm text-gray-700",children:[F&&(0,b.jsx)("p",{children:"Fetching live price…"}),!F&&G&&(0,b.jsxs)("p",{className:"text-red-600",children:["Unable to fetch price: ",G]}),!F&&!G&&"number"==typeof E&&(0,b.jsxs)("p",{children:["Current price: ₦",Math.round(E).toLocaleString()]})]})]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"recipientNumber",children:"Recipient Phone Number *"}),(0,b.jsx)(f.Input,{id:"recipientNumber",type:"tel",placeholder:"08012345678",value:I,onChange:a=>J(a.target.value.replace(/\D/g,"").slice(0,11)),maxLength:11,className:"border-[#CCCCFF] focus:ring-[#3457D5]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"paymentMethod",children:"Payment Method *"}),(0,b.jsxs)(h.Select,{value:K,onValueChange:L,children:[(0,b.jsx)(h.SelectTrigger,{className:"border-[#CCCCFF] focus:ring-[#3457D5]",children:(0,b.jsx)(h.SelectValue,{placeholder:"Choose payment method"})}),(0,b.jsxs)(h.SelectContent,{children:[(0,b.jsx)(h.SelectItem,{value:"wallet",children:"Wallet"}),(0,b.jsx)(h.SelectItem,{value:"bank",children:"Bank Transfer"})]})]})]}),B&&(0,b.jsxs)(n.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-[#F9F7F3] rounded-lg border border-[#CCCCFF]",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Data Plan:"}),(0,b.jsx)("span",{className:"font-semibold",children:B.size})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Validity:"}),(0,b.jsx)("span",{className:"font-semibold",children:B.validity})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold text-[#3457D5]",children:[(0,b.jsx)("span",{children:"Total Amount:"}),(0,b.jsxs)("span",{children:["₦",W().toLocaleString()]})]})]}),(0,b.jsx)(d.Button,{type:"submit",disabled:v||!z||!B||!I,className:"w-full bg-[#3457D5] hover:bg-[#2a4ab0] text-white",children:v?"Processing...":"Buy Corporate Data"})]})})]})}),z&&(0,b.jsx)(b.Fragment,{}),(0,b.jsx)(q.Dialog,{open:M,onOpenChange:N,children:(0,b.jsxs)(q.DialogContent,{className:"border-[#CCCCFF]",children:[(0,b.jsxs)(q.DialogHeader,{children:[(0,b.jsx)("div",{className:"flex justify-center mb-4",children:(0,b.jsx)("div",{className:"rounded-full bg-green-100 p-3",children:(0,b.jsx)(m.CheckCircle2,{className:"h-12 w-12 text-green-600"})})}),(0,b.jsx)(q.DialogTitle,{className:"text-center text-2xl text-[#3457D5]",children:"wallet"===K?"Purchase Successful!":"Order Received!"}),(0,b.jsxs)(q.DialogDescription,{className:"text-center space-y-4 pt-4",children:[(0,b.jsxs)("div",{className:"bg-[#F9F7F3] p-4 rounded-lg space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Transaction ID:"}),(0,b.jsx)("span",{className:"font-semibold",children:O})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Network:"}),(0,b.jsx)("span",{className:"font-semibold",children:z})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Data Plan:"}),(0,b.jsx)("span",{className:"font-semibold",children:B?.size})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Recipient:"}),(0,b.jsx)("span",{className:"font-semibold",children:I})]}),(0,b.jsxs)("div",{className:"flex justify-between text-lg font-bold text-[#3457D5]",children:[(0,b.jsx)("span",{children:"Amount:"}),(0,b.jsxs)("span",{children:["₦",B?W().toLocaleString():0]})]})]}),"bank"===K&&(0,b.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[(0,b.jsx)("p",{className:"text-sm text-yellow-800 font-semibold mb-2",children:"Bank Transfer Details:"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Bank: GTBank"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Account: 0123456789"}),(0,b.jsx)("p",{className:"text-xs text-gray-600",children:"Name: UFriends IT"})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"wallet"===K?"Data will be delivered within 5 minutes":"Data will be delivered after payment confirmation"})]})]}),(0,b.jsx)(d.Button,{onClick:()=>{A(""),C(null),J(""),L("wallet"),N(!1),P("")},className:"w-full bg-[#3457D5] hover:bg-[#2a4ab0]",children:"Make Another Purchase"})]})}),(0,b.jsx)(r.PinPrompt,{isOpen:Q,onClose:()=>R(!1),onConfirm:Y,isLoading:v})]})}a.s(["default",()=>u],542087)}];

//# sourceMappingURL=app_services_data_cooperate_page_tsx_4ecd6c17._.js.map