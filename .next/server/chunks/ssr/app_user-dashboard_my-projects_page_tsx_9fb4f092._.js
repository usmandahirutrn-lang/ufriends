module.exports=[289185,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(346271),e=a.i(262036),f=a.i(703130),g=a.i(254161),h=a.i(340695),i=a.i(621958),j=a.i(965733),k=a.i(917171),l=a.i(546893),m=a.i(277687),n=a.i(553254),o=a.i(177156),p=a.i(284505),q=a.i(821374),r=a.i(641710),s=a.i(167453),t=a.i(292e3);let u=(0,a.i(170106).default)("FileCode",[["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z",key:"1mlx9k"}]]);var v=a.i(677050),w=a.i(497895);function x(){let[a,x]=(0,c.useState)([]),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)(null),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(0),[I,J]=(0,c.useState)(""),{toast:K}=(0,m.useToast)();(0,c.useEffect)(()=>{L()},[]);let L=async()=>{try{let a=await (0,v.authFetch)("/api/software/requests");if(!a.ok){console.error("Failed to load projects",await a.text()),x([]),z([]);return}let b=await a.json(),c=b?.items||[],d=c.map(a=>({id:a.id,userId:a.userId,serviceType:a.serviceType,subType:a.subType,formData:a.formData||{},price:Number(a.price||0),status:(a=>{switch((a||"").toUpperCase()){case"COMPLETED":return"Completed";case"PROCESSING":return"In Progress";case"FAILED":return"Rejected";default:return"Pending"}})(a.status),submittedAt:a.submittedAt,completedAt:void 0,deliveryFile:Array.isArray(a.deliveryFiles)&&a.deliveryFiles.length>0&&a.deliveryFiles[0]?.fileUrl?a.deliveryFiles[0].fileUrl:void 0,progressNote:Array.isArray(a.deliveryFiles)&&a.deliveryFiles.length>0&&a.deliveryFiles[0]?.note?a.deliveryFiles[0].note:void 0}));x(d);let e=c.filter(a=>!!a.assignment).map(a=>({requestId:a.id,developerName:a.assignment.developerName,contact:a.assignment.contact||void 0,expectedCompletion:a.assignment.assignedAt,assignedBy:a.assignment.assignedBy,assignedAt:a.assignment.assignedAt}));z(e)}catch(a){console.error("Error loading projects",a),x([]),z([])}},M=a=>y.find(b=>b.requestId===a),N=a=>{let c={Pending:{variant:"secondary",icon:r.Clock},"In Progress":{variant:"default",icon:n.Code2},Completed:{variant:"outline",icon:s.CheckCircle2},Rejected:{variant:"destructive",icon:t.AlertCircle}},{variant:d,icon:e}=c[a]||c.Pending;return(0,b.jsxs)(g.Badge,{variant:d,className:"flex items-center gap-1",children:[(0,b.jsx)(e,{className:"h-3 w-3"}),a]})},O=a=>({stages:["Submitted","Under Review","In Progress","Completed"],currentIndex:"Pending"===a?0:"In Progress"===a?2:"Completed"===a?3:1}),P=b=>{switch(b){case"in-progress":return a.filter(a=>"In Progress"===a.status);case"completed":return a.filter(a=>"Completed"===a.status);case"pending":return a.filter(a=>"Pending"===a.status);default:return a}},Q=({project:a})=>{let c=M(a.id);return(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},layout:!0,children:(0,b.jsxs)(f.Card,{className:"border-2 border-[#CCCCFF] hover:shadow-lg transition-shadow",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(f.CardTitle,{className:"text-lg text-[#3457D5]",children:a.formData.projectTitle}),(0,b.jsxs)(f.CardDescription,{className:"mt-1",children:[(0,b.jsx)(g.Badge,{variant:"secondary",className:"mr-2",children:a.subType}),N(a.status)]})]}),(0,b.jsxs)("div",{className:"text-right",children:[(0,b.jsxs)("p",{className:"text-2xl font-bold text-[#3457D5]",children:["₦",a.price.toLocaleString()]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:new Date(a.submittedAt).toLocaleDateString()})]})]})}),(0,b.jsxs)(f.CardContent,{className:"space-y-4",children:[c&&(0,b.jsxs)("div",{className:"rounded-lg bg-[#CCCCFF]/20 p-3",children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-[#3457D5]",children:["Assigned to: ",c.developerName]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Expected completion: ",new Date(c.expectedCompletion).toLocaleDateString()]})]}),a.progressNote&&(0,b.jsxs)("div",{className:"rounded-lg bg-blue-50 p-3",children:[(0,b.jsx)("p",{className:"text-xs font-semibold text-blue-900",children:"Latest Update:"}),(0,b.jsx)("p",{className:"text-sm text-blue-800",children:a.progressNote})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(h.Button,{onClick:()=>{B(a),D(!0)},className:"flex-1 bg-[#3457D5]",children:[(0,b.jsx)(o.Eye,{className:"mr-2 h-4 w-4"}),"View Details"]}),"Completed"===a.status&&(0,b.jsxs)(b.Fragment,{children:[a.deliveryFile&&(0,b.jsxs)(h.Button,{variant:"outline",onClick:()=>window.open((0,w.ensureAbsoluteUrl)(a.deliveryFile),"_blank"),children:[(0,b.jsx)(p.Download,{className:"mr-2 h-4 w-4"}),"Download"]}),(0,b.jsxs)(h.Button,{variant:"outline",onClick:()=>{B(a),F(!0)},children:[(0,b.jsx)(q.Star,{className:"mr-2 h-4 w-4"}),"Rate"]})]})]})]})]})})};return(0,b.jsx)("div",{className:"min-h-screen bg-[#F9F7F3] p-6",children:(0,b.jsxs)("div",{className:"mx-auto max-w-7xl space-y-6",children:[(0,b.jsxs)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,b.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-[#3457D5]",children:(0,b.jsx)(n.Code2,{className:"h-6 w-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-[#3457D5]",children:"My Projects"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Track your software development projects"})]})]}),(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-4 mb-6",children:[(0,b.jsxs)(f.Card,{className:"border-2 border-[#CCCCFF]",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Total Projects"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"text-3xl font-bold text-[#3457D5]",children:a.length})})]}),(0,b.jsxs)(f.Card,{className:"border-2 border-[#CCCCFF]",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"In Progress"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"text-3xl font-bold text-blue-600",children:a.filter(a=>"In Progress"===a.status).length})})]}),(0,b.jsxs)(f.Card,{className:"border-2 border-[#CCCCFF]",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Completed"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"text-3xl font-bold text-green-600",children:a.filter(a=>"Completed"===a.status).length})})]}),(0,b.jsxs)(f.Card,{className:"border-2 border-[#CCCCFF]",children:[(0,b.jsx)(f.CardHeader,{className:"pb-3",children:(0,b.jsx)(f.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Pending"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"text-3xl font-bold text-orange-600",children:a.filter(a=>"Pending"===a.status).length})})]})]}),(0,b.jsxs)(i.Tabs,{defaultValue:"all",className:"space-y-6",children:[(0,b.jsxs)(i.TabsList,{className:"bg-white border-2 border-[#CCCCFF]",children:[(0,b.jsx)(i.TabsTrigger,{value:"all",children:"All Projects"}),(0,b.jsx)(i.TabsTrigger,{value:"in-progress",children:"In Progress"}),(0,b.jsx)(i.TabsTrigger,{value:"completed",children:"Completed"}),(0,b.jsx)(i.TabsTrigger,{value:"pending",children:"Pending Review"})]}),(0,b.jsx)(i.TabsContent,{value:"all",children:0===a.length?(0,b.jsx)(()=>(0,b.jsxs)(d.motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"flex flex-col items-center justify-center py-16 text-center",children:[(0,b.jsx)("div",{className:"mb-6 flex h-24 w-24 items-center justify-center rounded-full bg-[#CCCCFF]",children:(0,b.jsx)(u,{className:"h-12 w-12 text-[#3457D5]"})}),(0,b.jsx)("h3",{className:"mb-2 text-2xl font-bold text-[#3457D5]",children:"No Projects Yet"}),(0,b.jsx)("p",{className:"mb-6 text-muted-foreground",children:"You haven't requested any software development project yet."}),(0,b.jsxs)(h.Button,{className:"bg-[#3457D5]",onClick:()=>window.location.href="/services/software-development/web-app",children:[(0,b.jsx)(n.Code2,{className:"mr-2 h-4 w-4"}),"Start a Project"]})]}),{}):(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:(0,b.jsx)(e.AnimatePresence,{mode:"popLayout",children:a.map(a=>(0,b.jsx)(Q,{project:a},a.id))})})}),(0,b.jsx)(i.TabsContent,{value:"in-progress",children:0===P("in-progress").length?(0,b.jsx)(f.Card,{className:"border-2 border-[#CCCCFF] p-12 text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No projects in progress"})}):(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:(0,b.jsx)(e.AnimatePresence,{mode:"popLayout",children:P("in-progress").map(a=>(0,b.jsx)(Q,{project:a},a.id))})})}),(0,b.jsx)(i.TabsContent,{value:"completed",children:0===P("completed").length?(0,b.jsx)(f.Card,{className:"border-2 border-[#CCCCFF] p-12 text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No completed projects yet"})}):(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:(0,b.jsx)(e.AnimatePresence,{mode:"popLayout",children:P("completed").map(a=>(0,b.jsx)(Q,{project:a},a.id))})})}),(0,b.jsx)(i.TabsContent,{value:"pending",children:0===P("pending").length?(0,b.jsx)(f.Card,{className:"border-2 border-[#CCCCFF] p-12 text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"No pending projects"})}):(0,b.jsx)("div",{className:"grid gap-6 md:grid-cols-2",children:(0,b.jsx)(e.AnimatePresence,{mode:"popLayout",children:P("pending").map(a=>(0,b.jsx)(Q,{project:a},a.id))})})})]})]}),(0,b.jsx)(j.Dialog,{open:C,onOpenChange:D,children:(0,b.jsxs)(j.DialogContent,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Project Details"}),(0,b.jsx)(j.DialogDescription,{children:"Complete information about your project"})]}),A&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-xl font-bold text-[#3457D5] mb-2",children:A.formData.projectTitle}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Badge,{variant:"secondary",children:A.subType}),N(A.status)]})]}),(0,b.jsxs)(f.Card,{className:"border-2 border-[#CCCCFF]",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-sm",children:"Project Timeline"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("div",{className:"flex items-center justify-between",children:O(A.status).stages.map((a,c)=>{let d=c<=O(A.status).currentIndex;return(0,b.jsxs)("div",{className:"flex flex-1 items-center",children:[(0,b.jsxs)("div",{className:"flex flex-col items-center",children:[(0,b.jsx)("div",{className:`flex h-10 w-10 items-center justify-center rounded-full ${d?"bg-[#3457D5] text-white":"bg-gray-200 text-gray-500"}`,children:c+1}),(0,b.jsx)("p",{className:`mt-2 text-xs ${d?"font-semibold":"text-muted-foreground"}`,children:a})]}),c<O(A.status).stages.length-1&&(0,b.jsx)("div",{className:`h-1 flex-1 ${d?"bg-[#3457D5]":"bg-gray-200"}`,style:{marginTop:"-20px"}})]},a)})})})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-semibold",children:"Description"}),(0,b.jsx)("p",{className:"text-sm mt-1",children:A.formData.projectDescription||A.formData.description||A.formData.problemDescription})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-sm font-semibold",children:"Features"}),(0,b.jsx)("p",{className:"text-sm mt-1",children:A.formData.featureRequirements||A.formData.features||A.formData.featureList})]})]}),M(A.id)&&(0,b.jsxs)(f.Card,{className:"border-2 border-[#CCCCFF] bg-[#CCCCFF]/10",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-sm",children:"Developer Information"})}),(0,b.jsxs)(f.CardContent,{className:"space-y-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Developer"}),(0,b.jsx)("p",{className:"font-semibold",children:M(A.id)?.developerName})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Expected Completion"}),(0,b.jsx)("p",{children:M(A.id)?.expectedCompletion&&new Date(M(A.id).expectedCompletion).toLocaleDateString()})]})]})]}),A.progressNote&&(0,b.jsxs)(f.Card,{className:"border-2 border-blue-200 bg-blue-50",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-sm text-blue-900",children:"Progress Notes"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsx)("p",{className:"text-sm text-blue-800",children:A.progressNote})})]}),A.deliveryFile&&(0,b.jsxs)(f.Card,{className:"border-2 border-green-200 bg-green-50",children:[(0,b.jsx)(f.CardHeader,{children:(0,b.jsx)(f.CardTitle,{className:"text-sm text-green-900",children:"Delivery Evidence"})}),(0,b.jsx)(f.CardContent,{children:(0,b.jsxs)(h.Button,{onClick:()=>window.open((0,w.ensureAbsoluteUrl)(A.deliveryFile),"_blank"),className:"bg-green-600",children:[(0,b.jsx)(p.Download,{className:"mr-2 h-4 w-4"}),"Download Delivery File"]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4 border-t",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Budget Range"}),(0,b.jsx)("p",{className:"font-semibold",children:A.formData.budgetRange})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"text-xs text-muted-foreground",children:"Project Cost"}),(0,b.jsxs)("p",{className:"text-xl font-bold text-[#3457D5]",children:["₦",A.price.toLocaleString()]})]})]})]})]})}),(0,b.jsx)(j.Dialog,{open:E,onOpenChange:F,children:(0,b.jsxs)(j.DialogContent,{children:[(0,b.jsxs)(j.DialogHeader,{children:[(0,b.jsx)(j.DialogTitle,{children:"Rate This Project"}),(0,b.jsx)(j.DialogDescription,{children:"Share your experience with this project"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{className:"mb-3 block",children:"Your Rating"}),(0,b.jsx)("div",{className:"flex gap-2",children:[1,2,3,4,5].map(a=>(0,b.jsx)("button",{onClick:()=>H(a),className:"transition-transform hover:scale-110",children:(0,b.jsx)(q.Star,{className:`h-10 w-10 ${a<=G?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(k.Label,{htmlFor:"feedback",children:"Your Feedback"}),(0,b.jsx)(l.Textarea,{id:"feedback",value:I,onChange:a=>J(a.target.value),placeholder:"Tell us about your experience...",rows:4,className:"mt-2"})]}),(0,b.jsx)(h.Button,{onClick:()=>{if(!A||0===G)return void K({title:"Rating Required",description:"Please select a rating before submitting",variant:"destructive"});let a=JSON.parse(localStorage.getItem("ufriends_project_feedback")||"[]"),b={projectId:A.id,rating:G,comment:I,submittedAt:new Date().toISOString()};a.push(b),localStorage.setItem("ufriends_project_feedback",JSON.stringify(a)),K({title:"Thank You!",description:"Your feedback has been submitted successfully"}),F(!1),H(0),J("")},className:"w-full bg-[#3457D5]",children:"Submit Rating"})]})]})})]})})}a.s(["default",()=>x],289185)}];

//# sourceMappingURL=app_user-dashboard_my-projects_page_tsx_9fb4f092._.js.map