module.exports=[546893,a=>{"use strict";var b=a.i(187924),c=a.i(497895);function d({className:a,...d}){return(0,b.jsx)("textarea",{"data-slot":"textarea",className:(0,c.cn)("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),...d})}a.s(["Textarea",()=>d])},781560,a=>{"use strict";let b=(0,a.i(170106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],781560)},773320,a=>{"use strict";let b=(0,a.i(170106).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);a.s(["Upload",()=>b],773320)},915618,a=>{"use strict";let b=(0,a.i(170106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],915618)},838632,a=>{"use strict";let b=(0,a.i(170106).default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["Image",()=>b],838632)},824569,a=>{"use strict";let b=(0,a.i(170106).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],824569)},64791,a=>{"use strict";let b=(0,a.i(170106).default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);a.s(["Video",()=>b],64791)},473798,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(346271),e=a.i(703130),f=a.i(340695),g=a.i(205522),h=a.i(546893),i=a.i(917171),j=a.i(887682),k=a.i(965733),l=a.i(254161),m=a.i(823292),n=a.i(915618),o=a.i(781560),p=a.i(824569),q=a.i(64791),r=a.i(773320),s=a.i(104720),t=a.i(838632),u=a.i(596221),v=a.i(677050),w=a.i(497895);function x(){let[a,x]=(0,c.useState)([]),[y,z]=(0,c.useState)(!0),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(null),[E,F]=(0,c.useState)(!1),G=(0,c.useRef)(null),[H,I]=(0,c.useState)({category:"Free",title:"",description:"",videoUrl:"",pdfUrl:"",fileUrl:"",fileType:"",fileName:""});(0,c.useEffect)(()=>{J()},[]);let J=async()=>{try{let a=await (0,v.authFetch)("/api/training");if(a.ok){let b=await a.json();x(b.trainings||[])}}catch(a){m.toast.error("Failed to load trainings")}finally{z(!1)}},K=async a=>{let b=a.target.files?.[0];if(b){F(!0);try{let a=new FormData;a.append("file",b);let c=await (0,v.authFetch)("/api/training/upload",{method:"POST",body:a}),d=await c.json();c.ok?(I({...H,fileUrl:d.fileUrl,fileType:d.fileType,fileName:d.fileName}),m.toast.success("File uploaded successfully")):m.toast.error(d.error||"Upload failed")}catch(a){m.toast.error("Failed to upload file")}finally{F(!1)}}},L=async a=>{if(a.preventDefault(),!H.title||!H.description)return void m.toast.error("Please fill in all required fields");try{let a=await (0,v.authFetch)("/api/training",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C?{action:"update",id:C,updates:{...H,pdfUrl:H.pdfUrl?(0,w.ensureAbsoluteUrl)(H.pdfUrl):"",videoUrl:H.videoUrl?(0,w.ensureAbsoluteUrl)(H.videoUrl):""}}:{action:"create",training:{...H,pdfUrl:H.pdfUrl?(0,w.ensureAbsoluteUrl)(H.pdfUrl):"",videoUrl:H.videoUrl?(0,w.ensureAbsoluteUrl)(H.videoUrl):""}})});if(a.ok){let b=await a.json();x(b.trainings||[]),m.toast.success(C?"Training updated":"Training uploaded"),M()}else m.toast.error("Failed to save training")}catch(a){m.toast.error("Failed to save training")}},M=()=>{I({category:"Free",title:"",description:"",videoUrl:"",pdfUrl:"",fileUrl:"",fileType:"",fileName:""}),D(null),B(!1)},N=async a=>{if(confirm("Are you sure you want to delete this training?"))try{let b=await (0,v.authFetch)("/api/training",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"delete",id:a})});if(b.ok){let a=await b.json();x(a.trainings||[]),m.toast.success("Training deleted")}}catch(a){m.toast.error("Failed to delete")}},O=a=>a?a.startsWith("video/")?(0,b.jsx)(q.Video,{className:"w-4 h-4"}):a.startsWith("image/")?(0,b.jsx)(t.Image,{className:"w-4 h-4"}):(0,b.jsx)(s.FileText,{className:"w-4 h-4"}):(0,b.jsx)(s.FileText,{className:"w-4 h-4"});return y?(0,b.jsx)("div",{className:"min-h-screen bg-[#F9F7F3] p-6 flex items-center justify-center",children:(0,b.jsx)(u.Loader2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):(0,b.jsx)("div",{className:"min-h-screen bg-[#F9F7F3] p-6",children:(0,b.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-[#3457D5] mb-2",children:"Training Manager"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Upload and manage training content for users"})]}),(0,b.jsxs)(k.Dialog,{open:A,onOpenChange:B,children:[(0,b.jsx)(k.DialogTrigger,{asChild:!0,children:(0,b.jsxs)(f.Button,{className:"bg-[#3457D5] hover:bg-[#2a46b0] text-white",children:[(0,b.jsx)(n.Plus,{className:"w-4 h-4 mr-2"}),"Add Training"]})}),(0,b.jsxs)(k.DialogContent,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(k.DialogHeader,{children:(0,b.jsx)(k.DialogTitle,{children:C?"Edit Training":"Add New Training"})}),(0,b.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"category",children:"Category *"}),(0,b.jsxs)(j.Select,{value:H.category,onValueChange:a=>I({...H,category:a}),children:[(0,b.jsx)(j.SelectTrigger,{children:(0,b.jsx)(j.SelectValue,{})}),(0,b.jsxs)(j.SelectContent,{children:[(0,b.jsx)(j.SelectItem,{value:"Free",children:"Free"}),(0,b.jsx)(j.SelectItem,{value:"Premium",children:"Premium"}),(0,b.jsx)(j.SelectItem,{value:"CAC",children:"CAC Registration"}),(0,b.jsx)(j.SelectItem,{value:"NIN",children:"NIN Modification"}),(0,b.jsx)(j.SelectItem,{value:"BVN",children:"BVN Modification"}),(0,b.jsx)(j.SelectItem,{value:"Agency",children:"Agency Updates"})]})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"title",children:"Training Title *"}),(0,b.jsx)(g.Input,{id:"title",value:H.title,onChange:a=>I({...H,title:a.target.value}),placeholder:"e.g., How to Register a Company",required:!0})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"description",children:"Description *"}),(0,b.jsx)(h.Textarea,{id:"description",value:H.description,onChange:a=>I({...H,description:a.target.value}),placeholder:"Brief description of the training content",rows:3,required:!0})]}),(0,b.jsxs)("div",{className:"border-2 border-dashed rounded-lg p-4 space-y-3",children:[(0,b.jsx)(i.Label,{children:"Upload File (Video, PDF, Image, Document)"}),(0,b.jsx)("input",{ref:G,type:"file",accept:"video/*,application/pdf,image/*,.doc,.docx,.xls,.xlsx,.ppt,.pptx",onChange:K,className:"hidden"}),(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:()=>G.current?.click(),disabled:E,className:"w-full",children:E?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(u.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),"Uploading..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r.Upload,{className:"w-4 h-4 mr-2"}),"Choose File"]})}),H.fileName&&(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-green-600 bg-green-50 p-2 rounded",children:[O(H.fileType),(0,b.jsx)("span",{children:H.fileName})]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"videoUrl",children:"Or Video URL (YouTube embed)"}),(0,b.jsx)(g.Input,{id:"videoUrl",value:H.videoUrl,onChange:a=>I({...H,videoUrl:a.target.value}),placeholder:"https://www.youtube.com/embed/..."})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(i.Label,{htmlFor:"pdfUrl",children:"Or Resource URL (External link)"}),(0,b.jsx)(g.Input,{id:"pdfUrl",value:H.pdfUrl,onChange:a=>I({...H,pdfUrl:a.target.value}),placeholder:"https://example.com/resource.pdf"})]}),(0,b.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,b.jsx)(f.Button,{type:"submit",className:"flex-1 bg-[#3457D5] hover:bg-[#2a46b0] text-white",children:C?"Update Training":"Upload Training"}),(0,b.jsx)(f.Button,{type:"button",variant:"outline",onClick:M,children:"Cancel"})]})]})]})]})]}),0===a.length?(0,b.jsxs)(e.Card,{className:"p-12 text-center rounded-2xl shadow-sm",children:[(0,b.jsx)(q.Video,{className:"w-16 h-16 mx-auto text-gray-400 mb-4"}),(0,b.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"No Training Content"}),(0,b.jsx)("p",{className:"text-gray-600 mb-4",children:"Start by adding your first training video or tutorial"}),(0,b.jsxs)(f.Button,{onClick:()=>B(!0),className:"bg-[#3457D5] hover:bg-[#2a46b0] text-white",children:[(0,b.jsx)(n.Plus,{className:"w-4 h-4 mr-2"}),"Add Training"]})]}):(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map((a,c)=>(0,b.jsx)(d.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.05*c},children:(0,b.jsxs)(e.Card,{className:"shadow-sm rounded-2xl p-4 hover:shadow-lg transition-shadow",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,b.jsx)(l.Badge,{className:`${{Free:"bg-green-500",Premium:"bg-[#3457D5]",CAC:"bg-purple-500",NIN:"bg-blue-500",BVN:"bg-orange-500",Agency:"bg-pink-500"}[a.category]} text-white`,children:a.category}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Button,{size:"sm",variant:"ghost",onClick:()=>{I({category:a.category,title:a.title,description:a.description,videoUrl:a.videoUrl||"",pdfUrl:a.pdfUrl||"",fileUrl:a.fileUrl||"",fileType:a.fileType||"",fileName:a.fileName||""}),D(a.id),B(!0)},children:(0,b.jsx)(p.Edit,{className:"w-4 h-4"})}),(0,b.jsx)(f.Button,{size:"sm",variant:"ghost",onClick:()=>N(a.id),children:(0,b.jsx)(o.Trash2,{className:"w-4 h-4 text-red-500"})})]})]}),a.videoUrl?(0,b.jsx)("div",{className:"w-full aspect-video rounded-xl bg-gray-200 mb-3 overflow-hidden",children:(0,b.jsx)("iframe",{src:a.videoUrl,className:"w-full h-full",title:a.title})}):a.fileUrl&&a.fileType?.startsWith("video/")?(0,b.jsx)("div",{className:"w-full aspect-video rounded-xl bg-gray-200 mb-3 overflow-hidden",children:(0,b.jsx)("video",{src:a.fileUrl,controls:!0,className:"w-full h-full"})}):a.fileUrl&&a.fileType?.startsWith("image/")?(0,b.jsx)("div",{className:"w-full aspect-video rounded-xl bg-gray-200 mb-3 overflow-hidden",children:(0,b.jsx)("img",{src:a.fileUrl,alt:a.title,className:"w-full h-full object-cover"})}):(0,b.jsx)("div",{className:"w-full aspect-video rounded-xl bg-gradient-to-br from-[#3457D5] to-[#CCCCFF] flex items-center justify-center mb-3",children:a.fileUrl?O(a.fileType):(0,b.jsx)(q.Video,{className:"w-12 h-12 text-white"})}),(0,b.jsx)("h3",{className:"font-semibold text-lg mb-2",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-gray-600 line-clamp-2",children:a.description}),a.fileName&&(0,b.jsxs)("p",{className:"text-xs text-blue-600 mt-2 flex items-center gap-1",children:[O(a.fileType),a.fileName]}),(0,b.jsxs)("p",{className:"text-xs text-gray-400 mt-2",children:["Created: ",new Date(a.createdAt).toLocaleDateString()]})]})},a.id))})]})})}a.s(["default",()=>x])}];

//# sourceMappingURL=_0a6d68c2._.js.map