{"version":3,"sources":["turbopack:///[project]/app/admin/kyc-requests/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useMemo, useState } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Search, Eye, CheckCircle2, Clock, XCircle, ShieldCheck, Loader2 } from \"lucide-react\"\r\nimport { toast } from \"sonner\"\r\n\r\ninterface AdminKycItem {\r\n  id: string\r\n  userId: string\r\n  userEmail: string\r\n  type: \"BVN\" | \"NIN\"\r\n  status: \"PENDING\" | \"APPROVED\" | \"REJECTED\"\r\n  submittedAt: string\r\n  reviewedAt?: string | null\r\n  documents: { id: string; type: string; fileUrl: string }[]\r\n}\r\n\r\nexport default function AdminKYCRequestsPage() {\r\n  const [requests, setRequests] = useState<AdminKycItem[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [actionLoading, setActionLoading] = useState(false)\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [statusFilter, setStatusFilter] = useState<string>(\"ALL\")\r\n  const [selectedId, setSelectedId] = useState<string | null>(null)\r\n  const [isModalOpen, setIsModalOpen] = useState(false)\r\n  const [approvalNote, setApprovalNote] = useState(\"\")\r\n  const [fromDate, setFromDate] = useState(\"\")\r\n  const [toDate, setToDate] = useState(\"\")\r\n\r\n  const selectedRequest = useMemo(() => requests.find((r) => r.id === selectedId), [requests, selectedId])\r\n\r\n  const statusCounts = useMemo(() => {\r\n    const totals = { total: 0, pending: 0, approved: 0, rejected: 0 }\r\n    requests.forEach((r) => {\r\n      totals.total += 1\r\n      if (r.status === \"PENDING\") totals.pending += 1\r\n      else if (r.status === \"APPROVED\") totals.approved += 1\r\n      else if (r.status === \"REJECTED\") totals.rejected += 1\r\n    })\r\n    return totals\r\n  }, [requests])\r\n\r\n  const filteredRequests = useMemo(() => {\r\n    let filtered = [...requests]\r\n    if (searchTerm) {\r\n      const term = searchTerm.toLowerCase()\r\n      filtered = filtered.filter(\r\n        (req) =>\r\n          req.userEmail?.toLowerCase().includes(term) ||\r\n          req.userId.toLowerCase().includes(term) ||\r\n          req.type.toLowerCase().includes(term),\r\n      )\r\n    }\r\n    // This filter is now applied on the server, but we keep it for immediate client-side feedback if needed\r\n    if (statusFilter !== \"ALL\") {\r\n      filtered = filtered.filter((req) => req.status === statusFilter)\r\n    }\r\n    return filtered\r\n  }, [requests, searchTerm, statusFilter])\r\n\r\n  const loadRequests = async () => {\r\n    setLoading(true)\r\n    try {\r\n      const params = new URLSearchParams()\r\n      if (statusFilter && statusFilter !== \"ALL\") params.set(\"status\", statusFilter)\r\n      if (fromDate) params.set(\"from\", fromDate)\r\n      if (toDate) params.set(\"to\", toDate)\r\n      const res = await fetch(`/api/admin/kyc?${params.toString()}`)\r\n      const data = await res.json()\r\n      if (!res.ok) throw new Error(data?.error || \"Failed to load KYC list\")\r\n      setRequests(data.items || [])\r\n    } catch (e: any) {\r\n      toast.error(e?.message || \"Failed to load KYC requests\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadRequests()\r\n  }, [statusFilter]) // Reload when status filter changes\r\n\r\n  const handleViewDetails = (id: string) => {\r\n    setSelectedId(id)\r\n    setApprovalNote(\"\")\r\n    setIsModalOpen(true)\r\n  }\r\n\r\n  const handleApprove = async () => {\r\n    if (!selectedId) return\r\n    setActionLoading(true)\r\n    try {\r\n      const res = await fetch(`/api/kyc/${selectedId}`, {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ status: \"APPROVED\", note: approvalNote || undefined }),\r\n      })\r\n      const data = await res.json()\r\n      if (!res.ok) throw new Error(data?.error || \"Failed to approve\")\r\n      toast.success(\"KYC Approved\", { description: data?.reviewedByEmail ? `By ${data.reviewedByEmail}` : \"\" })\r\n      setApprovalNote(\"\")\r\n      setSelectedId(null)\r\n      setIsModalOpen(false)\r\n      await loadRequests() // Refresh list\r\n    } catch (e: any) {\r\n      toast.error(\"Error\", { description: e.message })\r\n    } finally {\r\n      setActionLoading(false)\r\n    }\r\n  }\r\n\r\n  const handleReject = async () => {\r\n    if (!selectedId) return\r\n    if (!approvalNote.trim()) {\r\n      toast.error(\"A note is required for rejection.\")\r\n      return\r\n    }\r\n    setActionLoading(true)\r\n    try {\r\n      const res = await fetch(`/api/kyc/${selectedId}`, {\r\n        method: \"PATCH\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ status: \"REJECTED\", note: approvalNote || undefined }),\r\n      })\r\n      const data = await res.json()\r\n      if (!res.ok) throw new Error(data?.error || \"Failed to reject\")\r\n      toast.error(\"KYC Rejected\", { description: data?.reviewedByEmail ? `By ${data.reviewedByEmail}` : \"\" })\r\n      setApprovalNote(\"\")\r\n      setSelectedId(null)\r\n      setIsModalOpen(false)\r\n      await loadRequests() // Refresh list\r\n    } catch (e: any) {\r\n      toast.error(\"Error\", { description: e.message })\r\n    } finally {\r\n      setActionLoading(false)\r\n    }\r\n  }\r\n\r\n  const getStatusBadge = (status: AdminKycItem[\"status\"]) => {\r\n    switch (status) {\r\n      case \"APPROVED\":\r\n        return (\r\n          <Badge className=\"bg-green-600 hover:bg-green-700 text-white\">\r\n            <CheckCircle2 className=\"h-3 w-3 mr-1\" /> Approved\r\n          </Badge>\r\n        )\r\n      case \"PENDING\":\r\n        return (\r\n          <Badge variant=\"default\">\r\n            <Clock className=\"h-3 w-3 mr-1\" /> Pending\r\n          </Badge>\r\n        )\r\n      case \"REJECTED\":\r\n        return (\r\n          <Badge variant=\"destructive\">\r\n            <XCircle className=\"h-3 w-3 mr-1\" /> Rejected\r\n          </Badge>\r\n        )\r\n      default:\r\n        return <Badge>{status}</Badge>\r\n    }\r\n  }\r\n\r\n  const selfieUrl = (req?: AdminKycItem) => req?.documents.find((d) => d.type === \"SELFIE\")?.fileUrl\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center gap-3\">\r\n        <div className=\"p-2 rounded-lg bg-primary/10\">\r\n          <ShieldCheck className=\"h-6 w-6 text-primary\" />\r\n        </div>\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground\">KYC Requests</h1>\r\n          <p className=\"text-muted-foreground\">Review and manage user identity verification</p>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"flex flex-wrap gap-2 mb-4\">\r\n        <Badge variant=\"secondary\">Total: {statusCounts.total}</Badge>\r\n        <Badge>Pending: {statusCounts.pending}</Badge>\r\n        <Badge className=\"bg-green-600 text-white hover:bg-green-700\">Approved: {statusCounts.approved}</Badge>\r\n        <Badge variant=\"destructive\">Rejected: {statusCounts.rejected}</Badge>\r\n      </div>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between\">\r\n            <div>\r\n              <CardTitle>KYC Verification Requests</CardTitle>\r\n              <CardDescription>View and process identity verification submissions</CardDescription>\r\n            </div>\r\n            <div className=\"flex gap-2 w-full sm:w-auto\">\r\n              <div className=\"relative flex-1 sm:w-64\">\r\n                <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\r\n                <Input\r\n                  placeholder=\"Search email, user ID...\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                  className=\"pl-9\"\r\n                />\r\n              </div>\r\n              <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n                <SelectTrigger className=\"w-40\">\r\n                  <SelectValue placeholder=\"Status\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"ALL\">All Status</SelectItem>\r\n                  <SelectItem value=\"PENDING\">Pending</SelectItem>\r\n                  <SelectItem value=\"APPROVED\">Approved</SelectItem>\r\n                  <SelectItem value=\"REJECTED\">Rejected</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex flex-wrap items-center gap-2 mt-4\">\r\n            <Input type=\"date\" value={fromDate} onChange={(e) => setFromDate(e.target.value)} placeholder=\"From Date\" className=\"w-auto\" />\r\n            <Input type=\"date\" value={toDate} onChange={(e) => setToDate(e.target.value)} placeholder=\"To Date\" className=\"w-auto\" />\r\n            <Button onClick={loadRequests} disabled={loading}>\r\n              {loading && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />} Apply Filters\r\n            </Button>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"rounded-md border\">\r\n            <Table>\r\n              <TableHeader>\r\n                <TableRow>\r\n                  <TableHead>User</TableHead>\r\n                  <TableHead>Type</TableHead>\r\n                  <TableHead>Selfie</TableHead>\r\n                  <TableHead>Status</TableHead>\r\n                  <TableHead>Submitted</TableHead>\r\n                  <TableHead className=\"text-right\">Actions</TableHead>\r\n                </TableRow>\r\n              </TableHeader>\r\n              <TableBody>\r\n                {loading ? (\r\n                  <TableRow>\r\n                    <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\r\n                      <Loader2 className=\"mx-auto h-8 w-8 animate-spin\" />\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : filteredRequests.length === 0 ? (\r\n                  <TableRow>\r\n                    <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\r\n                      No KYC requests found\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ) : (\r\n                  filteredRequests.map((request) => (\r\n                    <TableRow key={request.id}>\r\n                      <TableCell className=\"text-sm\">\r\n                        <div className=\"font-medium\">{request.userEmail || \"Unknown\"}</div>\r\n                        <div className=\"font-mono text-muted-foreground text-xs\">{request.userId}</div>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <Badge variant=\"outline\">{request.type}</Badge>\r\n                      </TableCell>\r\n                      <TableCell>\r\n                        <img\r\n                          src={selfieUrl(request) || \"/placeholder.svg\"}\r\n                          alt=\"Selfie\"\r\n                          className=\"h-10 w-10 rounded-full object-cover border\"\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell>{getStatusBadge(request.status)}</TableCell>\r\n                      <TableCell className=\"text-sm\">{new Date(request.submittedAt).toLocaleString()}</TableCell>\r\n                      <TableCell className=\"text-right\">\r\n                        <Button variant=\"outline\" size=\"sm\" onClick={() => handleViewDetails(request.id)}>\r\n                          <Eye className=\"h-4 w-4 mr-2\" /> View\r\n                        </Button>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      <Dialog open={isModalOpen} onOpenChange={setIsModalOpen}>\r\n        <DialogContent className=\"max-w-2xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>KYC Verification Details</DialogTitle>\r\n            <DialogDescription>Review and process this verification request</DialogDescription>\r\n          </DialogHeader>\r\n\r\n          {selectedRequest && (\r\n            <div className=\"space-y-6 py-4\">\r\n              <div className=\"flex justify-center\">\r\n                <img\r\n                  src={selfieUrl(selectedRequest) || \"/placeholder.svg\"}\r\n                  alt=\"User selfie\"\r\n                  className=\"w-48 h-48 rounded-lg object-cover border\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <div>\r\n                  <Label className=\"text-muted-foreground\">User</Label>\r\n                  <p className=\"font-medium mt-1\">{selectedRequest.userEmail || \"Unknown\"}</p>\r\n                  <p className=\"font-mono text-xs text-muted-foreground\">{selectedRequest.userId}</p>\r\n                </div>\r\n                <div>\r\n                  <Label className=\"text-muted-foreground\">Type</Label>\r\n                  <p className=\"font-medium mt-1\">{selectedRequest.type}</p>\r\n                </div>\r\n                <div>\r\n                  <Label className=\"text-muted-foreground\">Status</Label>\r\n                  <div className=\"mt-1\">{getStatusBadge(selectedRequest.status)}</div>\r\n                </div>\r\n                <div>\r\n                  <Label className=\"text-muted-foreground\">Submitted At</Label>\r\n                  <p className=\"text-sm mt-1\">{new Date(selectedRequest.submittedAt).toLocaleString()}</p>\r\n                </div>\r\n                {selectedRequest.reviewedAt && (\r\n                  <div>\r\n                    <Label className=\"text-muted-foreground\">Reviewed At</Label>\r\n                    <p className=\"text-sm mt-1\">{new Date(selectedRequest.reviewedAt).toLocaleString()}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label className=\"text-muted-foreground\">Documents</Label>\r\n                <div className=\"grid grid-cols-2 gap-3\">\r\n                  {selectedRequest.documents.filter((d) => d.type !== \"SELFIE\").length > 0 ? (\r\n                    selectedRequest.documents\r\n                      .filter((d) => d.type !== \"SELFIE\")\r\n                      .map((doc) => (\r\n                        <a\r\n                          key={doc.id}\r\n                          href={doc.fileUrl}\r\n                          target=\"_blank\"\r\n                          rel=\"noopener noreferrer\"\r\n                          className=\"border rounded-md p-2 hover:bg-muted\"\r\n                        >\r\n                          <div className=\"text-xs text-muted-foreground\">{doc.type}</div>\r\n                          <div className=\"font-mono text-[11px] truncate\">{doc.fileUrl}</div>\r\n                        </a>\r\n                      ))\r\n                  ) : (\r\n                    <div className=\"text-sm text-muted-foreground col-span-2\">No supporting documents</div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {selectedRequest.status === \"PENDING\" && (\r\n                <>\r\n                  <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"approval-note\">Note (optional for approval, required for rejection)</Label>\r\n                    <Textarea\r\n                      id=\"approval-note\"\r\n                      value={approvalNote}\r\n                      onChange={(e) => setApprovalNote(e.target.value)}\r\n                      placeholder=\"Add a note for this decision...\"\r\n                      rows={3}\r\n                    />\r\n                  </div>\r\n                  <div className=\"flex gap-3\">\r\n                    <Button onClick={handleReject} variant=\"destructive\" className=\"flex-1\" disabled={actionLoading}>\r\n                      {actionLoading ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <XCircle className=\"mr-2 h-4 w-4\" />} Reject\r\n                    </Button>\r\n                    <Button onClick={handleApprove} className=\"flex-1\" disabled={actionLoading}>\r\n                      {actionLoading ? <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> : <CheckCircle2 className=\"mr-2 h-4 w-4\" />} Approve\r\n                    </Button>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}