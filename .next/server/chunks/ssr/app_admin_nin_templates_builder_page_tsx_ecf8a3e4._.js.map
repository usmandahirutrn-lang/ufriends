{"version":3,"sources":["turbopack:///[project]/app/admin/nin/templates/builder/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useCallback, useMemo, useRef, useState } from \"react\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Switch } from \"@/components/ui/switch\"\r\nimport { toast } from \"@/components/ui/use-toast\"\r\nimport { authFetch } from \"@/lib/client-auth\"\r\n\r\ntype Elem = {\r\n  id: string\r\n  type: \"text\" | \"image\" | \"placeholder\" | \"box\"\r\n  x: number\r\n  y: number\r\n  w?: number\r\n  h?: number\r\n  content?: string\r\n  style?: {\r\n    fontFamily?: string\r\n    fontSize?: number\r\n    fontWeight?: number\r\n    color?: string\r\n  }\r\n}\r\n\r\nconst DEFAULT_PLACEHOLDERS = [\r\n  \"generated_at\",\"full_name\",\"image\",\r\n  \"firstName\",\"middleName\",\"lastName\",\"nin\",\"dateOfBirth\",\"gender\",\"issueDate\",\"qrCode\",\"phone\",\"address\",\"stateOfOrigin\",\"lga\",\"trackingId\",\r\n  \"data.bvn\",\"data.nin\",\"data.firstName\",\"data.lastName\",\"data.middleName\",\r\n  \"data.dateOfBirth\",\"data.gender\",\"data.phoneNumber1\",\"data.phoneNumber2\",\"data.email\",\r\n  \"data.enrollmentBank\",\"data.enrollmentBranch\",\r\n  \"data.registrationDate\",\"data.residentialAddress\",\"data.stateOfResidence\",\"data.lgaOfResidence\",\r\n  \"data.stateOfOrigin\",\"data.lgaOfOrigin\",\r\n  \"verification.status\",\"verification.reference\",\r\n]\r\n\r\nconst isImagePlaceholder = (ph?: string) => !!ph && (ph === \"photo\" || ph === \"image\" || ph === \"qrCode\")\r\n\r\nexport default function TemplateBuilderPage() {\r\n  const [name, setName] = useState(\"\")\r\n  const [type, setType] = useState<\"digital\" | \"physical\" | \"nims\">(\"digital\")\r\n  const [isActive, setIsActive] = useState(true)\r\n  const [canvasElems, setCanvasElems] = useState<Elem[]>([])\r\n  const [bgColor, setBgColor] = useState<string>(\"#ffffff\")\r\n  const [bgUrl, setBgUrl] = useState<string>(\"\")\r\n  const [placeholders, setPlaceholders] = useState<string[]>(DEFAULT_PLACEHOLDERS)\r\n  const canvasRef = useRef<HTMLDivElement | null>(null)\r\n  const [dragId, setDragId] = useState<string | null>(null)\r\n  const [dragOffset, setDragOffset] = useState<{dx: number, dy: number}>({ dx: 0, dy: 0 })\r\n  const [selectedId, setSelectedId] = useState<string | null>(null)\r\n  const [textValue, setTextValue] = useState<string>(\"\")\r\n  const [globalFontFamily, setGlobalFontFamily] = useState<string>(\"Segoe UI, Arial, sans-serif\")\r\n  const [globalFontSize, setGlobalFontSize] = useState<number>(12)\r\n  const [globalColor, setGlobalColor] = useState<string>(\"#000000\")\r\n  const [canvasW, setCanvasW] = useState<number>(794)\r\n  const [canvasH, setCanvasH] = useState<number>(1123)\r\n  const [bgFit, setBgFit] = useState<string>(\"contain\")\r\n  const [useImageSize, setUseImageSize] = useState<boolean>(true)\r\n\r\n  const addElem = (e: Elem) => setCanvasElems((prev) => [...prev, e])\r\n  const removeSelected = () => selectedId && setCanvasElems((prev) => prev.filter((el) => el.id !== selectedId))\r\n\r\n  const onMouseDown = (id: string, e: React.MouseEvent) => {\r\n    const rect = (e.currentTarget as HTMLElement).getBoundingClientRect()\r\n    setDragId(id)\r\n    setSelectedId(id)\r\n    setDragOffset({ dx: e.clientX - rect.left, dy: e.clientY - rect.top })\r\n  }\r\n  const onMouseMove = useCallback((e: React.MouseEvent) => {\r\n    if (!dragId || !canvasRef.current) return\r\n    const canvasRect = canvasRef.current.getBoundingClientRect()\r\n    const x = Math.max(0, Math.min(e.clientX - canvasRect.left - dragOffset.dx, canvasRect.width - 10))\r\n    const y = Math.max(0, Math.min(e.clientY - canvasRect.top - dragOffset.dy, canvasRect.height - 10))\r\n    setCanvasElems((prev) => prev.map((el) => el.id === dragId ? { ...el, x, y } : el))\r\n  }, [dragId, dragOffset])\r\n  const onMouseUp = () => setDragId(null)\r\n\r\n  const selected = useMemo(() => canvasElems.find((e) => e.id === selectedId) || null, [canvasElems, selectedId])\r\n\r\n  const updateSelectedContent = (val: string) => {\r\n    if (!selectedId) return\r\n    setCanvasElems((prev) => prev.map((el) => el.id === selectedId ? { ...el, content: val } : el))\r\n  }\r\n\r\n  const toHtml = (): string => {\r\n    const elemsHtml = canvasElems.map((el) => {\r\n      const baseStyle = `position:absolute; left:${Math.round(el.x)}px; top:${Math.round(el.y)}px;`\r\n      const fontStyle = el.style ? ` font-family:${el.style.fontFamily || globalFontFamily}; font-size:${el.style.fontSize || globalFontSize}px; color:${el.style.color || globalColor}; ${el.style.fontWeight ? `font-weight:${el.style.fontWeight};` : \"\"}` : ` font-family:${globalFontFamily}; font-size:${globalFontSize}px; color:${globalColor};`\r\n      if (el.type === \"text\") {\r\n        const sizeStyle = ` ${el.w ? `width:${el.w}px;` : \"\"}${el.h ? `height:${el.h}px;` : \"\"}`\r\n        return `<div style='${baseStyle};${fontStyle}${sizeStyle}'>${(el.content || \"Text\")}</div>`\r\n      }\r\n      if (el.type === \"image\") {\r\n        const src = el.content || \"/placeholder.jpg\"\r\n        return `<img src='${src}' style='${baseStyle}; width:${el.w || 100}px; height:${el.h || 80}px; object-fit:cover;' />`\r\n      }\r\n      if (el.type === \"placeholder\") {\r\n        const ph = el.content || \"firstName\"\r\n        if (isImagePlaceholder(ph)) {\r\n          return `<img src='{{${ph}}}' style='${baseStyle}; width:${el.w || 100}px; height:${el.h || 80}px; object-fit:cover;' />`\r\n        }\r\n        const sizeStyle = ` width:${el.w || 160}px; height:${el.h || 24}px;`\r\n        return `<div style='${baseStyle};${fontStyle}${sizeStyle}'>{{${ph}}}</div>`\r\n      }\r\n      if (el.type === \"box\") {\r\n        return `<div style='${baseStyle}; width:${el.w || 160}px; height:${el.h || 80}px; border:1px solid #333;'></div>`\r\n      }\r\n      return \"\"\r\n    }).join(\"\")\r\n    const bg = normalizeAssetUrl(bgUrl)\r\n    const bgImg = bg ? `<img src='${bg}' style='position:absolute;left:0;top:0;width:100%;height:100%;object-fit:${bgFit};' />` : \"\"\r\n    const pageStyle = `<style>@page{size:${canvasW}px ${canvasH}px;margin:0}html,body{margin:0;padding:0}</style>`\r\n    return `<!DOCTYPE html><html><head><meta charset='utf-8'>${pageStyle}</head><body style='background:${bgColor};'><div style='position:relative;width:${canvasW}px;height:${canvasH}px;'>${bgImg}${elemsHtml}</div></body></html>`\r\n  }\r\n\r\n  const saveTemplate = async () => {\r\n    if (!name) { toast({ title: \"Name required\", description: \"Enter a template name\", variant: \"destructive\" }); return }\r\n    const html = toHtml()\r\n    const detected = Array.from(html.matchAll(/\\{\\{\\s*([a-zA-Z0-9_\\.]+)\\s*\\}\\}/g)).map((m) => `{{${m[1]}}}`)\r\n    const uniqPh = [...new Set(detected)]\r\n    try {\r\n      const res = await authFetch(\"/api/admin/nin-templates\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ name, type, templateContent: html, placeholders: uniqPh, isActive }),\r\n      })\r\n      if (!res.ok) {\r\n        const err = await res.json().catch(() => ({}))\r\n        throw new Error(err?.error || `Failed (${res.status})`)\r\n      }\r\n      toast({ title: \"Template saved\", description: name })\r\n      setCanvasElems([])\r\n      setName(\"\")\r\n      setType(\"digital\")\r\n      setIsActive(true)\r\n    } catch (err: any) {\r\n      toast({ title: \"Save failed\", description: String(err?.message || err), variant: \"destructive\" })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center gap-3\">\r\n        <div className=\"p-2 rounded-lg bg-primary/10\">\r\n          <span className=\"text-primary text-sm\">Builder</span>\r\n        </div>\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold\">NIN Template Builder</h1>\r\n          <p className=\"text-muted-foreground\">Drag placeholders and elements to compose a slip visually</p>\r\n        </div>\r\n      </div>\r\n\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Canvas</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"grid md:grid-cols-[240px_1fr_260px] gap-4\">\r\n            <div className=\"space-y-3\">\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">Name</label>\r\n                <Input value={name} onChange={(e) => setName(e.target.value)} placeholder=\"e.g., Digital Slip v2\" />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">Type</label>\r\n                <Select value={type} onValueChange={(v) => setType(v as any)}>\r\n                  <SelectTrigger>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"digital\">Digital</SelectItem>\r\n                    <SelectItem value=\"physical\">Physical</SelectItem>\r\n                    <SelectItem value=\"nims\">NIMS</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <Switch checked={isActive} onCheckedChange={setIsActive} />\r\n                <span className=\"text-sm\">Active</span>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">Background</label>\r\n                <Input type=\"color\" value={bgColor} onChange={(e) => setBgColor(e.target.value)} />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">Global Font</label>\r\n                <Select value={globalFontFamily} onValueChange={(v) => setGlobalFontFamily(v)}>\r\n                  <SelectTrigger>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"Segoe UI, Arial, sans-serif\">Segoe UI</SelectItem>\r\n                    <SelectItem value=\"Arial, Helvetica, sans-serif\">Arial</SelectItem>\r\n                    <SelectItem value=\"Roboto, Arial, sans-serif\">Roboto</SelectItem>\r\n                    <SelectItem value=\"Times New Roman, Times, serif\">Times New Roman</SelectItem>\r\n                    <SelectItem value=\"Verdana, Geneva, sans-serif\">Verdana</SelectItem>\r\n                    <SelectItem value=\"Tahoma, Geneva, sans-serif\">Tahoma</SelectItem>\r\n                    <SelectItem value=\"Calibri, Arial, sans-serif\">Calibri</SelectItem>\r\n                    <SelectItem value=\"Georgia, Times, serif\">Georgia</SelectItem>\r\n                    <SelectItem value=\"Courier New, Courier, monospace\">Courier New</SelectItem>\r\n                    <SelectItem value=\"Open Sans, Arial, sans-serif\">Open Sans</SelectItem>\r\n                    <SelectItem value=\"Inter, Arial, sans-serif\">Inter</SelectItem>\r\n                    <SelectItem value=\"Poppins, Arial, sans-serif\">Poppins</SelectItem>\r\n                    <SelectItem value=\"Montserrat, Arial, sans-serif\">Montserrat</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n                <div className=\"grid grid-cols-2 gap-2\">\r\n                  <div>\r\n                    <label className=\"text-xs\">Size</label>\r\n                    <Input type=\"number\" value={globalFontSize} onChange={(e) => setGlobalFontSize(Number(e.target.value) || 12)} />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-xs\">Color</label>\r\n                    <Input type=\"color\" value={globalColor} onChange={(e) => setGlobalColor(e.target.value)} />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">Background Image URL</label>\r\n                <Input value={bgUrl} onChange={(e) => setBgUrl(normalizeAssetUrl(e.target.value))} placeholder=\"/assets/nin/premium.png\" />\r\n                <div className=\"text-xs text-muted-foreground\">Upload in Admin → Assets, then paste the file URL here.</div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">Canvas Size</label>\r\n                <div className=\"grid grid-cols-2 gap-2\">\r\n                  <div>\r\n                    <label className=\"text-xs\">Width</label>\r\n                    <Input type=\"number\" value={canvasW} onChange={(e) => setCanvasW(Number(e.target.value) || 794)} />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"text-xs\">Height</label>\r\n                    <Input type=\"number\" value={canvasH} onChange={(e) => setCanvasH(Number(e.target.value) || 1123)} />\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Switch checked={useImageSize} onCheckedChange={setUseImageSize} />\r\n                  <span className=\"text-xs\">Use image intrinsic size</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">Background Fit</label>\r\n                <Select value={bgFit} onValueChange={(v) => setBgFit(v)}>\r\n                  <SelectTrigger>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"contain\">Contain</SelectItem>\r\n                    <SelectItem value=\"cover\">Cover</SelectItem>\r\n                    <SelectItem value=\"fill\">Fill</SelectItem>\r\n                    <SelectItem value=\"none\">None</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">Add Element</label>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  <Button variant=\"outline\" size=\"sm\" onClick={() => addElem({ id: crypto.randomUUID(), type: \"text\", x: 20, y: 20, content: \"Text\" })}>Text</Button>\r\n                  <Button variant=\"outline\" size=\"sm\" onClick={() => addElem({ id: crypto.randomUUID(), type: \"image\", x: 40, y: 40, w: 120, h: 80, content: \"/placeholder.jpg\" })}>Image</Button>\r\n                  <Button variant=\"outline\" size=\"sm\" onClick={() => addElem({ id: crypto.randomUUID(), type: \"box\", x: 60, y: 60, w: 160, h: 80 })}>Box</Button>\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">Placeholders</label>\r\n                <div className=\"grid grid-cols-2 gap-2\">\r\n                  {placeholders.map((ph) => (\r\n                    <Button key={ph} variant=\"secondary\" size=\"sm\" onClick={() => addElem({ id: crypto.randomUUID(), type: \"placeholder\", x: 80, y: 80, content: ph, w: isImagePlaceholder(ph) ? 110 : 140, h: isImagePlaceholder(ph) ? 110 : 20, style: { fontFamily: globalFontFamily, fontSize: globalFontSize, color: globalColor } })}>{`{{${ph}}}`}</Button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">Custom Placeholder</label>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Input value={textValue} onChange={(e) => setTextValue(e.target.value)} placeholder=\"e.g., nin\" />\r\n                  <Button variant=\"outline\" size=\"sm\" onClick={() => textValue && addElem({ id: crypto.randomUUID(), type: \"placeholder\", x: 100, y: 100, content: textValue, w: isImagePlaceholder(textValue) ? 110 : 140, h: isImagePlaceholder(textValue) ? 110 : 20, style: { fontFamily: globalFontFamily, fontSize: globalFontSize, color: globalColor } })}>Add</Button>\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <label className=\"text-sm font-medium\">Export HTML</label>\r\n                <Textarea readOnly rows={6} value={toHtml()} />\r\n              </div>\r\n              <Button onClick={saveTemplate}>Save Template</Button>\r\n            </div>\r\n\r\n            <div>\r\n              <div\r\n                ref={canvasRef}\r\n                onMouseMove={onMouseMove}\r\n                onMouseUp={onMouseUp}\r\n                style={{ background: bgColor, width: canvasW, height: canvasH }}\r\n                className=\"relative border rounded-md overflow-hidden bg-white\"\r\n              >\r\n                {bgUrl ? (\r\n                  <img\r\n                    src={normalizeAssetUrl(bgUrl)}\r\n                    alt=\"bg\"\r\n                    className=\"absolute inset-0 w-full h-full\"\r\n                    style={{ objectFit: bgFit as any }}\r\n                    onLoad={(e) => {\r\n                      if (!useImageSize) return\r\n                      const img = e.currentTarget as HTMLImageElement\r\n                      const nw = img.naturalWidth || canvasW\r\n                      const nh = img.naturalHeight || canvasH\r\n                      if (nw && nh) { setCanvasW(nw); setCanvasH(nh) }\r\n                    }}\r\n                  />\r\n                ) : null}\r\n                {canvasElems.map((el) => (\r\n                  <div\r\n                    key={el.id}\r\n                    onMouseDown={(e) => onMouseDown(el.id, e)}\r\n                    onClick={() => setSelectedId(el.id)}\r\n                    className={`cursor-move ${selectedId === el.id ? \"ring-2 ring-primary\" : \"\"}`}\r\n                    style={{ position: \"absolute\", left: el.x, top: el.y }}\r\n                  >\r\n                    {el.type === \"text\" && <div className=\"bg-white/70 px-2 py-1\" style={{ width: el.w || undefined, height: el.h || undefined, fontFamily: el.style?.fontFamily || globalFontFamily, fontSize: (el.style?.fontSize || globalFontSize), color: el.style?.color || globalColor, fontWeight: el.style?.fontWeight }}>{el.content || \"Text\"}</div>}\r\n                    {el.type === \"image\" && <img src={el.content || \"/placeholder.jpg\"} width={el.w || 100} height={el.h || 80} alt=\"img\" className=\"border\" />}\r\n                    {el.type === \"placeholder\" && (isImagePlaceholder(el.content || \"\") ? <div style={{ width: el.w || 100, height: el.h || 80 }} className=\"border bg-amber-50 flex items-center justify-center text-xs\">{`{{${el.content}}}`}</div> : <div className=\"bg-amber-50 border border-amber-200 px-2 py-1\" style={{ width: el.w || 140, height: el.h || 20, fontFamily: el.style?.fontFamily || globalFontFamily, fontSize: (el.style?.fontSize || globalFontSize), color: el.style?.color || globalColor, fontWeight: el.style?.fontWeight }}>{`{{${el.content}}}`}</div>)}\r\n                    {el.type === \"box\" && <div style={{ width: el.w || 160, height: el.h || 80 }} className=\"border border-dashed bg-white/30\" />}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-3\">\r\n              <div className=\"space-y-2\">\r\n                <div className=\"text-sm font-medium\">Selected</div>\r\n                {selected ? (\r\n                  <div className=\"space-y-2 text-sm\">\r\n                    <div>Type: {selected.type}</div>\r\n                    <div className=\"grid grid-cols-2 gap-2\">\r\n                      <div>\r\n                        <label className=\"text-xs\">X</label>\r\n                        <Input type=\"number\" value={Math.round(selected.x)} onChange={(e) => setCanvasElems((prev) => prev.map((el) => el.id === selected.id ? { ...el, x: Number(e.target.value) } : el))} />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"text-xs\">Y</label>\r\n                        <Input type=\"number\" value={Math.round(selected.y)} onChange={(e) => setCanvasElems((prev) => prev.map((el) => el.id === selected.id ? { ...el, y: Number(e.target.value) } : el))} />\r\n                      </div>\r\n                      {(selected.type === \"image\" || selected.type === \"box\" || selected.type === \"placeholder\") && (\r\n                        <>\r\n                          <div>\r\n                            <label className=\"text-xs\">W</label>\r\n                            <Input type=\"number\" value={selected.w || 0} onChange={(e) => setCanvasElems((prev) => prev.map((el) => el.id === selected.id ? { ...el, w: Number(e.target.value) } : el))} />\r\n                          </div>\r\n                          <div>\r\n                            <label className=\"text-xs\">H</label>\r\n                            <Input type=\"number\" value={selected.h || 0} onChange={(e) => setCanvasElems((prev) => prev.map((el) => el.id === selected.id ? { ...el, h: Number(e.target.value) } : el))} />\r\n                          </div>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"space-y-2\">\r\n                      <label className=\"text-xs\">Content</label>\r\n                      <Input value={selected.content || \"\"} onChange={(e) => updateSelectedContent(e.target.value)} />\r\n                    </div>\r\n                    {(selected.type === \"text\" || selected.type === \"placeholder\") && !isImagePlaceholder(selected.content || \"\") && (\r\n                      <div className=\"grid grid-cols-2 gap-2\">\r\n                        <div>\r\n                          <label className=\"text-xs\">Font</label>\r\n                          <Select value={selected.style?.fontFamily || globalFontFamily} onValueChange={(v) => setCanvasElems((prev) => prev.map((el) => el.id === selected.id ? { ...el, style: { ...(el.style || {}), fontFamily: v } } : el))}>\r\n                            <SelectTrigger>\r\n                              <SelectValue />\r\n                            </SelectTrigger>\r\n                            <SelectContent>\r\n                              <SelectItem value=\"Segoe UI, Arial, sans-serif\">Segoe UI</SelectItem>\r\n                              <SelectItem value=\"Arial, Helvetica, sans-serif\">Arial</SelectItem>\r\n                              <SelectItem value=\"Roboto, Arial, sans-serif\">Roboto</SelectItem>\r\n                              <SelectItem value=\"Times New Roman, Times, serif\">Times New Roman</SelectItem>\r\n                              <SelectItem value=\"Verdana, Geneva, sans-serif\">Verdana</SelectItem>\r\n                              <SelectItem value=\"Tahoma, Geneva, sans-serif\">Tahoma</SelectItem>\r\n                              <SelectItem value=\"Calibri, Arial, sans-serif\">Calibri</SelectItem>\r\n                              <SelectItem value=\"Georgia, Times, serif\">Georgia</SelectItem>\r\n                              <SelectItem value=\"Courier New, Courier, monospace\">Courier New</SelectItem>\r\n                              <SelectItem value=\"Open Sans, Arial, sans-serif\">Open Sans</SelectItem>\r\n                              <SelectItem value=\"Inter, Arial, sans-serif\">Inter</SelectItem>\r\n                              <SelectItem value=\"Poppins, Arial, sans-serif\">Poppins</SelectItem>\r\n                              <SelectItem value=\"Montserrat, Arial, sans-serif\">Montserrat</SelectItem>\r\n                            </SelectContent>\r\n                          </Select>\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"text-xs\">Size</label>\r\n                          <Input type=\"number\" value={selected.style?.fontSize || globalFontSize} onChange={(e) => setCanvasElems((prev) => prev.map((el) => el.id === selected.id ? { ...el, style: { ...(el.style || {}), fontSize: Number(e.target.value) || globalFontSize } } : el))} />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"text-xs\">Color</label>\r\n                          <Input type=\"color\" value={selected.style?.color || globalColor} onChange={(e) => setCanvasElems((prev) => prev.map((el) => el.id === selected.id ? { ...el, style: { ...(el.style || {}), color: e.target.value } } : el))} />\r\n                        </div>\r\n                        <div>\r\n                          <label className=\"text-xs\">Weight</label>\r\n                          <Input type=\"number\" value={selected.style?.fontWeight || 400} onChange={(e) => setCanvasElems((prev) => prev.map((el) => el.id === selected.id ? { ...el, style: { ...(el.style || {}), fontWeight: Number(e.target.value) || 400 } } : el))} />\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                    <div className=\"flex gap-2\">\r\n                      <Button variant=\"destructive\" size=\"sm\" onClick={removeSelected}>Delete</Button>\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"text-xs text-muted-foreground\">Click an element to edit</div>\r\n                )}\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <div className=\"text-sm font-medium\">Guidance</div>\r\n                <div className=\"text-xs text-muted-foreground\">\r\n                  Use placeholders like {\"{{data.bvn}}\"}, {\"{{data.firstName}}\"}, {\"{{data.dateOfBirth}}\"}. Dot paths are supported: e.g. {\"{{verification.reference}}\"}. Saved templates appear in Admin → NIN Templates.\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n  const normalizeAssetUrl = (u: string) => {\r\n    try {\r\n      let s = String(u || \"\").trim()\r\n      s = s.replace(/\\\\\\\\/g, \"/\").replace(/\\\\/g, \"/\")\r\n      return s\r\n    } catch {\r\n      return u\r\n    }\r\n  }\r\n"],"names":[],"mappings":"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"}