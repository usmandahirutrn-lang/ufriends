{"version":3,"sources":["turbopack:///[project]/app/admin/settings/notifications/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Textarea } from \"@/components/ui/textarea\"\r\nimport { Switch } from \"@/components/ui/switch\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Plus, Edit2, Trash2, Eye, Loader2 } from \"lucide-react\"\r\nimport { authFetch } from \"@/lib/client-auth\"\r\nimport { toast } from \"sonner\"\r\n\r\ninterface PopupMessage {\r\n  id: string\r\n  title: string\r\n  message: string\r\n  type: \"info\" | \"warning\" | \"success\" | \"error\"\r\n  includeUserName: boolean\r\n  isActive: boolean\r\n  createdAt: string\r\n  updatedAt: string\r\n}\r\n\r\nexport default function NotificationSettingsPage() {\r\n  const [popupMessages, setPopupMessages] = useState<PopupMessage[]>([])\r\n  const [loading, setLoading] = useState(true)\r\n  const [showCreateDialog, setShowCreateDialog] = useState(false)\r\n  const [showEditDialog, setShowEditDialog] = useState(false)\r\n  const [showPreviewDialog, setShowPreviewDialog] = useState(false)\r\n  const [selectedMessage, setSelectedMessage] = useState<PopupMessage | null>(null)\r\n  const [formData, setFormData] = useState<{ title: string; message: string; type: PopupMessage['type']; includeUserName: boolean }>({\r\n    title: \"\",\r\n    message: \"\",\r\n    type: \"info\",\r\n    includeUserName: false,\r\n  })\r\n\r\n  const loadMessages = async () => {\r\n    try {\r\n      const res = await authFetch(\"/api/popup-messages\")\r\n      if (res.ok) {\r\n        const data = await res.json()\r\n        setPopupMessages(data.messages || [])\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Failed to load messages\")\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    loadMessages()\r\n  }, [])\r\n\r\n  const handleCreateMessage = async () => {\r\n    if (!formData.title || !formData.message) return\r\n\r\n    try {\r\n      const res = await authFetch(\"/api/popup-messages\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ action: \"create\", message: { ...formData, isActive: true } }),\r\n      })\r\n      if (res.ok) {\r\n        const data = await res.json()\r\n        setPopupMessages(data.messages || [])\r\n        setFormData({ title: \"\", message: \"\", type: \"info\", includeUserName: false })\r\n        setShowCreateDialog(false)\r\n        toast.success(\"Message created\")\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Failed to create message\")\r\n    }\r\n  }\r\n\r\n  const handleUpdateMessage = async () => {\r\n    if (!selectedMessage || !formData.title || !formData.message) return\r\n\r\n    try {\r\n      const res = await authFetch(\"/api/popup-messages\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ action: \"update\", id: selectedMessage.id, updates: formData }),\r\n      })\r\n      if (res.ok) {\r\n        const data = await res.json()\r\n        setPopupMessages(data.messages || [])\r\n        setShowEditDialog(false)\r\n        setSelectedMessage(null)\r\n        toast.success(\"Message updated\")\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Failed to update message\")\r\n    }\r\n  }\r\n\r\n  const handleDeleteMessage = async (id: string) => {\r\n    try {\r\n      const res = await authFetch(\"/api/popup-messages\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ action: \"delete\", id }),\r\n      })\r\n      if (res.ok) {\r\n        const data = await res.json()\r\n        setPopupMessages(data.messages || [])\r\n        toast.success(\"Message deleted\")\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Failed to delete message\")\r\n    }\r\n  }\r\n\r\n  const handleToggleActive = async (id: string) => {\r\n    try {\r\n      const res = await authFetch(\"/api/popup-messages\", {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ action: \"toggle\", id }),\r\n      })\r\n      if (res.ok) {\r\n        const data = await res.json()\r\n        setPopupMessages(data.messages || [])\r\n      }\r\n    } catch (err) {\r\n      toast.error(\"Failed to toggle message\")\r\n    }\r\n  }\r\n\r\n  const handleEditClick = (message: PopupMessage) => {\r\n    setSelectedMessage(message)\r\n    setFormData({\r\n      title: message.title,\r\n      message: message.message,\r\n      type: message.type,\r\n      includeUserName: message.includeUserName,\r\n    })\r\n    setShowEditDialog(true)\r\n  }\r\n\r\n  const handlePreviewClick = (message: PopupMessage) => {\r\n    setSelectedMessage(message)\r\n    setShowPreviewDialog(true)\r\n  }\r\n\r\n\r\n  const getTypeColor = (type: string) => {\r\n    switch (type) {\r\n      case \"info\":\r\n        return \"bg-blue-100 text-blue-700\"\r\n      case \"warning\":\r\n        return \"bg-yellow-100 text-yellow-700\"\r\n      case \"success\":\r\n        return \"bg-green-100 text-green-700\"\r\n      case \"error\":\r\n        return \"bg-red-100 text-red-700\"\r\n      default:\r\n        return \"bg-gray-100 text-gray-700\"\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6 p-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-foreground\">Notification Settings</h1>\r\n          <p className=\"text-muted-foreground mt-1\">Manage popup messages shown to users on dashboard access</p>\r\n        </div>\r\n        <Button className=\"bg-[#3457D5] hover:bg-[#2a4ab8]\" onClick={() => setShowCreateDialog(true)}>\r\n          <Plus className=\"w-4 h-4 mr-2\" />\r\n          Create Message\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Stats */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"text-center\">\r\n              <p className=\"text-muted-foreground text-sm\">Total Messages</p>\r\n              <p className=\"text-3xl font-bold text-[#3457D5]\">{popupMessages.length}</p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"text-center\">\r\n              <p className=\"text-muted-foreground text-sm\">Active Messages</p>\r\n              <p className=\"text-3xl font-bold text-green-600\">{popupMessages.filter((m) => m.isActive).length}</p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n        <Card>\r\n          <CardContent className=\"pt-6\">\r\n            <div className=\"text-center\">\r\n              <p className=\"text-muted-foreground text-sm\">With User Name</p>\r\n              <p className=\"text-3xl font-bold text-[#CCCCFF]\">\r\n                {popupMessages.filter((m) => m.includeUserName).length}\r\n              </p>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n      </div>\r\n\r\n      {/* Messages List */}\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>Popup Messages</CardTitle>\r\n          <CardDescription>All notification messages displayed to users</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <div className=\"space-y-3\">\r\n            {popupMessages.length === 0 ? (\r\n              <div className=\"text-center py-8 text-muted-foreground\">\r\n                <p>No popup messages created yet</p>\r\n                <Button variant=\"outline\" className=\"mt-4 bg-transparent\" onClick={() => setShowCreateDialog(true)}>\r\n                  Create First Message\r\n                </Button>\r\n              </div>\r\n            ) : (\r\n              popupMessages.map((message) => (\r\n                <div key={message.id} className=\"border rounded-lg p-4 space-y-3\">\r\n                  <div className=\"flex items-start justify-between\">\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"flex items-center gap-2 mb-2\">\r\n                        <h3 className=\"font-semibold text-lg\">{message.title}</h3>\r\n                        <Badge className={getTypeColor(message.type)}>{message.type}</Badge>\r\n                        {message.includeUserName && (\r\n                          <Badge variant=\"outline\" className=\"bg-blue-50\">\r\n                            Includes User Name\r\n                          </Badge>\r\n                        )}\r\n                      </div>\r\n                      <p className=\"text-sm text-muted-foreground line-clamp-2\">{message.message}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Switch checked={message.isActive} onCheckedChange={() => handleToggleActive(message.id)} />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"flex items-center justify-between pt-2 border-t\">\r\n                    <p className=\"text-xs text-muted-foreground\">\r\n                      Updated: {new Date(message.updatedAt).toLocaleDateString()}\r\n                    </p>\r\n                    <div className=\"flex gap-2\">\r\n                      <Button size=\"sm\" variant=\"outline\" onClick={() => handlePreviewClick(message)}>\r\n                        <Eye className=\"w-4 h-4\" />\r\n                      </Button>\r\n                      <Button size=\"sm\" variant=\"outline\" onClick={() => handleEditClick(message)}>\r\n                        <Edit2 className=\"w-4 h-4\" />\r\n                      </Button>\r\n                      <Button size=\"sm\" variant=\"destructive\" onClick={() => handleDeleteMessage(message.id)}>\r\n                        <Trash2 className=\"w-4 h-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Create Dialog */}\r\n      <Dialog open={showCreateDialog} onOpenChange={setShowCreateDialog}>\r\n        <DialogContent className=\"max-w-2xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>Create Popup Message</DialogTitle>\r\n            <DialogDescription>Create a new notification message for users</DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <Label htmlFor=\"title\">Message Title</Label>\r\n              <Input\r\n                id=\"title\"\r\n                placeholder=\"e.g., Welcome Back!\"\r\n                value={formData.title}\r\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"message\">Message Content</Label>\r\n              <Textarea\r\n                id=\"message\"\r\n                placeholder=\"Enter the message content...\"\r\n                rows={4}\r\n                value={formData.message}\r\n                onChange={(e) => setFormData({ ...formData, message: e.target.value })}\r\n              />\r\n              <p className=\"text-xs text-muted-foreground mt-1\">\r\n                Use {\"{userName}\"} to include the user's name in the message\r\n              </p>\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"type\">Message Type</Label>\r\n              <select\r\n                id=\"type\"\r\n                className=\"w-full px-3 py-2 border rounded-md bg-background\"\r\n                value={formData.type}\r\n                onChange={(e) => setFormData({ ...formData, type: e.target.value as PopupMessage['type'] })}\r\n              >\r\n                <option value=\"info\">Info</option>\r\n                <option value=\"warning\">Warning</option>\r\n                <option value=\"success\">Success</option>\r\n                <option value=\"error\">Error</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              <Switch\r\n                checked={formData.includeUserName}\r\n                onCheckedChange={(checked) => setFormData({ ...formData, includeUserName: checked })}\r\n              />\r\n              <Label className=\"cursor-pointer\">Include user's name in message</Label>\r\n            </div>\r\n\r\n            <div className=\"bg-muted p-4 rounded-lg\">\r\n              <p className=\"text-sm font-medium mb-2\">Preview:</p>\r\n              <div className={`p-3 rounded ${getTypeColor(formData.type)}`}>\r\n                <p className=\"font-semibold\">{formData.title || \"Message Title\"}</p>\r\n                <p className=\"text-sm mt-1\">{formData.message || \"Message content will appear here...\"}</p>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-2\">\r\n              <Button variant=\"outline\" className=\"flex-1 bg-transparent\" onClick={() => setShowCreateDialog(false)}>\r\n                Cancel\r\n              </Button>\r\n              <Button className=\"flex-1 bg-[#3457D5] hover:bg-[#2a4ab8]\" onClick={handleCreateMessage}>\r\n                Create Message\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Edit Dialog */}\r\n      <Dialog open={showEditDialog} onOpenChange={setShowEditDialog}>\r\n        <DialogContent className=\"max-w-2xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>Edit Popup Message</DialogTitle>\r\n            <DialogDescription>Update the notification message</DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <Label htmlFor=\"edit-title\">Message Title</Label>\r\n              <Input\r\n                id=\"edit-title\"\r\n                placeholder=\"e.g., Welcome Back!\"\r\n                value={formData.title}\r\n                onChange={(e) => setFormData({ ...formData, title: e.target.value })}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"edit-message\">Message Content</Label>\r\n              <Textarea\r\n                id=\"edit-message\"\r\n                placeholder=\"Enter the message content...\"\r\n                rows={4}\r\n                value={formData.message}\r\n                onChange={(e) => setFormData({ ...formData, message: e.target.value })}\r\n              />\r\n            </div>\r\n\r\n            <div>\r\n              <Label htmlFor=\"edit-type\">Message Type</Label>\r\n              <select\r\n                id=\"edit-type\"\r\n                className=\"w-full px-3 py-2 border rounded-md bg-background\"\r\n                value={formData.type}\r\n                onChange={(e) => setFormData({ ...formData, type: e.target.value as PopupMessage['type'] })}\r\n              >\r\n                <option value=\"info\">Info</option>\r\n                <option value=\"warning\">Warning</option>\r\n                <option value=\"success\">Success</option>\r\n                <option value=\"error\">Error</option>\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"flex items-center gap-2\">\r\n              <Switch\r\n                checked={formData.includeUserName}\r\n                onCheckedChange={(checked) => setFormData({ ...formData, includeUserName: checked })}\r\n              />\r\n              <Label className=\"cursor-pointer\">Include user's name in message</Label>\r\n            </div>\r\n\r\n            <div className=\"flex gap-2\">\r\n              <Button variant=\"outline\" className=\"flex-1 bg-transparent\" onClick={() => setShowEditDialog(false)}>\r\n                Cancel\r\n              </Button>\r\n              <Button className=\"flex-1 bg-[#3457D5] hover:bg-[#2a4ab8]\" onClick={handleUpdateMessage}>\r\n                Update Message\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Preview Dialog */}\r\n      <Dialog open={showPreviewDialog} onOpenChange={setShowPreviewDialog}>\r\n        <DialogContent className=\"max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle>Message Preview</DialogTitle>\r\n            <DialogDescription>How this message will appear to users</DialogDescription>\r\n          </DialogHeader>\r\n\r\n          {selectedMessage && (\r\n            <div className=\"space-y-4\">\r\n              <div className={`p-6 rounded-lg ${getTypeColor(selectedMessage.type)}`}>\r\n                <p className=\"font-bold text-lg mb-2\">{selectedMessage.title}</p>\r\n                <p className=\"text-sm\">\r\n                  {selectedMessage.includeUserName\r\n                    ? selectedMessage.message.replace(\"{userName}\", \"John Doe\")\r\n                    : selectedMessage.message}\r\n                </p>\r\n              </div>\r\n\r\n              <div className=\"bg-muted p-3 rounded text-xs space-y-1\">\r\n                <p>\r\n                  <span className=\"font-medium\">Type:</span> {selectedMessage.type}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-medium\">Status:</span> {selectedMessage.isActive ? \"Active\" : \"Inactive\"}\r\n                </p>\r\n                <p>\r\n                  <span className=\"font-medium\">Include User Name:</span>{\" \"}\r\n                  {selectedMessage.includeUserName ? \"Yes\" : \"No\"}\r\n                </p>\r\n              </div>\r\n\r\n              <Button className=\"w-full\" onClick={() => setShowPreviewDialog(false)}>\r\n                Close\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}