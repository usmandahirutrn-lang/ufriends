{"version":3,"sources":["turbopack:///[project]/hooks/useDynamicPricing.ts","turbopack:///[project]/components/PinPrompt.tsx","turbopack:///[project]/lib/service-utils.ts","turbopack:///[project]/node_modules/@radix-ui/react-checkbox/dist/index.mjs","turbopack:///[project]/components/ui/checkbox.tsx","turbopack:///[project]/lib/client-pdf.ts","turbopack:///[project]/lib/service-pricing.ts","turbopack:///[project]/app/services/bvn/retrieval/page.tsx","turbopack:///[project]/lib/manual-services-storage.ts"],"sourcesContent":["\"use client\"\r\n\r\nimport { useEffect, useMemo, useState, useCallback } from \"react\"\r\nimport { authFetch } from \"@/lib/client-auth\"\r\n\r\ntype Role = \"user\" | \"marketer\"\r\n\r\nexport interface DynamicPricingResult {\r\n  price: number | null\r\n  isLoading: boolean\r\n  error: string | null\r\n  reference?: string\r\n  submitService: (formData: Record<string, any>) => Promise<{\r\n    ok: boolean\r\n    reference?: string\r\n    message?: string\r\n    data?: any\r\n    error?: string\r\n  }>\r\n}\r\n\r\nfunction detectRoleFromUser(user: any): Role {\r\n  try {\r\n    const roleStr = String(user?.role || \"\").toLowerCase()\r\n    const roles: string[] = Array.isArray(user?.roles) ? user.roles.map((r: any) => String(r).toLowerCase()) : []\r\n    const isMarketer = roleStr.includes(\"marketer\") || roles.includes(\"marketer\") || user?.isMarketer === true\r\n    return isMarketer ? \"marketer\" : \"user\"\r\n  } catch {\r\n    return \"user\"\r\n  }\r\n}\r\n\r\nasync function detectRoleFallback(): Promise<Role> {\r\n  try {\r\n    const res = await fetch(\"/api/me\")\r\n    if (!res.ok) return \"user\"\r\n    const data = await res.json().catch(() => null)\r\n    return detectRoleFromUser(data?.user || data)\r\n  } catch {\r\n    return \"user\"\r\n  }\r\n}\r\n\r\nfunction mapVerificationAction(category: string, subservice: string): string | null {\r\n  const c = category.trim().toLowerCase()\r\n  const s = subservice.trim().toLowerCase()\r\n  if (c === \"nin\") {\r\n    if (s === \"slip\") return \"nin.slip\"\r\n    if (s === \"printout\") return \"nin.printout\"\r\n    if (s === \"advanced\" || s === \"verification\") return \"nin.advanced\"\r\n  }\r\n  if (c === \"bvn\") {\r\n    if (s === \"printout\") return \"bvn.printout\"\r\n    if (s === \"retrieval\" || s === \"retrieval_phone\") return \"bvn.retrieval_phone\"\r\n    if (s === \"advanced\" || s === \"verification\") return \"bvn.advanced\"\r\n  }\r\n  if (c === \"cac\") {\r\n    if (s === \"info\") return \"cac.info\"\r\n    if (s === \"status\") return \"cac.status\"\r\n  }\r\n  if (c === \"passport\") {\r\n    if (s === \"verify\" || s === \"verification\" || s === \"basic\") return \"passport.verify\"\r\n  }\r\n  if (c === \"phone\") {\r\n    // Use advanced route for richer details\r\n    if (s === \"advanced\" || s === \"verification\" || s === \"basic\") return \"phone.verify_advanced\"\r\n  }\r\n  if (c === \"driver-license\" || c === \"drivers_license\") {\r\n    if (s === \"basic\" || s === \"verification\") return \"drivers_license.verify\"\r\n  }\r\n  if (c === \"voters-card\" || c === \"voters\") {\r\n    if (s === \"basic\" || s === \"full\" || s === \"verification\") return \"voters.verify\"\r\n  }\r\n  if (c === \"plate-number\" || c === \"plate\") {\r\n    if (s === \"basic\" || s === \"verification\") return \"plate.verify\"\r\n  }\r\n  if (c === \"tin\") {\r\n    if (s === \"basic\" || s === \"certificate\" || s === \"verification\") return \"tin.verify\"\r\n  }\r\n  // Extend with other verification categories as needed\r\n  return null\r\n}\r\n\r\nexport function useDynamicPricing(\r\n  category: string,\r\n  subservice: string,\r\n  variant: string,\r\n  params?: Record<string, string | number | boolean>,\r\n  user?: any,\r\n): DynamicPricingResult {\r\n  const [role, setRole] = useState<Role>(() => detectRoleFromUser(user))\r\n  const [price, setPrice] = useState<number | null>(null)\r\n  const [isLoading, setIsLoading] = useState<boolean>(false)\r\n  const [error, setError] = useState<string | null>(null)\r\n  const [reference, setReference] = useState<string | undefined>(undefined)\r\n\r\n  const normalized = useMemo(() => ({\r\n    category: String(category || \"\").trim(),\r\n    subservice: String(subservice || \"\").trim(),\r\n    variant: String(variant || \"\").trim(),\r\n  }), [category, subservice, variant])\r\n\r\n  // Stable key for params to avoid effect loops caused by object identity changes\r\n  const paramsKey = useMemo(() => {\r\n    if (!params || typeof params !== \"object\") return \"\"\r\n    const entries = Object.entries(params).filter(([_, v]) => v !== undefined && v !== null)\r\n    if (!entries.length) return \"\"\r\n    entries.sort(([a], [b]) => a.localeCompare(b))\r\n    return entries.map(([k, v]) => `${k}=${String(v)}`).join(\"|\")\r\n  }, [params])\r\n\r\n  useEffect(() => {\r\n    let cancelled = false\r\n    const run = async () => {\r\n      setIsLoading(true)\r\n      setError(null)\r\n      try {\r\n        // Resolve role if not determinable from provided user\r\n        const r = user ? detectRoleFromUser(user) : await detectRoleFallback()\r\n        if (!cancelled) setRole(r)\r\n\r\n        // Fetch dynamic price\r\n        const qpEntries: Array<[string, string]> = [\r\n          [\"category\", normalized.category],\r\n          [\"subservice\", normalized.subservice],\r\n          [\"variant\", normalized.variant],\r\n          [\"role\", r],\r\n        ]\r\n        if (params && typeof params === \"object\") {\r\n          const dyn = Object.entries(params).filter(([_, v]) => v !== undefined && v !== null)\r\n          dyn.sort(([a], [b]) => a.localeCompare(b))\r\n          for (const [k, v] of dyn) qpEntries.push([k, String(v)])\r\n        }\r\n        const qs = new URLSearchParams(qpEntries)\r\n        const res = await fetch(`/api/pricing?${qs.toString()}`, { cache: \"no-store\" })\r\n        const data = await res.json().catch(() => null)\r\n        if (!res.ok) {\r\n          throw new Error(String(data?.error || \"Failed to load pricing\"))\r\n        }\r\n        const p = data?.price\r\n        setPrice(typeof p === \"number\" ? p : null)\r\n      } catch (err: any) {\r\n        setError(err?.message || \"Failed to fetch pricing\")\r\n        setPrice(null)\r\n      } finally {\r\n        if (!cancelled) setIsLoading(false)\r\n      }\r\n    }\r\n    run()\r\n    return () => { cancelled = true }\r\n  }, [normalized.category, normalized.subservice, normalized.variant, paramsKey, user])\r\n\r\n  const submitService = useCallback(async (formData: Record<string, any>) => {\r\n    try {\r\n      const body = {\r\n        amount: Number(formData.amount),\r\n        idempotencyKey: typeof formData.idempotencyKey === \"string\" ? formData.idempotencyKey : undefined,\r\n        params: { ...(formData || {}) },\r\n        subServiceId: normalized.variant || undefined,\r\n        action: mapVerificationAction(normalized.category, normalized.subservice) || undefined,\r\n        pin: formData.pin,\r\n      }\r\n      const res = await authFetch(`/api/service/${encodeURIComponent(normalized.category)}/${encodeURIComponent(normalized.subservice)}`, {\r\n        method: \"POST\",\r\n        headers: { \"content-type\": \"application/json\" },\r\n        body: JSON.stringify(body),\r\n      })\r\n      const data = await res.json().catch(() => null)\r\n      if (!res.ok) {\r\n        return { ok: false, error: String(data?.error || `Service failed (${res.status})`), message: String(data?.message || \"Failed\"), data }\r\n      }\r\n      setReference(String(data?.reference || \"\"))\r\n      return { ok: true, reference: String(data?.reference || \"\"), message: String(data?.message || \"\"), data }\r\n    } catch (err: any) {\r\n      return { ok: false, error: String(err?.message || err) }\r\n    }\r\n  }, [normalized.category, normalized.subservice, normalized.variant])\r\n\r\n  return { price, isLoading, error, reference, submitService }\r\n}\r\n\r\nexport default useDynamicPricing","\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { toast } from \"sonner\"\r\n\r\ninterface PinPromptProps {\r\n    isOpen: boolean\r\n    onClose: () => void\r\n    onConfirm: (pin: string) => void\r\n    isLoading?: boolean\r\n}\r\n\r\nexport function PinPrompt({ isOpen, onClose, onConfirm, isLoading }: PinPromptProps) {\r\n    const [pin, setPin] = useState(\"\")\r\n\r\n    const handleConfirm = () => {\r\n        if (pin.length !== 4) {\r\n            toast.error(\"Please enter a 4-digit PIN\")\r\n            return\r\n        }\r\n        onConfirm(pin)\r\n        setPin(\"\")\r\n    }\r\n\r\n    return (\r\n        <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>\r\n            <DialogContent className=\"sm:max-w-md\">\r\n                <DialogHeader>\r\n                    <DialogTitle>Enter Transaction PIN</DialogTitle>\r\n                    <DialogDescription>\r\n                        Please enter your 4-digit transaction PIN to authorize this request.\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n                <div className=\"space-y-4 py-4\">\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"pin\" className=\"text-center block\">PIN</Label>\r\n                        <Input\r\n                            id=\"pin\"\r\n                            type=\"password\"\r\n                            inputMode=\"numeric\"\r\n                            maxLength={4}\r\n                            value={pin}\r\n                            onChange={(e) => setPin(e.target.value.replace(/\\D/g, \"\"))}\r\n                            className=\"text-center text-2xl tracking-[1em]\"\r\n                            placeholder=\"â€¢â€¢â€¢â€¢\"\r\n                            autoFocus\r\n                            onKeyDown={(e) => {\r\n                                if (e.key === \"Enter\") handleConfirm()\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <DialogFooter>\r\n                    <Button variant=\"outline\" onClick={onClose} disabled={isLoading}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleConfirm} disabled={isLoading || pin.length !== 4} className=\"bg-[#3457D5]\">\r\n                        {isLoading ? \"Verifying...\" : \"Confirm PIN\"}\r\n                    </Button>\r\n                </DialogFooter>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n","export function isManualService(serviceId: string, subServiceId?: string): boolean {\r\n    const sId = serviceId.toLowerCase()\r\n    const subId = subServiceId?.toLowerCase()\r\n\r\n    // BVN: printout, advanced, retrieval_phone are automated\r\n    if (sId === \"bvn\") {\r\n        const auto = [\"printout\", \"retrieval\"]\r\n        return !subId || !auto.includes(subId)\r\n    }\r\n\r\n    // NIN: slip, printout, advanced are automated\r\n    if (sId === \"nin\") {\r\n        const auto = [\"slip\", \"printout\", \"advanced\"]\r\n        return !subId || !auto.includes(subId)\r\n    }\r\n\r\n    // CAC: status-report, certification, info, status are automated\r\n    if (sId === \"cac\") {\r\n        const auto = [\"status-report\", \"certification\", \"status\", \"info\"]\r\n        return !subId || !auto.includes(subId)\r\n    }\r\n\r\n    // POS and Software: Always manual\r\n    if (sId === \"pos-requests\" || sId === \"software-development\") return true\r\n\r\n    return false\r\n}\r\n\r\nexport function handleServiceError(resp: any, toast: any, title = \"Error\") {\r\n    const message = resp.error || resp.message || \"An unexpected error occurred\"\r\n    toast({\r\n        title,\r\n        description: message,\r\n        variant: \"destructive\",\r\n    })\r\n}\r\n","\"use client\";\n\n// src/checkbox.tsx\nimport * as React from \"react\";\nimport { useComposedRefs } from \"@radix-ui/react-compose-refs\";\nimport { createContextScope } from \"@radix-ui/react-context\";\nimport { composeEventHandlers } from \"@radix-ui/primitive\";\nimport { useControllableState } from \"@radix-ui/react-use-controllable-state\";\nimport { usePrevious } from \"@radix-ui/react-use-previous\";\nimport { useSize } from \"@radix-ui/react-use-size\";\nimport { Presence } from \"@radix-ui/react-presence\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { Fragment, jsx, jsxs } from \"react/jsx-runtime\";\nvar CHECKBOX_NAME = \"Checkbox\";\nvar [createCheckboxContext, createCheckboxScope] = createContextScope(CHECKBOX_NAME);\nvar [CheckboxProviderImpl, useCheckboxContext] = createCheckboxContext(CHECKBOX_NAME);\nfunction CheckboxProvider(props) {\n  const {\n    __scopeCheckbox,\n    checked: checkedProp,\n    children,\n    defaultChecked,\n    disabled,\n    form,\n    name,\n    onCheckedChange,\n    required,\n    value = \"on\",\n    // @ts-expect-error\n    internal_do_not_use_render\n  } = props;\n  const [checked, setChecked] = useControllableState({\n    prop: checkedProp,\n    defaultProp: defaultChecked ?? false,\n    onChange: onCheckedChange,\n    caller: CHECKBOX_NAME\n  });\n  const [control, setControl] = React.useState(null);\n  const [bubbleInput, setBubbleInput] = React.useState(null);\n  const hasConsumerStoppedPropagationRef = React.useRef(false);\n  const isFormControl = control ? !!form || !!control.closest(\"form\") : (\n    // We set this to true by default so that events bubble to forms without JS (SSR)\n    true\n  );\n  const context = {\n    checked,\n    disabled,\n    setChecked,\n    control,\n    setControl,\n    name,\n    form,\n    value,\n    hasConsumerStoppedPropagationRef,\n    required,\n    defaultChecked: isIndeterminate(defaultChecked) ? false : defaultChecked,\n    isFormControl,\n    bubbleInput,\n    setBubbleInput\n  };\n  return /* @__PURE__ */ jsx(\n    CheckboxProviderImpl,\n    {\n      scope: __scopeCheckbox,\n      ...context,\n      children: isFunction(internal_do_not_use_render) ? internal_do_not_use_render(context) : children\n    }\n  );\n}\nvar TRIGGER_NAME = \"CheckboxTrigger\";\nvar CheckboxTrigger = React.forwardRef(\n  ({ __scopeCheckbox, onKeyDown, onClick, ...checkboxProps }, forwardedRef) => {\n    const {\n      control,\n      value,\n      disabled,\n      checked,\n      required,\n      setControl,\n      setChecked,\n      hasConsumerStoppedPropagationRef,\n      isFormControl,\n      bubbleInput\n    } = useCheckboxContext(TRIGGER_NAME, __scopeCheckbox);\n    const composedRefs = useComposedRefs(forwardedRef, setControl);\n    const initialCheckedStateRef = React.useRef(checked);\n    React.useEffect(() => {\n      const form = control?.form;\n      if (form) {\n        const reset = () => setChecked(initialCheckedStateRef.current);\n        form.addEventListener(\"reset\", reset);\n        return () => form.removeEventListener(\"reset\", reset);\n      }\n    }, [control, setChecked]);\n    return /* @__PURE__ */ jsx(\n      Primitive.button,\n      {\n        type: \"button\",\n        role: \"checkbox\",\n        \"aria-checked\": isIndeterminate(checked) ? \"mixed\" : checked,\n        \"aria-required\": required,\n        \"data-state\": getState(checked),\n        \"data-disabled\": disabled ? \"\" : void 0,\n        disabled,\n        value,\n        ...checkboxProps,\n        ref: composedRefs,\n        onKeyDown: composeEventHandlers(onKeyDown, (event) => {\n          if (event.key === \"Enter\") event.preventDefault();\n        }),\n        onClick: composeEventHandlers(onClick, (event) => {\n          setChecked((prevChecked) => isIndeterminate(prevChecked) ? true : !prevChecked);\n          if (bubbleInput && isFormControl) {\n            hasConsumerStoppedPropagationRef.current = event.isPropagationStopped();\n            if (!hasConsumerStoppedPropagationRef.current) event.stopPropagation();\n          }\n        })\n      }\n    );\n  }\n);\nCheckboxTrigger.displayName = TRIGGER_NAME;\nvar Checkbox = React.forwardRef(\n  (props, forwardedRef) => {\n    const {\n      __scopeCheckbox,\n      name,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      value,\n      onCheckedChange,\n      form,\n      ...checkboxProps\n    } = props;\n    return /* @__PURE__ */ jsx(\n      CheckboxProvider,\n      {\n        __scopeCheckbox,\n        checked,\n        defaultChecked,\n        disabled,\n        required,\n        onCheckedChange,\n        name,\n        form,\n        value,\n        internal_do_not_use_render: ({ isFormControl }) => /* @__PURE__ */ jsxs(Fragment, { children: [\n          /* @__PURE__ */ jsx(\n            CheckboxTrigger,\n            {\n              ...checkboxProps,\n              ref: forwardedRef,\n              __scopeCheckbox\n            }\n          ),\n          isFormControl && /* @__PURE__ */ jsx(\n            CheckboxBubbleInput,\n            {\n              __scopeCheckbox\n            }\n          )\n        ] })\n      }\n    );\n  }\n);\nCheckbox.displayName = CHECKBOX_NAME;\nvar INDICATOR_NAME = \"CheckboxIndicator\";\nvar CheckboxIndicator = React.forwardRef(\n  (props, forwardedRef) => {\n    const { __scopeCheckbox, forceMount, ...indicatorProps } = props;\n    const context = useCheckboxContext(INDICATOR_NAME, __scopeCheckbox);\n    return /* @__PURE__ */ jsx(\n      Presence,\n      {\n        present: forceMount || isIndeterminate(context.checked) || context.checked === true,\n        children: /* @__PURE__ */ jsx(\n          Primitive.span,\n          {\n            \"data-state\": getState(context.checked),\n            \"data-disabled\": context.disabled ? \"\" : void 0,\n            ...indicatorProps,\n            ref: forwardedRef,\n            style: { pointerEvents: \"none\", ...props.style }\n          }\n        )\n      }\n    );\n  }\n);\nCheckboxIndicator.displayName = INDICATOR_NAME;\nvar BUBBLE_INPUT_NAME = \"CheckboxBubbleInput\";\nvar CheckboxBubbleInput = React.forwardRef(\n  ({ __scopeCheckbox, ...props }, forwardedRef) => {\n    const {\n      control,\n      hasConsumerStoppedPropagationRef,\n      checked,\n      defaultChecked,\n      required,\n      disabled,\n      name,\n      value,\n      form,\n      bubbleInput,\n      setBubbleInput\n    } = useCheckboxContext(BUBBLE_INPUT_NAME, __scopeCheckbox);\n    const composedRefs = useComposedRefs(forwardedRef, setBubbleInput);\n    const prevChecked = usePrevious(checked);\n    const controlSize = useSize(control);\n    React.useEffect(() => {\n      const input = bubbleInput;\n      if (!input) return;\n      const inputProto = window.HTMLInputElement.prototype;\n      const descriptor = Object.getOwnPropertyDescriptor(\n        inputProto,\n        \"checked\"\n      );\n      const setChecked = descriptor.set;\n      const bubbles = !hasConsumerStoppedPropagationRef.current;\n      if (prevChecked !== checked && setChecked) {\n        const event = new Event(\"click\", { bubbles });\n        input.indeterminate = isIndeterminate(checked);\n        setChecked.call(input, isIndeterminate(checked) ? false : checked);\n        input.dispatchEvent(event);\n      }\n    }, [bubbleInput, prevChecked, checked, hasConsumerStoppedPropagationRef]);\n    const defaultCheckedRef = React.useRef(isIndeterminate(checked) ? false : checked);\n    return /* @__PURE__ */ jsx(\n      Primitive.input,\n      {\n        type: \"checkbox\",\n        \"aria-hidden\": true,\n        defaultChecked: defaultChecked ?? defaultCheckedRef.current,\n        required,\n        disabled,\n        name,\n        value,\n        form,\n        ...props,\n        tabIndex: -1,\n        ref: composedRefs,\n        style: {\n          ...props.style,\n          ...controlSize,\n          position: \"absolute\",\n          pointerEvents: \"none\",\n          opacity: 0,\n          margin: 0,\n          // We transform because the input is absolutely positioned but we have\n          // rendered it **after** the button. This pulls it back to sit on top\n          // of the button.\n          transform: \"translateX(-100%)\"\n        }\n      }\n    );\n  }\n);\nCheckboxBubbleInput.displayName = BUBBLE_INPUT_NAME;\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\nfunction isIndeterminate(checked) {\n  return checked === \"indeterminate\";\n}\nfunction getState(checked) {\n  return isIndeterminate(checked) ? \"indeterminate\" : checked ? \"checked\" : \"unchecked\";\n}\nexport {\n  Checkbox,\n  CheckboxIndicator,\n  CheckboxIndicator as Indicator,\n  Checkbox as Root,\n  createCheckboxScope,\n  CheckboxBubbleInput as unstable_BubbleInput,\n  CheckboxBubbleInput as unstable_CheckboxBubbleInput,\n  CheckboxProvider as unstable_CheckboxProvider,\n  CheckboxTrigger as unstable_CheckboxTrigger,\n  CheckboxProvider as unstable_Provider,\n  CheckboxTrigger as unstable_Trigger\n};\n//# sourceMappingURL=index.mjs.map\n","\"use client\"\r\n\r\nimport type * as React from \"react\"\r\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\r\nimport { Check } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Checkbox({ className, ...props }: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\r\n  return (\r\n    <CheckboxPrimitive.Root\r\n      data-slot=\"checkbox\"\r\n      className={cn(\r\n        \"peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\r\n        className,\r\n      )}\r\n      {...props}\r\n    >\r\n      <CheckboxPrimitive.Indicator\r\n        data-slot=\"checkbox-indicator\"\r\n        className=\"flex items-center justify-center text-current transition-none\"\r\n      >\r\n        <Check className=\"size-3.5\" />\r\n      </CheckboxPrimitive.Indicator>\r\n    </CheckboxPrimitive.Root>\r\n  )\r\n}\r\n\r\nexport { Checkbox }\r\n","function getDispositionFilename(res: Response): string | undefined {\r\n  const disp = res.headers.get(\"Content-Disposition\") || \"\"\r\n  const m = disp.match(/filename=\"([^\"]+)\"/i)\r\n  return m?.[1]\r\n}\r\n\r\nexport async function downloadPdfViaServer(\r\n  templateId: string,\r\n  action: string,\r\n  params: Record<string, any>,\r\n  fileName?: string,\r\n  data?: Record<string, any>\r\n): Promise<void> {\r\n  const res = await fetch(\"/api/pdf\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    credentials: \"include\",\r\n    body: JSON.stringify({ templateId, action, params, fileName, data }),\r\n  })\r\n\r\n  if (!res.ok) {\r\n    let msg = \"Failed to generate PDF\"\r\n    try {\r\n      const err = await res.json()\r\n      msg = err?.error || msg\r\n    } catch {}\r\n    throw new Error(msg)\r\n  }\r\n\r\n  const blob = await res.blob()\r\n  const url = URL.createObjectURL(blob)\r\n  const suggested = getDispositionFilename(res)\r\n  const fname = (fileName || suggested || `${action}-slip-${Date.now()}.pdf`)\r\n  const a = document.createElement(\"a\")\r\n  a.href = url\r\n  a.download = fname.endsWith(\".pdf\") ? fname : `${fname}.pdf`\r\n  document.body.appendChild(a)\r\n  a.click()\r\n  a.remove()\r\n  URL.revokeObjectURL(url)\r\n}\r\n\r\nexport async function downloadPdfAuto(\r\n  action: string,\r\n  params: Record<string, any>,\r\n  fileName?: string,\r\n  slipType?: string\r\n): Promise<void> {\r\n  const r = await fetch(\"/api/templates/resolve\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    credentials: \"include\",\r\n    body: JSON.stringify({ action, slipType }),\r\n  })\r\n  if (!r.ok) {\r\n    let msg = \"Failed to resolve template\"\r\n    try { const j = await r.json(); msg = j?.error || msg } catch {}\r\n    throw new Error(msg)\r\n  }\r\n  const j = await r.json()\r\n  const id = j?.templateId\r\n  if (!id) throw new Error(\"Template ID missing\")\r\n  await downloadPdfViaServer(id, action, params, fileName)\r\n}\r\n\r\nexport async function downloadPdfAutoWithData(\r\n  action: string,\r\n  data: Record<string, any>,\r\n  fileName?: string,\r\n  slipType?: string\r\n): Promise<void> {\r\n  const r = await fetch(\"/api/templates/resolve\", {\r\n    method: \"POST\",\r\n    headers: { \"Content-Type\": \"application/json\" },\r\n    credentials: \"include\",\r\n    body: JSON.stringify({ action, slipType }),\r\n  })\r\n  if (!r.ok) {\r\n    let msg = \"Failed to resolve template\"\r\n    try { const j = await r.json(); msg = j?.error || msg } catch {}\r\n    throw new Error(msg)\r\n  }\r\n  const j = await r.json()\r\n  const id = j?.templateId\r\n  if (!id) throw new Error(\"Template ID missing\")\r\n  await downloadPdfViaServer(id, action, {}, fileName, data)\r\n}\r\n","export interface ServicePrice {\r\n  buy: number\r\n  sell: number\r\n  serviceType: string\r\n  lastUpdated: string\r\n}\r\n\r\nexport interface ServicePrices {\r\n  [key: string]: ServicePrice\r\n}\r\n\r\nconst STORAGE_KEY = \"ufriends_service_prices\"\r\n\r\nexport const defaultPrices: ServicePrices = {\r\n  \"BVN Retrieval\": { buy: 1200, sell: 1500, serviceType: \"BVN Retrieval\", lastUpdated: new Date().toISOString() },\r\n  \"BVN Central Risk\": { buy: 800, sell: 1000, serviceType: \"BVN Central Risk\", lastUpdated: new Date().toISOString() },\r\n  \"BVN Printout\": { buy: 150, sell: 180, serviceType: \"BVN Printout\", lastUpdated: new Date().toISOString() },\r\n  \"NIN Slip Standard\": { buy: 150, sell: 180, serviceType: \"NIN Slip Standard\", lastUpdated: new Date().toISOString() },\r\n  \"NIN Slip Premium\": { buy: 150, sell: 180, serviceType: \"NIN Slip Premium\", lastUpdated: new Date().toISOString() },\r\n  \"NIN Slip Regular\": { buy: 120, sell: 150, serviceType: \"NIN Slip Regular\", lastUpdated: new Date().toISOString() },\r\n  \"NIN Modification\": { buy: 2000, sell: 2500, serviceType: \"NIN Modification\", lastUpdated: new Date().toISOString() },\r\n  \"NIN Printout\": { buy: 150, sell: 180, serviceType: \"NIN Printout\", lastUpdated: new Date().toISOString() },\r\n  \"NIN Validation - Normal\": {\r\n    buy: 250,\r\n    sell: 300,\r\n    serviceType: \"NIN Validation - Normal\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"NIN Validation - Photographic Error\": {\r\n    buy: 400,\r\n    sell: 500,\r\n    serviceType: \"NIN Validation - Photographic Error\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"NIN Validation - SIM Registration\": {\r\n    buy: 200,\r\n    sell: 250,\r\n    serviceType: \"NIN Validation - SIM Registration\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"NIN Validation - Bank Validation\": {\r\n    buy: 300,\r\n    sell: 350,\r\n    serviceType: \"NIN Validation - Bank Validation\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"IPE Clearance - Normal\": {\r\n    buy: 800,\r\n    sell: 1000,\r\n    serviceType: \"IPE Clearance - Normal\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"IPE Clearance - Modification\": {\r\n    buy: 1200,\r\n    sell: 1500,\r\n    serviceType: \"IPE Clearance - Modification\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"JTB TIN - Individual\": {\r\n    buy: 3000,\r\n    sell: 3500,\r\n    serviceType: \"JTB TIN - Individual\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"JTB TIN - Business\": {\r\n    buy: 5000,\r\n    sell: 6000,\r\n    serviceType: \"JTB TIN - Business\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"ShareNSell - MTN\": { buy: 0.97, sell: 0.98, serviceType: \"ShareNSell - MTN\", lastUpdated: new Date().toISOString() },\r\n  \"ShareNSell - Airtel\": {\r\n    buy: 0.96,\r\n    sell: 0.97,\r\n    serviceType: \"ShareNSell - Airtel\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"ShareNSell - Glo\": { buy: 0.95, sell: 0.96, serviceType: \"ShareNSell - Glo\", lastUpdated: new Date().toISOString() },\r\n  \"ShareNSell - 9mobile\": {\r\n    buy: 0.94,\r\n    sell: 0.95,\r\n    serviceType: \"ShareNSell - 9mobile\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"Airtime2Cash - MTN\": {\r\n    buy: 0.93,\r\n    sell: 0.94,\r\n    serviceType: \"Airtime2Cash - MTN\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"Airtime2Cash - Airtel\": {\r\n    buy: 0.91,\r\n    sell: 0.92,\r\n    serviceType: \"Airtime2Cash - Airtel\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"Airtime2Cash - Glo\": {\r\n    buy: 0.89,\r\n    sell: 0.9,\r\n    serviceType: \"Airtime2Cash - Glo\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"Airtime2Cash - 9mobile\": {\r\n    buy: 0.87,\r\n    sell: 0.88,\r\n    serviceType: \"Airtime2Cash - 9mobile\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"VTU - MTN\": { buy: 0.98, sell: 0.99, serviceType: \"VTU - MTN\", lastUpdated: new Date().toISOString() },\r\n  \"VTU - Airtel\": { buy: 0.97, sell: 0.98, serviceType: \"VTU - Airtel\", lastUpdated: new Date().toISOString() },\r\n  \"VTU - Glo\": { buy: 0.96, sell: 0.97, serviceType: \"VTU - Glo\", lastUpdated: new Date().toISOString() },\r\n  \"VTU - 9mobile\": { buy: 0.95, sell: 0.96, serviceType: \"VTU - 9mobile\", lastUpdated: new Date().toISOString() },\r\n  \"SME Data - MTN\": { buy: 0.95, sell: 0.97, serviceType: \"SME Data - MTN\", lastUpdated: new Date().toISOString() },\r\n  \"SME Data - Airtel\": {\r\n    buy: 0.94,\r\n    sell: 0.96,\r\n    serviceType: \"SME Data - Airtel\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"SME Data - Glo\": { buy: 0.93, sell: 0.95, serviceType: \"SME Data - Glo\", lastUpdated: new Date().toISOString() },\r\n  \"SME Data - 9mobile\": {\r\n    buy: 0.92,\r\n    sell: 0.94,\r\n    serviceType: \"SME Data - 9mobile\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"Corporate Data - MTN\": {\r\n    buy: 0.96,\r\n    sell: 0.98,\r\n    serviceType: \"Corporate Data - MTN\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"Corporate Data - Airtel\": {\r\n    buy: 0.95,\r\n    sell: 0.97,\r\n    serviceType: \"Corporate Data - Airtel\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"Corporate Data - Glo\": {\r\n    buy: 0.94,\r\n    sell: 0.96,\r\n    serviceType: \"Corporate Data - Glo\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"Corporate Data - 9mobile\": {\r\n    buy: 0.93,\r\n    sell: 0.95,\r\n    serviceType: \"Corporate Data - 9mobile\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"Gift Data - MTN\": {\r\n    buy: 0.97,\r\n    sell: 0.99,\r\n    serviceType: \"Gift Data - MTN\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"Gift Data - Airtel\": {\r\n    buy: 0.96,\r\n    sell: 0.98,\r\n    serviceType: \"Gift Data - Airtel\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"Gift Data - Glo\": { buy: 0.95, sell: 0.97, serviceType: \"Gift Data - Glo\", lastUpdated: new Date().toISOString() },\r\n  \"Gift Data - 9mobile\": {\r\n    buy: 0.94,\r\n    sell: 0.96,\r\n    serviceType: \"Gift Data - 9mobile\",\r\n    lastUpdated: new Date().toISOString(),\r\n  },\r\n  \"Cable - DSTV\": { buy: 0, sell: 0, serviceType: \"Cable - DSTV\", lastUpdated: new Date().toISOString() },\r\n  \"Cable - GOTV\": { buy: 0, sell: 0, serviceType: \"Cable - GOTV\", lastUpdated: new Date().toISOString() },\r\n  \"Cable - Startimes\": { buy: 0, sell: 0, serviceType: \"Cable - Startimes\", lastUpdated: new Date().toISOString() },\r\n  \"Electricity - EKEDC\": { buy: 0, sell: 0, serviceType: \"Electricity - EKEDC\", lastUpdated: new Date().toISOString() },\r\n  \"Electricity - IE\": { buy: 0, sell: 0, serviceType: \"Electricity - IE\", lastUpdated: new Date().toISOString() },\r\n  \"Electricity - AEDC\": { buy: 0, sell: 0, serviceType: \"Electricity - AEDC\", lastUpdated: new Date().toISOString() },\r\n  \"Electricity - KEDCO\": { buy: 0, sell: 0, serviceType: \"Electricity - KEDCO\", lastUpdated: new Date().toISOString() },\r\n  \"Electricity - PHED\": { buy: 0, sell: 0, serviceType: \"Electricity - PHED\", lastUpdated: new Date().toISOString() },\r\n  \"Electricity - IBEDC\": { buy: 0, sell: 0, serviceType: \"Electricity - IBEDC\", lastUpdated: new Date().toISOString() },\r\n  \"Electricity - EEDC\": { buy: 0, sell: 0, serviceType: \"Electricity - EEDC\", lastUpdated: new Date().toISOString() },\r\n}\r\n\r\nexport function getServicePrices(): ServicePrices {\r\n  if (typeof window === \"undefined\") return defaultPrices\r\n\r\n  const stored = localStorage.getItem(STORAGE_KEY)\r\n  if (!stored) {\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(defaultPrices))\r\n    return defaultPrices\r\n  }\r\n\r\n  return JSON.parse(stored)\r\n}\r\n\r\nexport function getServicePrice(serviceType: string): number {\r\n  const prices = getServicePrices()\r\n  return prices[serviceType]?.sell || 0\r\n}\r\n\r\nexport function updateServicePrice(serviceType: string, buy: number, sell: number): void {\r\n  const prices = getServicePrices()\r\n  prices[serviceType] = {\r\n    buy,\r\n    sell,\r\n    serviceType,\r\n    lastUpdated: new Date().toISOString(),\r\n  }\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(prices))\r\n}\r\n\r\nexport function formatPrice(price: number): string {\r\n  return `â‚¦${price.toLocaleString()}`\r\n}\r\n","\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent } from \"@/components/ui/card\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\"\r\nimport { Search, Info } from \"lucide-react\"\r\nimport { PinPrompt } from \"@/components/PinPrompt\"\r\nimport { handleServiceError } from \"@/lib/service-utils\"\r\nimport Link from \"next/link\"\r\nimport { formatPrice } from \"@/lib/service-pricing\"\r\nimport { addManualService } from \"@/lib/manual-services-storage\"\r\nimport { useToast } from \"@/hooks/use-toast\"\r\nimport { motion, AnimatePresence } from \"framer-motion\"\r\nimport { useDynamicPricing } from \"@/hooks/useDynamicPricing\"\r\nimport { downloadPdfAutoWithData } from \"@/lib/client-pdf\"\r\n\r\nexport default function BVNRetrievalPage() {\r\n  const [retrievalMethod, setRetrievalMethod] = useState(\"phone\")\r\n  const [phoneNumber, setPhoneNumber] = useState(\"\")\r\n  const [accountNumber, setAccountNumber] = useState(\"\")\r\n  const [accountName, setAccountName] = useState(\"\")\r\n  const [bank, setBank] = useState(\"\")\r\n  const [consent, setConsent] = useState(false)\r\n  const [termsAccepted, setTermsAccepted] = useState(false)\r\n  const [showWarning, setShowWarning] = useState(false)\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [showDownload, setShowDownload] = useState(false)\r\n  const [verificationPayload, setVerificationPayload] = useState<any | null>(null)\r\n  const [isPinPromptOpen, setIsPinPromptOpen] = useState(false)\r\n  const [pendingPayload, setPendingPayload] = useState<any>(null)\r\n  const [isMarketer, setIsMarketer] = useState(false)\r\n  const { toast } = useToast()\r\n\r\n  const variantForPricing = retrievalMethod === \"phone\" ? \"With Phone\" : \"\"\r\n  const { price: servicePrice, isLoading: priceLoading, error: priceError, submitService } = useDynamicPricing(\r\n    \"bvn\",\r\n    \"retrieval\",\r\n    variantForPricing,\r\n    { method: retrievalMethod },\r\n  )\r\n\r\n  useEffect(() => {\r\n    ; (async () => {\r\n      try {\r\n        const res = await fetch(\"/api/me\")\r\n        const data = res.ok ? await res.json() : null\r\n        const role = data?.user?.role || data?.role || \"\"\r\n        const roles: string[] = data?.user?.roles || []\r\n        const marketer = /MARKETER/i.test(role) || roles.includes(\"MARKETER\")\r\n        setIsMarketer(Boolean(marketer))\r\n      } catch {\r\n        setIsMarketer(false)\r\n      }\r\n    })()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setShowWarning(true)\r\n  }, [])\r\n\r\n  const handleSubmit = async () => {\r\n    if (!isFormValid()) return\r\n\r\n    if (retrievalMethod !== \"phone\") {\r\n      toast({\r\n        title: \"Method not supported\",\r\n        description: \"Currently only phone number retrieval is supported with Prembly API\",\r\n        variant: \"destructive\",\r\n      })\r\n      return\r\n    }\r\n\r\n    const amount = Number(servicePrice || 0)\r\n    setPendingPayload({\r\n      amount,\r\n      idempotencyKey: crypto.randomUUID(),\r\n      params: { phoneNumber },\r\n    })\r\n    setIsPinPromptOpen(true)\r\n  }\r\n\r\n  const handlePinConfirm = async (pin: string) => {\r\n    setIsPinPromptOpen(false)\r\n    setIsSubmitting(true)\r\n\r\n    try {\r\n      const resp = await submitService({ ...pendingPayload, pin })\r\n      if (!resp.ok) {\r\n        handleServiceError(resp, toast, \"Retrieval Failed\")\r\n        return\r\n      }\r\n      const payload = resp.data\r\n\r\n      const formData = { phoneNumber }\r\n\r\n      addManualService({\r\n        userId: \"u_001\",\r\n        serviceType: \"BVN Retrieval\",\r\n        method: \"Phone Number\",\r\n        formData,\r\n        price: pendingPayload.amount,\r\n        status: \"Completed\",\r\n      })\r\n\r\n      localStorage.setItem(\"ufriends_bvn_result\", JSON.stringify(payload?.data || payload))\r\n      setVerificationPayload(payload)\r\n      setShowDownload(true)\r\n\r\n      toast({\r\n        title: \"BVN Retrieved Successfully\",\r\n        description: \"Your BVN has been retrieved.\",\r\n      })\r\n\r\n      setPhoneNumber(\"\")\r\n      setConsent(false)\r\n      setTermsAccepted(false)\r\n    } catch (error: any) {\r\n      console.error(\"BVN Retrieval Error:\", error)\r\n      toast({\r\n        title: \"Retrieval failed\",\r\n        description: error.message || \"Please try again later\",\r\n        variant: \"destructive\",\r\n      })\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const isFormValid = () => {\r\n    if (!consent || !termsAccepted) return false\r\n    if (retrievalMethod === \"phone\") {\r\n      return phoneNumber.length === 11 && phoneNumber.startsWith(\"0\")\r\n    } else {\r\n      return accountNumber.length === 10 && accountName.trim() !== \"\" && bank !== \"\"\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#F9F7F3] p-4\">\r\n      <Dialog open={showWarning} onOpenChange={setShowWarning}>\r\n        <DialogContent className=\"sm:max-w-md bg-white\">\r\n          <DialogHeader>\r\n            <DialogTitle>Warning</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"flex flex-col items-center text-center space-y-4 p-6\">\r\n            <div className=\"w-16 h-16 rounded-full bg-[#CCCCFF]/20 flex items-center justify-center\">\r\n              <Info className=\"h-8 w-8 text-[#3457D5]\" />\r\n            </div>\r\n            <p className=\"text-sm text-gray-600 leading-relaxed\">\r\n              By using this service, you confirm that you have obtained the necessary legal authority to process this\r\n              personal data, and you assume full liability for unlawful access. The Company and its Data Protection\r\n              Compliance Organization (DPCO) will cooperate fully with regulators in cases of misuse.\r\n            </p>\r\n            <Button onClick={() => setShowWarning(false)} className=\"bg-[#3457D5] hover:bg-[#2a46b0] text-white px-8\">\r\n              I Understand\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <div className=\"max-w-2xl mx-auto\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"text-center mb-8\"\r\n        >\r\n          <div className=\"flex items-center justify-center mb-4\">\r\n            <div className=\"w-16 h-16 rounded-lg bg-[#3457D5] flex items-center justify-center\">\r\n              <Search className=\"h-8 w-8 text-white\" />\r\n            </div>\r\n          </div>\r\n          <h1 className=\"text-4xl font-bold text-[#2c3e50] mb-2\">BVN Retrieval</h1>\r\n          <p className=\"text-lg text-gray-600\">Retrieve your Bank Verification Number using your registered details</p>\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5, delay: 0.1 }}\r\n        >\r\n          <Card className=\"shadow-lg border-[#CCCCFF]/30\">\r\n            <CardContent className=\"p-6 space-y-6\">\r\n              <div>\r\n                <Label className=\"text-base font-semibold mb-4 block text-[#2c3e50]\">Select Retrieval Method</Label>\r\n                <Select value={retrievalMethod} onValueChange={setRetrievalMethod}>\r\n                  <SelectTrigger className=\"border-[#CCCCFF]/50 focus:ring-[#3457D5]\">\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"phone\">Retrieve Using Phone Number</SelectItem>\r\n                    <SelectItem value=\"bank\">Retrieve Using Bank Account</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {retrievalMethod === \"phone\" && (\r\n                <motion.div initial={{ opacity: 0 }} animate={{ opacity: 1 }} transition={{ duration: 0.3 }}>\r\n                  <Label htmlFor=\"phone-number\" className=\"text-base font-medium text-[#2c3e50]\">\r\n                    Registered Phone Number\r\n                  </Label>\r\n                  <Input\r\n                    id=\"phone-number\"\r\n                    value={phoneNumber}\r\n                    onChange={(e) => setPhoneNumber(e.target.value.replace(/\\D/g, \"\"))}\r\n                    className=\"mt-2 border-[#CCCCFF]/50 focus:ring-[#3457D5]\"\r\n                    placeholder=\"08012345678\"\r\n                    type=\"tel\"\r\n                    maxLength={11}\r\n                  />\r\n                  <p className=\"text-xs text-gray-500 mt-1\">Must be 11 digits starting with 0</p>\r\n                </motion.div>\r\n              )}\r\n\r\n              {retrievalMethod === \"bank\" && (\r\n                <motion.div\r\n                  initial={{ opacity: 0 }}\r\n                  animate={{ opacity: 1 }}\r\n                  transition={{ duration: 0.3 }}\r\n                  className=\"space-y-4\"\r\n                >\r\n                  <div>\r\n                    <Label htmlFor=\"account-number\" className=\"text-base font-medium text-[#2c3e50]\">\r\n                      Account Number\r\n                    </Label>\r\n                    <Input\r\n                      id=\"account-number\"\r\n                      value={accountNumber}\r\n                      onChange={(e) => setAccountNumber(e.target.value.replace(/\\D/g, \"\"))}\r\n                      className=\"mt-2 border-[#CCCCFF]/50 focus:ring-[#3457D5]\"\r\n                      placeholder=\"Enter 10-digit account number\"\r\n                      maxLength={10}\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"account-name\" className=\"text-base font-medium text-[#2c3e50]\">\r\n                      Account Name\r\n                    </Label>\r\n                    <Input\r\n                      id=\"account-name\"\r\n                      value={accountName}\r\n                      onChange={(e) => setAccountName(e.target.value)}\r\n                      className=\"mt-2 border-[#CCCCFF]/50 focus:ring-[#3457D5]\"\r\n                      placeholder=\"Enter account name\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"bank\" className=\"text-base font-medium text-[#2c3e50]\">\r\n                      Bank\r\n                    </Label>\r\n                    <Select value={bank} onValueChange={setBank}>\r\n                      <SelectTrigger className=\"mt-2 border-[#CCCCFF]/50 focus:ring-[#3457D5]\">\r\n                        <SelectValue placeholder=\"Select your bank\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"first-bank\">First Bank</SelectItem>\r\n                        <SelectItem value=\"access-bank\">Access Bank</SelectItem>\r\n                        <SelectItem value=\"fcmb\">FCMB</SelectItem>\r\n                        <SelectItem value=\"keystone\">Keystone Bank</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </motion.div>\r\n              )}\r\n\r\n              <div className=\"bg-[#CCCCFF]/20 border border-[#CCCCFF]/50 rounded-lg p-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <span className=\"text-sm font-medium text-[#2c3e50]\">ðŸ’° Service Price:</span>\r\n                  <span className=\"text-2xl font-bold text-[#3457D5]\">{priceLoading ? \"Loading...\" : formatPrice(Number(servicePrice || 0))}</span>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"flex items-start space-x-3\">\r\n                <Checkbox\r\n                  id=\"consent\"\r\n                  checked={consent}\r\n                  onCheckedChange={(checked) => setConsent(checked === true)}\r\n                  className=\"w-5 h-5 border-2 border-[#3457D5] data-[state=checked]:bg-[#3457D5] mt-1\"\r\n                />\r\n                <Label htmlFor=\"consent\" className=\"text-sm text-gray-700 cursor-pointer leading-relaxed\">\r\n                  By checking this box, you confirm the ID owner's consent for verification.\r\n                </Label>\r\n              </div>\r\n\r\n              <div className=\"flex items-start space-x-3\">\r\n                <Checkbox\r\n                  id=\"terms\"\r\n                  checked={termsAccepted}\r\n                  onCheckedChange={(checked) => setTermsAccepted(checked === true)}\r\n                  className=\"w-5 h-5 border-2 border-[#3457D5] data-[state=checked]:bg-[#3457D5] mt-1\"\r\n                />\r\n                <Label htmlFor=\"terms\" className=\"text-sm text-gray-700 cursor-pointer leading-relaxed\">\r\n                  I agree to the{\" \"}\r\n                  <Link href=\"/terms\" className=\"text-[#3457D5] hover:text-[#2a46b0] underline\">\r\n                    Terms of Service\r\n                  </Link>{\" \"}\r\n                  and{\" \"}\r\n                  <Link href=\"/privacy\" className=\"text-[#3457D5] hover:text-[#2a46b0] underline\">\r\n                    Privacy Policy\r\n                  </Link>\r\n                </Label>\r\n              </div>\r\n\r\n              <Button\r\n                className=\"w-full bg-[#3457D5] hover:bg-[#2a46b0] text-white py-3 text-base font-medium\"\r\n                disabled={!isFormValid() || isSubmitting}\r\n                onClick={handleSubmit}\r\n              >\r\n                {isSubmitting ? \"SUBMITTING...\" : \"RETRIEVE MY BVN\"}\r\n              </Button>\r\n              {showDownload && (\r\n                <Button\r\n                  className=\"w-full bg-green-600 hover:bg-green-700 text-white py-3 text-base font-medium\"\r\n                  onClick={async () => {\r\n                    try {\r\n                      await downloadPdfAutoWithData(\"bvn.retrieval_phone\", verificationPayload || {}, \"bvn-by-phone-printout\")\r\n                      toast({ title: \"Downloaded\", description: \"BVN printout PDF generated\" })\r\n                    } catch (err: any) {\r\n                      toast({ title: \"Download Error\", description: err?.message || \"Failed to download BVN printout\", variant: \"destructive\" })\r\n                    }\r\n                  }}\r\n                >\r\n                  Download BVN Printout (PDF)\r\n                </Button>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </motion.div>\r\n      </div>\r\n      <PinPrompt\r\n        isOpen={isPinPromptOpen}\r\n        onClose={() => setIsPinPromptOpen(false)}\r\n        onConfirm={handlePinConfirm}\r\n        isLoading={isSubmitting}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","export interface ManualServiceRequest {\r\n  id: string\r\n  userId: string\r\n  serviceType: string\r\n  method?: string\r\n  formData: Record<string, any>\r\n  price: number\r\n  status: \"Pending\" | \"Processing\" | \"Completed\" | \"Rejected\"\r\n  submittedAt: string\r\n  completedAt?: string\r\n  proofUrl?: string\r\n  notes?: string\r\n}\r\n\r\nconst STORAGE_KEY = \"ufriends_manual_services\"\r\n\r\nexport function getManualServices(): ManualServiceRequest[] {\r\n  if (typeof window === \"undefined\") return []\r\n\r\n  const stored = localStorage.getItem(STORAGE_KEY)\r\n  if (!stored) return []\r\n\r\n  return JSON.parse(stored)\r\n}\r\n\r\nexport function addManualService(request: Omit<ManualServiceRequest, \"id\" | \"submittedAt\">): ManualServiceRequest {\r\n  const newRequest: ManualServiceRequest = {\r\n    ...request,\r\n    id: crypto.randomUUID(),\r\n    submittedAt: new Date().toISOString(),\r\n  }\r\n\r\n  const services = getManualServices()\r\n  services.push(newRequest)\r\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(services))\r\n\r\n  return newRequest\r\n}\r\n\r\nexport function updateManualService(id: string, updates: Partial<ManualServiceRequest>): void {\r\n  const services = getManualServices()\r\n  const index = services.findIndex((s) => s.id === id)\r\n\r\n  if (index !== -1) {\r\n    services[index] = { ...services[index], ...updates }\r\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(services))\r\n  }\r\n}\r\n\r\nexport function getUserManualServices(userId: string): ManualServiceRequest[] {\r\n  return getManualServices().filter((s) => s.userId === userId)\r\n}\r\n"],"names":[],"mappings":"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","ignoreList":[3]}