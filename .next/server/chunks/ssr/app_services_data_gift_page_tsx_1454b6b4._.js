module.exports=[340730,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(340695),e=a.i(703130),f=a.i(205522),g=a.i(917171),h=a.i(546893),i=a.i(887682),j=a.i(950463),k=a.i(277687),l=a.i(578138),m=a.i(856738),n=a.i(167453);let o=(0,a.i(170106).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);var p=a.i(346271),q=a.i(262036),r=a.i(370975),s=a.i(965733),t=a.i(464286),u=a.i(487228);let v={MTN:[{id:"mtn-gift-500mb",name:"500MB Gift",size:"500MB",price:180,validity:"30 days"},{id:"mtn-gift-1gb",name:"1GB Gift",size:"1GB",price:350,validity:"30 days"},{id:"mtn-gift-2gb",name:"2GB Gift",size:"2GB",price:700,validity:"30 days"},{id:"mtn-gift-3gb",name:"3GB Gift",size:"3GB",price:1050,validity:"30 days"},{id:"mtn-gift-4gb",name:"4GB Gift",size:"4GB",price:1400,validity:"30 days"},{id:"mtn-gift-5gb",name:"5GB Gift",size:"5GB",price:1750,validity:"30 days"},{id:"mtn-gift-10gb",name:"10GB Gift",size:"10GB",price:3500,validity:"30 days"}],Airtel:[{id:"airtel-gift-500mb",name:"500MB Gift",size:"500MB",price:170,validity:"30 days"},{id:"airtel-gift-1gb",name:"1GB Gift",size:"1GB",price:340,validity:"30 days"},{id:"airtel-gift-2gb",name:"2GB Gift",size:"2GB",price:680,validity:"30 days"},{id:"airtel-gift-3gb",name:"3GB Gift",size:"3GB",price:1020,validity:"30 days"},{id:"airtel-gift-4gb",name:"4GB Gift",size:"4GB",price:1360,validity:"30 days"},{id:"airtel-gift-5gb",name:"5GB Gift",size:"5GB",price:1700,validity:"30 days"},{id:"airtel-gift-10gb",name:"10GB Gift",size:"10GB",price:3400,validity:"30 days"}],Glo:[{id:"glo-gift-500mb",name:"500MB Gift",size:"500MB",price:160,validity:"30 days"},{id:"glo-gift-1gb",name:"1GB Gift",size:"1GB",price:320,validity:"30 days"},{id:"glo-gift-2gb",name:"2GB Gift",size:"2GB",price:640,validity:"30 days"},{id:"glo-gift-3gb",name:"3GB Gift",size:"3GB",price:960,validity:"30 days"},{id:"glo-gift-4gb",name:"4GB Gift",size:"4GB",price:1280,validity:"30 days"},{id:"glo-gift-5gb",name:"5GB Gift",size:"5GB",price:1600,validity:"30 days"},{id:"glo-gift-10gb",name:"10GB Gift",size:"10GB",price:3200,validity:"30 days"}],"9mobile":[{id:"9mobile-gift-500mb",name:"500MB Gift",size:"500MB",price:150,validity:"30 days"},{id:"9mobile-gift-1gb",name:"1GB Gift",size:"1GB",price:300,validity:"30 days"},{id:"9mobile-gift-2gb",name:"2GB Gift",size:"2GB",price:600,validity:"30 days"},{id:"9mobile-gift-3gb",name:"3GB Gift",size:"3GB",price:900,validity:"30 days"},{id:"9mobile-gift-4gb",name:"4GB Gift",size:"4GB",price:1200,validity:"30 days"},{id:"9mobile-gift-5gb",name:"5GB Gift",size:"5GB",price:1500,validity:"30 days"},{id:"9mobile-gift-10gb",name:"10GB Gift",size:"10GB",price:3e3,validity:"30 days"}]};function w(){let[a,w]=(0,c.useState)(!0),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(0),[B,C]=(0,c.useState)(""),[D,E]=(0,c.useState)(null),F=B&&D?`${B.toLowerCase()}.${D.size.toLowerCase()}`:"",{price:G,isLoading:H,error:I,submitService:J}=(0,r.default)("data","gift",F,{network:B,size:D?.size||""}),[K,L]=(0,c.useState)(""),[M,N]=(0,c.useState)(""),[O,P]=(0,c.useState)(!1),[Q,R]=(0,c.useState)(""),[S,T]=(0,c.useState)(!1),[U,V]=(0,c.useState)(null),{toast:W}=(0,k.useToast)();(0,c.useEffect)(()=>{let a=localStorage.getItem("ufriends_wallet_balance");A(a?Number.parseFloat(a):0),w(!1)},[]);let X=B&&v[B]||[],Y=()=>"number"==typeof G?Math.round(G):0,Z=async a=>{if(a.preventDefault(),!B||!D||!K)return void W({title:"Missing Information",description:"Please fill in all required fields",variant:"destructive"});if(11!==K.length)return void W({title:"Invalid Phone Number",description:"Phone number must be 11 digits",variant:"destructive"});let b=Y();"number"!=typeof G?W({title:"Pricing Unavailable",description:"Live pricing could not be fetched. Please try again.",variant:"destructive"}):z<b?W({title:"Insufficient Balance",description:`You need ₦${b.toLocaleString()} but have ₦${z.toLocaleString()}`,variant:"destructive"}):(V({amount:b,phone:K,network:B,planCode:D.size,message:M,idempotencyKey:crypto.randomUUID(),category:"data",action:"gift"}),T(!0))},$=async a=>{T(!1),y(!0);try{let b=await J({...U,pin:a});if(!b.ok)return void(0,u.handleServiceError)(b,W,"Gift Failed");R(b?.reference||crypto.randomUUID()),P(!0),W({title:"Gift Sent Successfully",description:`${D?.size} gift sent to ${K}`})}catch(a){W({title:"Gift Failed",description:a?.message||"Unable to send gift",variant:"destructive"})}finally{y(!1)}};return a?(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,b.jsx)(j.Skeleton,{className:"h-32 w-full"}),(0,b.jsx)(j.Skeleton,{className:"h-96 w-full"})]}):(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)(p.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,b.jsx)(l.Gift,{className:"h-12 w-12 text-[#3457D5] mr-3"}),(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900",children:"Gift Data"})]}),(0,b.jsx)("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Share the gift of connectivity with your loved ones"})]}),(0,b.jsx)("div",{className:"grid md:grid-cols-3 gap-6 mb-6",children:(0,b.jsx)(p.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:(0,b.jsxs)(e.Card,{className:"bg-gradient-to-br from-[#3457D5] to-[#CCCCFF] text-white",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)(e.CardTitle,{className:"flex items-center text-white",children:[(0,b.jsx)(m.Wallet,{className:"h-5 w-5 mr-2"}),"Wallet Balance"]})}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("p",{className:"text-3xl font-bold",children:["₦",z.toLocaleString()]})})]})})}),(0,b.jsx)(p.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,b.jsxs)(e.Card,{className:"shadow-lg border-[#CCCCFF]",children:[(0,b.jsxs)(e.CardHeader,{className:"bg-[#F9F7F3]",children:[(0,b.jsxs)(e.CardTitle,{className:"text-[#3457D5] flex items-center",children:[(0,b.jsx)(o,{className:"h-5 w-5 mr-2"}),"Send Gift Data"]}),(0,b.jsx)(e.CardDescription,{children:"Surprise someone special with a data gift"})]}),(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("form",{onSubmit:Z,className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"network",children:"Select Network *"}),(0,b.jsxs)(i.Select,{value:B,onValueChange:C,children:[(0,b.jsx)(i.SelectTrigger,{className:"border-[#CCCCFF] focus:ring-[#3457D5]",children:(0,b.jsx)(i.SelectValue,{placeholder:"Choose network"})}),(0,b.jsxs)(i.SelectContent,{children:[(0,b.jsx)(i.SelectItem,{value:"MTN",children:"MTN"}),(0,b.jsx)(i.SelectItem,{value:"Airtel",children:"Airtel"}),(0,b.jsx)(i.SelectItem,{value:"Glo",children:"Glo"}),(0,b.jsx)(i.SelectItem,{value:"9mobile",children:"9mobile"})]})]})]}),(0,b.jsx)(q.AnimatePresence,{mode:"wait",children:B&&(0,b.jsxs)(p.motion.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:[(0,b.jsx)(g.Label,{htmlFor:"plan",children:"Select Gift Plan *"}),(0,b.jsxs)(i.Select,{value:D?.id||"",onValueChange:a=>{E(X.find(b=>b.id===a)||null)},children:[(0,b.jsx)(i.SelectTrigger,{className:"border-[#CCCCFF] focus:ring-[#3457D5]",children:(0,b.jsx)(i.SelectValue,{placeholder:"Choose gift plan"})}),(0,b.jsx)(i.SelectContent,{children:X.map(a=>(0,b.jsxs)(i.SelectItem,{value:a.id,children:[a.name," (",a.validity,")"]},a.id))})]}),D&&(0,b.jsxs)("div",{className:"mt-3 text-sm text-gray-700",children:[H&&(0,b.jsx)("p",{children:"Fetching live price…"}),!H&&I&&(0,b.jsxs)("p",{className:"text-red-600",children:["Unable to fetch price: ",I]}),!H&&!I&&"number"==typeof G&&(0,b.jsxs)("p",{children:["Current price: ₦",Math.round(G).toLocaleString()]})]})]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"recipientNumber",children:"Recipient Phone Number *"}),(0,b.jsx)(f.Input,{id:"recipientNumber",type:"tel",placeholder:"08012345678",value:K,onChange:a=>L(a.target.value.replace(/\D/g,"").slice(0,11)),maxLength:11,className:"border-[#CCCCFF] focus:ring-[#3457D5]"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(g.Label,{htmlFor:"message",children:"Personal Message (Optional)"}),(0,b.jsx)(h.Textarea,{id:"message",placeholder:"Add a personal message to your gift...",value:M,onChange:a=>N(a.target.value),maxLength:200,className:"border-[#CCCCFF] focus:ring-[#3457D5] min-h-[100px]"}),(0,b.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[M.length,"/200 characters"]})]}),D&&(0,b.jsxs)(p.motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 bg-[#F9F7F3] rounded-lg border border-[#CCCCFF]",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Gift Plan:"}),(0,b.jsx)("span",{className:"font-semibold",children:D.size})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Validity:"}),(0,b.jsx)("span",{className:"font-semibold",children:D.validity})]}),(0,b.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold text-[#3457D5]",children:[(0,b.jsx)("span",{children:"Total Amount:"}),(0,b.jsxs)("span",{children:["₦",Y().toLocaleString()]})]})]}),(0,b.jsx)(d.Button,{type:"submit",disabled:x||!B||!D||!K,className:"w-full bg-[#3457D5] hover:bg-[#2a4ab0] text-white",children:x?"Sending Gift...":"Send Gift Data"})]})})]})}),(0,b.jsx)(s.Dialog,{open:O,onOpenChange:P,children:(0,b.jsxs)(s.DialogContent,{className:"border-[#CCCCFF]",children:[(0,b.jsxs)(s.DialogHeader,{children:[(0,b.jsx)("div",{className:"flex justify-center mb-4",children:(0,b.jsx)("div",{className:"rounded-full bg-green-100 p-3",children:(0,b.jsx)(n.CheckCircle2,{className:"h-12 w-12 text-green-600"})})}),(0,b.jsx)(s.DialogTitle,{className:"text-center text-2xl text-[#3457D5]",children:"Gift Sent Successfully!"}),(0,b.jsxs)(s.DialogDescription,{className:"text-center space-y-4 pt-4",children:[(0,b.jsxs)("div",{className:"bg-[#F9F7F3] p-4 rounded-lg space-y-2",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Transaction ID:"}),(0,b.jsx)("span",{className:"font-semibold",children:Q})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Network:"}),(0,b.jsx)("span",{className:"font-semibold",children:B})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Gift Plan:"}),(0,b.jsx)("span",{className:"font-semibold",children:D?.size})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{className:"text-gray-600",children:"Recipient:"}),(0,b.jsx)("span",{className:"font-semibold",children:K})]}),M&&(0,b.jsxs)("div",{className:"pt-2 border-t border-[#CCCCFF]",children:[(0,b.jsx)("span",{className:"text-gray-600 text-sm",children:"Your Message:"}),(0,b.jsx)("p",{className:"text-sm italic mt-1",children:M})]}),(0,b.jsxs)("div",{className:"flex justify-between text-lg font-bold text-[#3457D5]",children:[(0,b.jsx)("span",{children:"Amount Paid:"}),(0,b.jsxs)("span",{children:["₦",D?Y().toLocaleString():0]})]})]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:"Gift will be delivered within 5 minutes"})]})]}),(0,b.jsx)(d.Button,{onClick:()=>{C(""),E(null),L(""),N(""),P(!1),R("")},className:"w-full bg-[#3457D5] hover:bg-[#2a4ab0]",children:"Send Another Gift"})]})}),(0,b.jsx)(t.PinPrompt,{isOpen:S,onClose:()=>T(!1),onConfirm:$,isLoading:x})]})}a.s(["default",()=>w],340730)}];

//# sourceMappingURL=app_services_data_gift_page_tsx_1454b6b4._.js.map