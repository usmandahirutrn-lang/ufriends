module.exports=[525568,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(340695),e=a.i(703130),f=a.i(205522),g=a.i(917171),h=a.i(887682),i=a.i(621958),j=a.i(265602),k=a.i(254161),l=a.i(596221),m=a.i(167453),n=a.i(292e3),o=a.i(633508),p=a.i(546893),q=a.i(464286),r=a.i(487228),s=a.i(249213),t=a.i(153023),u=a.i(370975);let v=["Federal","National","Government","State","Ministry","Commission","Authority","Bank","Insurance","University"],w=["NIN","Passport","Driver's License","Voter's Card"],x=["Sole Proprietorship","Partnership","Limited Liability Company","Public Limited Company","NGO","Incorporated Trustees"];function y(){let a,{showKYCModal:y,setShowKYCModal:z,requireKYC:A}=(0,s.useKYCCheck)(),[B,C]=(0,c.useState)("BN"),[D,E]=(0,c.useState)(!1),[F,G]=(0,c.useState)(!1),[H,I]=(0,c.useState)(null),[J,K]=(0,c.useState)(!1),[L,M]=(0,c.useState)(!1),[N,O]=(0,c.useState)(null),[P,Q]=(0,c.useState)({fullName:"",dateOfBirth:"",nationality:"Nigerian",idType:"",idFile:null,passportPhoto:null,businessName:"",businessObjectives:"",businessType:"",businessAddress:"",residenceAddress:"",commencementDate:"",rcNumber:"",directors:[]}),[R,S]=(0,c.useState)({}),{price:T,isLoading:U,error:V,submitService:W}=(0,u.default)("cac","registration",B.toLowerCase(),{directorsCount:P.directors.length,businessType:P.businessType?P.businessType.toLowerCase():""}),X=async()=>{P.businessName&&(K(!0),await new Promise(a=>setTimeout(a,1500)),I(Math.random()>.3),K(!1))},Y=(a,b)=>{if(b){if(!["image/jpeg","image/png","application/pdf"].includes(b.type))return void S({...R,[a]:"Only JPEG, PNG, or PDF files are allowed"});if(b.size>5242880)return void S({...R,[a]:"File size must be less than 5MB"})}Q({...P,[a]:b}),S({...R,[a]:""})},Z=(a,b,c)=>{Q({...P,directors:P.directors.map(d=>d.id===a?{...d,[b]:c}:d)})},$=async a=>{let b;a.preventDefault(),A()&&(b={},P.fullName||(b.fullName="Full name is required"),P.dateOfBirth||(b.dateOfBirth="Date of birth is required"),P.nationality||(b.nationality="Nationality is required"),P.idType||(b.idType="ID type is required"),P.idFile||(b.idFile="ID document is required"),P.passportPhoto||(b.passportPhoto="Passport photo is required"),P.businessName||(b.businessName="Business name is required"),P.businessObjectives||(b.businessObjectives="Business objectives are required"),P.businessType||(b.businessType="Business type is required"),P.businessAddress||(b.businessAddress="Business address is required"),P.commencementDate||(b.commencementDate="Commencement date is required"),"RC"===B&&0===P.directors.length&&(b.directors="At least one director is required for company registration"),S(b),0===Object.keys(b).length&&(O({amount:Number(T),businessName:P.businessName,businessObjectives:P.businessObjectives,businessType:P.businessType,businessAddress:P.businessAddress,residenceAddress:P.residenceAddress,commencementDate:P.commencementDate,directors:P.directors.map(a=>({name:a.name,dateOfBirth:a.dateOfBirth,idType:a.idType})),idType:P.idType,rcNumber:P.rcNumber,category:"cac",variant:B.toLowerCase()}),M(!0)))},_=async a=>{M(!1),E(!0);try{let b=await W({...N,pin:a});if(!b.ok)return void(0,r.handleServiceError)(b,null,"Submission failed");console.log("Form submitted:",{mode:B,formData:N,reference:b.reference}),G(!0)}catch(a){S({submit:a.message||"An unexpected error occurred"})}finally{E(!1)}};return F?(0,b.jsx)(e.Card,{className:"shadow-lg",children:(0,b.jsx)(e.CardContent,{className:"pt-6",children:(0,b.jsxs)("div",{className:"text-center py-12",children:[(0,b.jsx)(m.CheckCircle2,{className:"h-16 w-16 text-green-500 mx-auto mb-4"}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Application Submitted Successfully!"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-6",children:"Your CAC registration application has been submitted. We will process your request and contact you soon."}),(0,b.jsx)(d.Button,{onClick:()=>G(!1),children:"Submit Another Application"})]})})}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(e.Card,{className:"shadow-lg",children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Registration Form"}),(0,b.jsx)(e.CardDescription,{children:"Choose your registration type and fill in the required information"})]}),(0,b.jsx)(e.CardContent,{children:(0,b.jsxs)("form",{onSubmit:$,className:"space-y-8",children:[(0,b.jsxs)(i.Tabs,{value:B,onValueChange:a=>C(a),children:[(0,b.jsxs)(i.TabsList,{className:"grid w-full grid-cols-2",children:[(0,b.jsx)(i.TabsTrigger,{value:"BN",children:"Business Name (BN)"}),(0,b.jsx)(i.TabsTrigger,{value:"RC",children:"Company Registration (RC)"})]}),(0,b.jsx)(i.TabsContent,{value:"BN",className:"space-y-6 mt-6",children:(0,b.jsx)(j.Alert,{children:(0,b.jsx)(j.AlertDescription,{children:"Business Name registration is suitable for sole proprietorships and partnerships."})})}),(0,b.jsx)(i.TabsContent,{value:"RC",className:"space-y-6 mt-6",children:(0,b.jsx)(j.Alert,{children:(0,b.jsx)(j.AlertDescription,{children:"Company Registration (RC) is for Limited Liability Companies, PLCs, and Incorporated Trustees."})})})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground border-b pb-2",children:"Personal Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"fullName",children:["Full Name of Proprietor / Main Applicant ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(f.Input,{id:"fullName",value:P.fullName,onChange:a=>Q({...P,fullName:a.target.value}),placeholder:"Enter full name",className:R.fullName?"border-destructive":""}),R.fullName&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:R.fullName})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"dateOfBirth",children:["Date of Birth ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(f.Input,{id:"dateOfBirth",type:"date",value:P.dateOfBirth,onChange:a=>Q({...P,dateOfBirth:a.target.value}),className:R.dateOfBirth?"border-destructive":""}),R.dateOfBirth&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:R.dateOfBirth})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"nationality",children:["Nationality ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(f.Input,{id:"nationality",value:P.nationality,onChange:a=>Q({...P,nationality:a.target.value}),placeholder:"Enter nationality",className:R.nationality?"border-destructive":""}),R.nationality&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:R.nationality})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"idType",children:["Means of Identification ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)(h.Select,{value:P.idType,onValueChange:a=>Q({...P,idType:a}),children:[(0,b.jsx)(h.SelectTrigger,{className:R.idType?"border-destructive":"",children:(0,b.jsx)(h.SelectValue,{placeholder:"Select ID type"})}),(0,b.jsx)(h.SelectContent,{children:w.map(a=>(0,b.jsx)(h.SelectItem,{value:a,children:a},a))})]}),R.idType&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:R.idType})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"idFile",children:["Upload ID Document ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Input,{id:"idFile",type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:a=>Y("idFile",a.target.files?.[0]||null),className:R.idFile?"border-destructive":""}),P.idFile&&(0,b.jsxs)(k.Badge,{variant:"secondary",className:"flex items-center gap-1",children:[(0,b.jsx)(m.CheckCircle2,{className:"h-3 w-3"}),"Uploaded"]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"JPEG, PNG, or PDF (max 5MB)"}),R.idFile&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:R.idFile})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"passportPhoto",children:["Passport Photo ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Input,{id:"passportPhoto",type:"file",accept:".jpg,.jpeg,.png",onChange:a=>Y("passportPhoto",a.target.files?.[0]||null),className:R.passportPhoto?"border-destructive":""}),P.passportPhoto&&(0,b.jsxs)(k.Badge,{variant:"secondary",className:"flex items-center gap-1",children:[(0,b.jsx)(m.CheckCircle2,{className:"h-3 w-3"}),"Uploaded"]})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"JPEG or PNG (max 5MB)"}),R.passportPhoto&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:R.passportPhoto})]})]})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground border-b pb-2",children:"Business Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"businessName",children:["Proposed Business / Company Name ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f.Input,{id:"businessName",value:P.businessName,onChange:a=>{Q({...P,businessName:a.target.value}),I(null)},placeholder:"Enter business name",className:R.businessName?"border-destructive":""}),(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:X,disabled:!P.businessName||J,children:J?(0,b.jsx)(l.Loader2,{className:"h-4 w-4 animate-spin"}):"Check"})]}),R.businessName&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:R.businessName}),!0===H&&(0,b.jsxs)(j.Alert,{className:"border-green-500 bg-green-50",children:[(0,b.jsx)(m.CheckCircle2,{className:"h-4 w-4 text-green-500"}),(0,b.jsx)(j.AlertDescription,{className:"text-green-700",children:"Name is available!"})]}),!1===H&&(0,b.jsxs)(j.Alert,{className:"border-destructive bg-destructive/10",children:[(0,b.jsx)(n.AlertCircle,{className:"h-4 w-4 text-destructive"}),(0,b.jsx)(j.AlertDescription,{className:"text-destructive",children:"Name is not available. Please try another name."})]}),(a=P.businessName,v.some(b=>a.toLowerCase().includes(b.toLowerCase()))&&(0,b.jsxs)(j.Alert,{className:"border-yellow-500 bg-yellow-50",children:[(0,b.jsx)(n.AlertCircle,{className:"h-4 w-4 text-yellow-600"}),(0,b.jsx)(j.AlertDescription,{className:"text-yellow-700",children:"This name contains restricted words that may require special approval from relevant authorities."})]}))]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"businessObjectives",children:["Business Objectives / Line of Business ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(p.Textarea,{id:"businessObjectives",value:P.businessObjectives,onChange:a=>Q({...P,businessObjectives:a.target.value}),placeholder:"Describe your business objectives and activities",rows:4,className:R.businessObjectives?"border-destructive":""}),R.businessObjectives&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:R.businessObjectives})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"businessType",children:["Business Type / Structure ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsxs)(h.Select,{value:P.businessType,onValueChange:a=>Q({...P,businessType:a}),children:[(0,b.jsx)(h.SelectTrigger,{className:R.businessType?"border-destructive":"",children:(0,b.jsx)(h.SelectValue,{placeholder:"Select business type"})}),(0,b.jsx)(h.SelectContent,{children:x.map(a=>(0,b.jsx)(h.SelectItem,{value:a,children:a},a))})]}),R.businessType&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:R.businessType})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"commencementDate",children:["Proposed Date of Commencement ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(f.Input,{id:"commencementDate",type:"date",value:P.commencementDate,onChange:a=>Q({...P,commencementDate:a.target.value}),className:R.commencementDate?"border-destructive":""}),R.commencementDate&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:R.commencementDate})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(g.Label,{htmlFor:"businessAddress",children:["Business Address ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(p.Textarea,{id:"businessAddress",value:P.businessAddress,onChange:a=>Q({...P,businessAddress:a.target.value}),placeholder:"Enter complete business address",rows:3,className:R.businessAddress?"border-destructive":""}),R.businessAddress&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:R.businessAddress})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"residenceAddress",children:"Residence / Proprietor Address"}),(0,b.jsx)(p.Textarea,{id:"residenceAddress",value:P.residenceAddress,onChange:a=>Q({...P,residenceAddress:a.target.value}),placeholder:"Enter residence address (if different from business address)",rows:3})]})]})]}),"RC"===B&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between border-b pb-2",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:"Additional Directors"}),(0,b.jsx)(d.Button,{type:"button",variant:"outline",size:"sm",onClick:()=>{Q({...P,directors:[...P.directors,{id:Date.now().toString(),name:"",dateOfBirth:"",idType:"",idFile:null}]})},children:"Add Director"})]}),R.directors&&(0,b.jsx)("p",{className:"text-sm text-destructive",children:R.directors}),P.directors.map((a,c)=>(0,b.jsxs)(e.Card,{className:"bg-muted/50",children:[(0,b.jsx)(e.CardHeader,{className:"pb-3",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)(e.CardTitle,{className:"text-base",children:["Director ",c+1]}),(0,b.jsx)(d.Button,{type:"button",variant:"ghost",size:"sm",onClick:()=>{var b;return b=a.id,void Q({...P,directors:P.directors.filter(a=>a.id!==b)})},className:"h-8 w-8 p-0",children:(0,b.jsx)(o.X,{className:"h-4 w-4"})})]})}),(0,b.jsx)(e.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Director Name"}),(0,b.jsx)(f.Input,{value:a.name,onChange:b=>Z(a.id,"name",b.target.value),placeholder:"Enter director name"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Date of Birth"}),(0,b.jsx)(f.Input,{type:"date",value:a.dateOfBirth,onChange:b=>Z(a.id,"dateOfBirth",b.target.value)})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"ID Type"}),(0,b.jsxs)(h.Select,{value:a.idType,onValueChange:b=>Z(a.id,"idType",b),children:[(0,b.jsx)(h.SelectTrigger,{children:(0,b.jsx)(h.SelectValue,{placeholder:"Select ID type"})}),(0,b.jsx)(h.SelectContent,{children:w.map(a=>(0,b.jsx)(h.SelectItem,{value:a,children:a},a))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{children:"Upload ID Document"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(f.Input,{type:"file",accept:".jpg,.jpeg,.png,.pdf",onChange:b=>Z(a.id,"idFile",b.target.files?.[0]||null)}),a.idFile&&(0,b.jsx)(k.Badge,{variant:"secondary",className:"flex items-center gap-1",children:(0,b.jsx)(m.CheckCircle2,{className:"h-3 w-3"})})]})]})]})})]},a.id))]}),"RC"===B&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"rcNumber",children:"RC Number (if retrieving existing registration)"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"RC"}),(0,b.jsx)(f.Input,{id:"rcNumber",value:P.rcNumber,onChange:a=>{let b=a.target.value.replace(/[^0-9]/g,"").slice(0,7);Q({...P,rcNumber:b})},maxLength:7,placeholder:"Enter 7-digit number"})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter 7 digits only (RC prefix is automatic)"})]}),"BN"===B&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(g.Label,{htmlFor:"bnNumber",children:"BN Number (if retrieving existing registration)"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"BN"}),(0,b.jsx)(f.Input,{id:"bnNumber",value:P.rcNumber,onChange:a=>{let b=a.target.value.replace(/[^0-9]/g,"").slice(0,7);Q({...P,rcNumber:b})},maxLength:7,placeholder:"Enter 7-digit number"})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter 7 digits only (BN prefix is automatic)"})]}),(0,b.jsxs)(e.Card,{className:"bg-primary/5 border-primary/20",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-lg",children:"Estimated Price"})}),(0,b.jsxs)(e.CardContent,{children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"Based on registration mode, business type and directors"}),U?(0,b.jsx)("span",{className:"text-sm",children:"Fetching price..."}):null!=T?(0,b.jsxs)("span",{className:"text-xl font-bold text-primary",children:["₦",Number(T).toLocaleString()]}):(0,b.jsx)("span",{className:"text-sm text-muted-foreground",children:"—"})]}),V&&(0,b.jsx)("p",{className:"mt-2 text-xs text-red-600",children:"Failed to load price. You can still submit."})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-4",children:[(0,b.jsx)(d.Button,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),(0,b.jsx)(d.Button,{type:"submit",disabled:D,className:"min-w-[150px]",children:D?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Submitting..."]}):"Submit Application"})]}),R.submit&&(0,b.jsx)("p",{className:"text-sm text-red-600 text-right mt-2",children:R.submit})]})})]}),(0,b.jsx)(t.KYCRequiredModal,{open:y,onOpenChange:z}),(0,b.jsx)(q.PinPrompt,{isOpen:L,onClose:()=>M(!1),onConfirm:_,isLoading:D})]})}var z=a.i(346271);function A(){return(0,b.jsx)("div",{className:"min-h-screen crosshatch-bg",children:(0,b.jsx)("main",{className:"py-12 px-4 sm:px-6 lg:px-8",children:(0,b.jsxs)(z.motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-5xl mx-auto",children:[(0,b.jsxs)("div",{className:"text-center mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-4 text-balance",children:"CAC Registration"}),(0,b.jsx)("p",{className:"text-lg text-muted-foreground text-pretty",children:"Register your business name or company with the Corporate Affairs Commission"})]}),(0,b.jsx)(y,{})]})})})}a.s(["default",()=>A],525568)}];

//# sourceMappingURL=app_services_cac_registration_page_tsx_1ea8b308._.js.map