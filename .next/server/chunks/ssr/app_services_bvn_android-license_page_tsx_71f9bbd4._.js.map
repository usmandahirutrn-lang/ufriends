{"version":3,"sources":["turbopack:///[project]/app/services/bvn/android-license/page.tsx","turbopack:///[project]/components/bvn/bvn-request-form.tsx","turbopack:///[project]/lib/bvn-validation.ts","turbopack:///[project]/components/bvn/bvn-request-details.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState, useEffect } from \"react\"\r\nimport { motion } from \"framer-motion\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\"\r\nimport { Smartphone, Plus, Eye, RefreshCw, Download, Info } from \"lucide-react\"\r\nimport { BVNStorage, type BVNRequest } from \"@/lib/bvn-storage\"\r\nimport { BVNRequestForm } from \"@/components/bvn/bvn-request-form\"\r\nimport { BVNRequestDetails } from \"@/components/bvn/bvn-request-details\"\r\nimport { PinPrompt } from \"@/components/PinPrompt\"\r\nimport { handleServiceError } from \"@/lib/service-utils\"\r\nimport { useToast } from \"@/hooks/use-toast\"\r\nimport { Toaster } from \"@/components/ui/toaster\"\r\nimport useDynamicPricing from \"@/hooks/useDynamicPricing\"\r\n\r\nconst MOCK_USER_ID = \"u_001\"\r\n\r\nexport default function AndroidLicensePage() {\r\n  const [requests, setRequests] = useState<BVNRequest[]>([])\r\n  const [androidAppLink, setAndroidAppLink] = useState(\"\")\r\n  const [appDescription, setAppDescription] = useState(\"\")\r\n  const [showForm, setShowForm] = useState(false)\r\n  const [selectedRequest, setSelectedRequest] = useState<BVNRequest | null>(null)\r\n  const [resubmitData, setResubmitData] = useState<BVNRequest | null>(null)\r\n  const [searchTerm, setSearchTerm] = useState(\"\")\r\n  const [showWarning, setShowWarning] = useState(false)\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [isPinPromptOpen, setIsPinPromptOpen] = useState(false)\r\n  const [pendingPayload, setPendingPayload] = useState<any>(null)\r\n\r\n  const { price: dynPrice, isLoading: priceLoading, error: priceError, submitService } = useDynamicPricing(\r\n    \"bvn\",\r\n    \"android-license\",\r\n    \"enrollment\",\r\n  )\r\n  const { toast } = useToast()\r\n\r\n  useEffect(() => {\r\n    loadData()\r\n    setShowWarning(true)\r\n  }, [])\r\n\r\n  const loadData = async () => {\r\n    setRequests(BVNStorage.getUserRequests(MOCK_USER_ID))\r\n    try {\r\n      const res = await fetch(\"/api/admin/system-settings/bvn-android\")\r\n      if (res.ok) {\r\n        const data = await res.json()\r\n        setAndroidAppLink(data.link || \"\")\r\n        setAppDescription(data.description || \"\")\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Failed to load settings:\", err)\r\n    }\r\n  }\r\n\r\n  const handleSubmit = (formData: any) => {\r\n    setPendingPayload({\r\n      ...formData,\r\n      amount: Number(dynPrice || 0),\r\n      category: \"bvn\",\r\n      action: \"android-license\"\r\n    })\r\n    setIsPinPromptOpen(true)\r\n  }\r\n\r\n  const handlePinConfirm = async (pin: string) => {\r\n    setIsPinPromptOpen(false)\r\n    setIsSubmitting(true)\r\n    try {\r\n      const resp = await submitService({ ...pendingPayload, pin })\r\n\r\n      if (!resp.ok) {\r\n        handleServiceError(resp, toast, \"Submission Failed\")\r\n        return\r\n      }\r\n\r\n      toast({\r\n        title: \"Success\",\r\n        description: \"Request submitted successfully!\",\r\n      })\r\n      setShowForm(false)\r\n      setResubmitData(null)\r\n      loadData()\r\n    } catch (err: any) {\r\n      toast({ title: \"Submission Error\", description: err.message || \"An error occurred\", variant: \"destructive\" })\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const handleResubmit = (request: BVNRequest) => {\r\n    setResubmitData(request)\r\n    setSelectedRequest(null)\r\n    setShowForm(true)\r\n  }\r\n\r\n  const getStatusBadge = (status: BVNRequest[\"status\"]) => {\r\n    const variants = {\r\n      Pending: \"bg-yellow-100 text-yellow-800 border-yellow-300\",\r\n      Approved: \"bg-green-100 text-green-800 border-green-300\",\r\n      Rejected: \"bg-red-100 text-red-800 border-red-300\",\r\n    }\r\n    return <Badge className={variants[status]}>{status}</Badge>\r\n  }\r\n\r\n  const filteredRequests = requests.filter((r) => {\r\n    if (!searchTerm) return true\r\n    const search = searchTerm.toLowerCase()\r\n    return r.bvn.includes(search) || r.accountName.toLowerCase().includes(search) || r.kegowAccountNo.includes(search)\r\n  })\r\n\r\n  const stats = {\r\n    total: requests.length,\r\n    pending: requests.filter((r) => r.status === \"Pending\").length,\r\n    approved: requests.filter((r) => r.status === \"Approved\").length,\r\n    rejected: requests.filter((r) => r.status === \"Rejected\").length,\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-background p-6\">\r\n      <Toaster />\r\n\r\n      <Dialog open={showWarning} onOpenChange={setShowWarning}>\r\n        <DialogContent className=\"sm:max-w-md bg-[#F9F7F3]\">\r\n          <div className=\"flex flex-col items-center text-center space-y-4 p-6\">\r\n            <div className=\"w-16 h-16 rounded-full border-2 border-[#3457D5] flex items-center justify-center bg-[#CCCCFF]/20\">\r\n              <Info className=\"h-8 w-8 text-[#3457D5]\" />\r\n            </div>\r\n            <h2 className=\"text-xl font-semibold text-gray-900\">Warning</h2>\r\n            <p className=\"text-sm text-gray-600 leading-relaxed\">\r\n              By submitting a BVN Android License request, you confirm that you have obtained the necessary legal\r\n              authority to process this personal data, and you assume full liability for unlawful access. The Company\r\n              and its Data Protection Compliance Organization (DPCO) will cooperate fully with regulators in cases of\r\n              misuse.\r\n            </p>\r\n            <Button\r\n              onClick={() => setShowWarning(false)}\r\n              className=\"bg-[#3457D5] hover:bg-[#3457D5]/90 text-white px-8\"\r\n            >\r\n              Close\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <div className=\"max-w-7xl mx-auto\">\r\n        <motion.div initial={{ opacity: 0, y: -20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.5 }}>\r\n          <h1 className=\"text-3xl font-bold text-foreground mb-2\">BVN Android License Enrollment</h1>\r\n          <p className=\"text-muted-foreground mb-6\">Submit and track your BVN enrollment requests</p>\r\n        </motion.div>\r\n\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5, delay: 0.1 }}\r\n        >\r\n          <Card className=\"bg-blue-50 border border-blue-200 mb-6\">\r\n            <CardContent className=\"p-6\">\r\n              <h2 className=\"text-lg font-semibold text-blue-800 flex items-center gap-2 mb-3\">\r\n                <Smartphone className=\"w-5 h-5\" />\r\n                Android BVN Enrollment App\r\n              </h2>\r\n              {androidAppLink ? (\r\n                <>\r\n                  <p className=\"text-sm text-gray-600 mb-3 whitespace-pre-wrap\">\r\n                    {appDescription || \"Download the official UFriends BVN Enrollment App for Android.\"}\r\n                  </p>\r\n                  <Button asChild className=\"bg-blue-600 hover:bg-blue-700 text-white\">\r\n                    <a href={androidAppLink} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                      <Download className=\"w-4 h-4 mr-2\" />\r\n                      Download App\r\n                    </a>\r\n                  </Button>\r\n                </>\r\n              ) : (\r\n                <p className=\"text-sm text-gray-500 italic\">App download link will be available soon.</p>\r\n              )}\r\n            </CardContent>\r\n          </Card>\r\n        </motion.div>\r\n\r\n        {requests.length > 0 && (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.2 }}\r\n          >\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6\">\r\n              <Card>\r\n                <CardContent className=\"p-4 text-center\">\r\n                  <div className=\"text-2xl font-bold text-primary\">{stats.total}</div>\r\n                  <div className=\"text-sm text-muted-foreground\">Total</div>\r\n                </CardContent>\r\n              </Card>\r\n              <Card>\r\n                <CardContent className=\"p-4 text-center\">\r\n                  <div className=\"text-2xl font-bold text-yellow-600\">{stats.pending}</div>\r\n                  <div className=\"text-sm text-muted-foreground\">Pending</div>\r\n                </CardContent>\r\n              </Card>\r\n              <Card>\r\n                <CardContent className=\"p-4 text-center\">\r\n                  <div className=\"text-2xl font-bold text-green-600\">{stats.approved}</div>\r\n                  <div className=\"text-sm text-muted-foreground\">Approved</div>\r\n                </CardContent>\r\n              </Card>\r\n              <Card>\r\n                <CardContent className=\"p-4 text-center\">\r\n                  <div className=\"text-2xl font-bold text-red-600\">{stats.rejected}</div>\r\n                  <div className=\"text-sm text-muted-foreground\">Rejected</div>\r\n                </CardContent>\r\n              </Card>\r\n            </div>\r\n          </motion.div>\r\n        )}\r\n\r\n        {showForm ? (\r\n          <BVNRequestForm\r\n            onSubmit={handleSubmit}\r\n            onCancel={() => {\r\n              setShowForm(false)\r\n              setResubmitData(null)\r\n            }}\r\n            initialData={resubmitData || undefined}\r\n            submitService={submitService}\r\n            isSubmitting={isSubmitting}\r\n          />\r\n        ) : selectedRequest ? (\r\n          <BVNRequestDetails\r\n            request={selectedRequest}\r\n            onResubmit={handleResubmit}\r\n            onClose={() => setSelectedRequest(null)}\r\n          />\r\n        ) : (\r\n          <motion.div\r\n            initial={{ opacity: 0, y: 20 }}\r\n            animate={{ opacity: 1, y: 0 }}\r\n            transition={{ duration: 0.5, delay: 0.3 }}\r\n          >\r\n            <Card>\r\n              <CardHeader>\r\n                <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n                  <CardTitle>Your Requests</CardTitle>\r\n                  <div className=\"flex gap-2\">\r\n                    {requests.length > 0 && (\r\n                      <Input\r\n                        placeholder=\"Search by BVN, name, or account...\"\r\n                        value={searchTerm}\r\n                        onChange={(e) => setSearchTerm(e.target.value)}\r\n                        className=\"w-full md:w-64\"\r\n                      />\r\n                    )}\r\n                    <Button\r\n                      onClick={() => setShowForm(true)}\r\n                      className=\"bg-primary hover:bg-primary/90 whitespace-nowrap\"\r\n                    >\r\n                      <Plus className=\"w-4 h-4 mr-2\" />\r\n                      New Request\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              </CardHeader>\r\n              <CardContent>\r\n                {filteredRequests.length === 0 ? (\r\n                  <div className=\"text-center py-12\">\r\n                    <Smartphone className=\"w-16 h-16 mx-auto text-muted-foreground mb-4\" />\r\n                    <h3 className=\"text-lg font-semibold mb-2\">\r\n                      {requests.length === 0 ? \"No requests yet\" : \"No requests match your search\"}\r\n                    </h3>\r\n                    <p className=\"text-muted-foreground mb-4\">\r\n                      {requests.length === 0\r\n                        ? \"You haven't submitted any BVN Android Enrollment requests yet.\"\r\n                        : \"Try adjusting your search terms.\"}\r\n                    </p>\r\n                    {requests.length === 0 && (\r\n                      <Button onClick={() => setShowForm(true)} className=\"bg-primary hover:bg-primary/90\">\r\n                        <Plus className=\"w-4 h-4 mr-2\" />\r\n                        Submit New Request\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-4\">\r\n                    {filteredRequests.map((request, index) => (\r\n                      <motion.div\r\n                        key={request.id}\r\n                        initial={{ opacity: 0, x: -20 }}\r\n                        animate={{ opacity: 1, x: 0 }}\r\n                        transition={{ duration: 0.3, delay: index * 0.05 }}\r\n                      >\r\n                        <Card className=\"hover:shadow-md transition-shadow\">\r\n                          <CardContent className=\"p-6\">\r\n                            <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-4\">\r\n                              <div className=\"flex-1 space-y-2\">\r\n                                <div className=\"flex items-center gap-3\">\r\n                                  <span className=\"font-mono text-sm text-muted-foreground\">\r\n                                    #{request.id.slice(0, 8)}\r\n                                  </span>\r\n                                  {getStatusBadge(request.status)}\r\n                                </div>\r\n                                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-2 text-sm\">\r\n                                  <div>\r\n                                    <span className=\"text-muted-foreground\">BVN:</span>{\" \"}\r\n                                    <span className=\"font-medium\">{request.bvn}</span>\r\n                                  </div>\r\n                                  <div>\r\n                                    <span className=\"text-muted-foreground\">Account:</span>{\" \"}\r\n                                    <span className=\"font-medium\">{request.kegowAccountNo}</span>\r\n                                  </div>\r\n                                  <div>\r\n                                    <span className=\"text-muted-foreground\">State:</span>{\" \"}\r\n                                    <span className=\"font-medium\">{request.stateOfResidence}</span>\r\n                                  </div>\r\n                                </div>\r\n                                <div className=\"text-xs text-muted-foreground\">\r\n                                  Submitted: {new Date(request.submittedAt).toLocaleDateString()} at{\" \"}\r\n                                  {new Date(request.submittedAt).toLocaleTimeString()}\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"flex gap-2\">\r\n                                <Button variant=\"outline\" size=\"sm\" onClick={() => setSelectedRequest(request)}>\r\n                                  <Eye className=\"w-4 h-4 mr-2\" />\r\n                                  View Details\r\n                                </Button>\r\n                                {request.status === \"Rejected\" && (\r\n                                  <Button\r\n                                    variant=\"outline\"\r\n                                    size=\"sm\"\r\n                                    className=\"text-primary bg-transparent\"\r\n                                    onClick={() => handleResubmit(request)}\r\n                                  >\r\n                                    <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                                    Resubmit\r\n                                  </Button>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          </CardContent>\r\n                        </Card>\r\n                      </motion.div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n        )}\r\n      </div>\r\n      <PinPrompt\r\n        isOpen={isPinPromptOpen}\r\n        onClose={() => setIsPinPromptOpen(false)}\r\n        onConfirm={handlePinConfirm}\r\n        isLoading={isSubmitting}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n","\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState, useMemo } from \"react\"\r\nimport { motion } from \"framer-motion\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\nimport { validateBVNForm, type FormErrors } from \"@/lib/bvn-validation\"\r\nimport type { BVNRequest } from \"@/lib/bvn-storage\"\r\nimport Link from \"next/link\"\r\nimport useDynamicPricing from \"@/hooks/useDynamicPricing\"\r\n\r\ninterface BVNRequestFormProps {\r\n  onSubmit: (data: any) => void\r\n  onCancel: () => void\r\n  initialData?: BVNRequest\r\n  submitService: (params: any) => Promise<any>\r\n  isSubmitting: boolean\r\n}\r\n\r\nexport function BVNRequestForm({ onSubmit, onCancel, initialData, submitService, isSubmitting }: BVNRequestFormProps) {\r\n  const [formData, setFormData] = useState({\r\n    agentLocation: initialData?.agentLocation || \"\",\r\n    bvn: initialData?.bvn || \"\",\r\n    kegowAccountNo: initialData?.kegowAccountNo || \"\",\r\n    accountName: initialData?.accountName || \"\",\r\n    firstName: initialData?.firstName || \"\",\r\n    lastName: initialData?.lastName || \"\",\r\n    email: initialData?.email || \"\",\r\n    phone: initialData?.phone || \"\",\r\n    stateOfResidence: initialData?.stateOfResidence || \"\",\r\n    address: initialData?.address || \"\",\r\n    dob: initialData?.dob || \"\",\r\n    lga: initialData?.lga || \"\",\r\n    city: initialData?.city || \"\",\r\n    addressState: initialData?.addressState || \"\",\r\n  })\r\n\r\n  const [errors, setErrors] = useState<FormErrors>({})\r\n  const [consentChecked, setConsentChecked] = useState(false)\r\n  const [termsAccepted, setTermsAccepted] = useState(false)\r\n\r\n  const normalizedState = useMemo(() => {\r\n    const s = String(formData.stateOfResidence || \"\").toLowerCase()\r\n    return s.replace(/[^a-z0-9]+/g, \"_\").replace(/^_+|_+$/g, \"\") || \"unknown\"\r\n  }, [formData.stateOfResidence])\r\n\r\n  const { price: servicePrice, isLoading: priceLoading, error: priceError } = useDynamicPricing(\r\n    \"bvn\",\r\n    \"android-license\",\r\n    \"enrollment\",\r\n    { state: normalizedState },\r\n  )\r\n\r\n  const handleChange = (field: string, value: string) => {\r\n    setFormData((prev) => ({ ...prev, [field]: value }))\r\n    if (errors[field]) {\r\n      setErrors((prev) => ({ ...prev, [field]: \"\" }))\r\n    }\r\n  }\r\n\r\n  const handleSubmit = (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n    const validationErrors = validateBVNForm(formData)\r\n    if (Object.keys(validationErrors).length > 0) {\r\n      setErrors(validationErrors)\r\n      return\r\n    }\r\n    if (!consentChecked || !termsAccepted) {\r\n      return\r\n    }\r\n    onSubmit(formData)\r\n  }\r\n\r\n  const formFields = [\r\n    { name: \"agentLocation\", label: \"Agent Location\", type: \"text\" },\r\n    { name: \"bvn\", label: \"BVN (11 digits)\", type: \"text\", maxLength: 11 },\r\n    { name: \"kegowAccountNo\", label: \"Kegow Account Number (10 digits)\", type: \"text\", maxLength: 10 },\r\n    { name: \"accountName\", label: \"Account Name\", type: \"text\" },\r\n    { name: \"firstName\", label: \"First Name\", type: \"text\" },\r\n    { name: \"lastName\", label: \"Last Name\", type: \"text\" },\r\n    { name: \"email\", label: \"Email Address\", type: \"email\" },\r\n    { name: \"phone\", label: \"Phone Number (11 digits, starts with 0)\", type: \"tel\", maxLength: 11 },\r\n    { name: \"stateOfResidence\", label: \"State of Residence\", type: \"text\" },\r\n    { name: \"address\", label: \"Address\", type: \"text\" },\r\n    { name: \"dob\", label: \"Date of Birth\", type: \"date\" },\r\n    { name: \"lga\", label: \"LGA\", type: \"text\" },\r\n    { name: \"city\", label: \"City\", type: \"text\" },\r\n    { name: \"addressState\", label: \"Address State\", type: \"text\" },\r\n  ]\r\n\r\n  return (\r\n    <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.5 }}>\r\n      <Card>\r\n        <CardHeader>\r\n          <CardTitle>{initialData ? \"Resubmit\" : \"New\"} BVN Android License Request</CardTitle>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n              {formFields.map((field) => (\r\n                <div key={field.name} className={field.name === \"address\" ? \"md:col-span-2\" : \"\"}>\r\n                  <Label htmlFor={field.name}>{field.label}</Label>\r\n                  <Input\r\n                    id={field.name}\r\n                    type={field.type}\r\n                    value={formData[field.name as keyof typeof formData]}\r\n                    onChange={(e) => handleChange(field.name, e.target.value)}\r\n                    maxLength={field.maxLength}\r\n                    className={errors[field.name] ? \"border-red-500\" : \"\"}\r\n                  />\r\n                  {errors[field.name] && <p className=\"text-sm text-red-600 mt-1\">{errors[field.name]}</p>}\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            <div className=\"space-y-4 border-t pt-4\">\r\n              <div className=\"flex items-center justify-between\">\r\n                <span className=\"text-sm text-gray-700\">Estimated Enrollment Price</span>\r\n                <span className=\"text-sm font-semibold text-gray-900\">\r\n                  {priceLoading ? \"Loading...\" : servicePrice != null ? `₦${servicePrice}` : \"—\"}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex items-start space-x-3\">\r\n                <Checkbox\r\n                  id=\"consent\"\r\n                  checked={consentChecked}\r\n                  onCheckedChange={(checked) => setConsentChecked(checked === true)}\r\n                  className=\"mt-1\"\r\n                />\r\n                <Label htmlFor=\"consent\" className=\"text-sm text-gray-700 cursor-pointer leading-relaxed\">\r\n                  By checking this box, you confirm the ID owner's consent for verification.\r\n                </Label>\r\n              </div>\r\n\r\n              <div className=\"flex items-start space-x-3\">\r\n                <Checkbox\r\n                  id=\"terms\"\r\n                  checked={termsAccepted}\r\n                  onCheckedChange={(checked) => setTermsAccepted(checked === true)}\r\n                  className=\"mt-1\"\r\n                />\r\n                <Label htmlFor=\"terms\" className=\"text-sm text-gray-700 cursor-pointer leading-relaxed\">\r\n                  I agree to the{\" \"}\r\n                  <Link href=\"/terms\" className=\"text-primary hover:text-primary/80 underline\">\r\n                    Terms of Service\r\n                  </Link>{\" \"}\r\n                  and{\" \"}\r\n                  <Link href=\"/privacy\" className=\"text-primary hover:text-primary/80 underline\">\r\n                    Privacy Policy\r\n                  </Link>\r\n                </Label>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex gap-3 justify-end\">\r\n              <Button type=\"button\" variant=\"outline\" onClick={onCancel}>\r\n                Cancel\r\n              </Button>\r\n              <Button\r\n                type=\"submit\"\r\n                className=\"bg-primary hover:bg-primary/90\"\r\n                disabled={!consentChecked || !termsAccepted || isSubmitting}\r\n              >\r\n                {isSubmitting ? \"Submitting...\" : \"Submit Request\"}\r\n              </Button>\r\n              {priceError && (\r\n                <p className=\"text-xs text-red-600 mt-2\">{String(priceError)}</p>\r\n              )}\r\n            </div>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </motion.div>\r\n  )\r\n}\r\n","export const validateBVN = (bvn: string): boolean => {\r\n  return /^\\d{11}$/.test(bvn)\r\n}\r\n\r\nexport const validateAccountNumber = (accountNo: string): boolean => {\r\n  return /^\\d{10}$/.test(accountNo)\r\n}\r\n\r\nexport const validatePhone = (phone: string): boolean => {\r\n  return /^0\\d{10}$/.test(phone)\r\n}\r\n\r\nexport const validateEmail = (email: string): boolean => {\r\n  return /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(email)\r\n}\r\n\r\nexport interface FormErrors {\r\n  [key: string]: string\r\n}\r\n\r\nexport const validateBVNForm = (data: any): FormErrors => {\r\n  const errors: FormErrors = {}\r\n\r\n  if (!data.agentLocation?.trim()) errors.agentLocation = \"Agent location is required\"\r\n  if (!data.bvn?.trim()) {\r\n    errors.bvn = \"BVN is required\"\r\n  } else if (!validateBVN(data.bvn)) {\r\n    errors.bvn = \"BVN must be exactly 11 digits\"\r\n  }\r\n  if (!data.kegowAccountNo?.trim()) {\r\n    errors.kegowAccountNo = \"Kegow account number is required\"\r\n  } else if (!validateAccountNumber(data.kegowAccountNo)) {\r\n    errors.kegowAccountNo = \"Account number must be exactly 10 digits\"\r\n  }\r\n  if (!data.accountName?.trim()) errors.accountName = \"Account name is required\"\r\n  if (!data.firstName?.trim()) errors.firstName = \"First name is required\"\r\n  if (!data.lastName?.trim()) errors.lastName = \"Last name is required\"\r\n  if (!data.email?.trim()) {\r\n    errors.email = \"Email is required\"\r\n  } else if (!validateEmail(data.email)) {\r\n    errors.email = \"Invalid email format\"\r\n  }\r\n  if (!data.phone?.trim()) {\r\n    errors.phone = \"Phone number is required\"\r\n  } else if (!validatePhone(data.phone)) {\r\n    errors.phone = \"Phone must be 11 digits starting with 0\"\r\n  }\r\n  if (!data.stateOfResidence?.trim()) errors.stateOfResidence = \"State of residence is required\"\r\n  if (!data.address?.trim()) errors.address = \"Address is required\"\r\n  if (!data.dob?.trim()) errors.dob = \"Date of birth is required\"\r\n  if (!data.lga?.trim()) errors.lga = \"LGA is required\"\r\n  if (!data.city?.trim()) errors.city = \"City is required\"\r\n  if (!data.addressState?.trim()) errors.addressState = \"Address state is required\"\r\n\r\n  return errors\r\n}\r\n","\"use client\"\r\n\r\nimport { motion } from \"framer-motion\"\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Badge } from \"@/components/ui/badge\"\r\nimport { Alert, AlertDescription } from \"@/components/ui/alert\"\r\nimport { RefreshCw, Download, AlertCircle, CheckCircle } from \"lucide-react\"\r\nimport type { BVNRequest } from \"@/lib/bvn-storage\"\r\n\r\ninterface BVNRequestDetailsProps {\r\n  request: BVNRequest\r\n  onResubmit: (request: BVNRequest) => void\r\n  onClose: () => void\r\n}\r\n\r\nexport function BVNRequestDetails({ request, onResubmit, onClose }: BVNRequestDetailsProps) {\r\n  const getStatusBadge = (status: BVNRequest[\"status\"]) => {\r\n    const variants = {\r\n      Pending: \"bg-yellow-100 text-yellow-800 border-yellow-300\",\r\n      Approved: \"bg-green-100 text-green-800 border-green-300\",\r\n      Rejected: \"bg-red-100 text-red-800 border-red-300\",\r\n    }\r\n    return <Badge className={variants[status]}>{status}</Badge>\r\n  }\r\n\r\n  const fields = [\r\n    { label: \"Reference ID\", value: request.id },\r\n    { label: \"Agent Location\", value: request.agentLocation },\r\n    { label: \"BVN\", value: request.bvn },\r\n    { label: \"Kegow Account Number\", value: request.kegowAccountNo },\r\n    { label: \"Account Name\", value: request.accountName },\r\n    { label: \"First Name\", value: request.firstName },\r\n    { label: \"Last Name\", value: request.lastName },\r\n    { label: \"Email\", value: request.email },\r\n    { label: \"Phone\", value: request.phone },\r\n    { label: \"State of Residence\", value: request.stateOfResidence },\r\n    { label: \"Address\", value: request.address },\r\n    { label: \"Date of Birth\", value: new Date(request.dob).toLocaleDateString() },\r\n    { label: \"LGA\", value: request.lga },\r\n    { label: \"City\", value: request.city },\r\n    { label: \"Address State\", value: request.addressState },\r\n    { label: \"Submitted At\", value: new Date(request.submittedAt).toLocaleString() },\r\n  ]\r\n\r\n  if (request.reviewedAt) {\r\n    fields.push(\r\n      { label: \"Reviewed At\", value: new Date(request.reviewedAt).toLocaleString() },\r\n      { label: \"Reviewed By\", value: request.reviewedBy || \"N/A\" },\r\n    )\r\n  }\r\n\r\n  return (\r\n    <motion.div initial={{ opacity: 0, y: 20 }} animate={{ opacity: 1, y: 0 }} transition={{ duration: 0.5 }}>\r\n      <Card>\r\n        <CardHeader>\r\n          <div className=\"flex items-center justify-between\">\r\n            <CardTitle>Request Details</CardTitle>\r\n            {getStatusBadge(request.status)}\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"space-y-6\">\r\n          {request.status === \"Rejected\" && (\r\n            <Alert className=\"border-red-300 bg-red-50\">\r\n              <AlertCircle className=\"h-4 w-4 text-red-600\" />\r\n              <AlertDescription className=\"text-red-800\">\r\n                <strong>Rejection Reason:</strong> {request.rejectionReason || \"No reason provided\"}\r\n              </AlertDescription>\r\n            </Alert>\r\n          )}\r\n\r\n          {request.status === \"Approved\" && (\r\n            <Alert className=\"border-green-300 bg-green-50\">\r\n              <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n              <AlertDescription className=\"text-green-800\">\r\n                <strong>Request Approved!</strong> Your BVN Android License enrollment has been approved.\r\n              </AlertDescription>\r\n            </Alert>\r\n          )}\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            {fields.map((field) => (\r\n              <div\r\n                key={field.label}\r\n                className={field.label === \"Address\" || field.label === \"Reference ID\" ? \"md:col-span-2\" : \"\"}\r\n              >\r\n                <div className=\"text-sm text-muted-foreground\">{field.label}</div>\r\n                <div className=\"font-medium mt-1\">{field.value}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n\r\n          <div className=\"flex gap-3 justify-end pt-4 border-t\">\r\n            {request.status === \"Rejected\" && (\r\n              <Button onClick={() => onResubmit(request)} className=\"bg-primary hover:bg-primary/90\">\r\n                <RefreshCw className=\"w-4 h-4 mr-2\" />\r\n                Resubmit Request\r\n              </Button>\r\n            )}\r\n            {request.status === \"Approved\" && (\r\n              <Button variant=\"outline\">\r\n                <Download className=\"w-4 h-4 mr-2\" />\r\n                Download Approval Slip (PDF)\r\n              </Button>\r\n            )}\r\n          </div>\r\n        </CardContent>\r\n      </Card>\r\n    </motion.div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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"}