module.exports=[602774,(e,r,s)=>{r.exports=e.x("postcss",()=>require("postcss"))},254799,(e,r,s)=>{r.exports=e.x("crypto",()=>require("crypto"))},193695,(e,r,s)=>{r.exports=e.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},29173,(e,r,s)=>{r.exports=e.x("@prisma/client",()=>require("@prisma/client"))},762294,e=>{"use strict";var r=e.i(29173);let s=e.g.prisma??new r.PrismaClient({log:["error","warn"]});e.s(["prisma",0,s])},918622,(e,r,s)=>{r.exports=e.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},556704,(e,r,s)=>{r.exports=e.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},832319,(e,r,s)=>{r.exports=e.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},324725,(e,r,s)=>{r.exports=e.x("next/dist/server/app-render/after-task-async-storage.external.js",()=>require("next/dist/server/app-render/after-task-async-storage.external.js"))},270406,(e,r,s)=>{r.exports=e.x("next/dist/compiled/@opentelemetry/api",()=>require("next/dist/compiled/@opentelemetry/api"))},224361,(e,r,s)=>{r.exports=e.x("util",()=>require("util"))},792509,(e,r,s)=>{r.exports=e.x("url",()=>require("url"))},921517,(e,r,s)=>{r.exports=e.x("http",()=>require("http"))},406461,(e,r,s)=>{r.exports=e.x("zlib",()=>require("zlib"))},524836,(e,r,s)=>{r.exports=e.x("https",()=>require("https"))},427699,(e,r,s)=>{r.exports=e.x("events",()=>require("events"))},688947,(e,r,s)=>{r.exports=e.x("stream",()=>require("stream"))},504446,(e,r,s)=>{r.exports=e.x("net",()=>require("net"))},755004,(e,r,s)=>{r.exports=e.x("tls",()=>require("tls"))},449719,(e,r,s)=>{r.exports=e.x("assert",()=>require("assert"))},145706,(e,r,s)=>{r.exports=e.x("querystring",()=>require("querystring"))},500874,(e,r,s)=>{r.exports=e.x("buffer",()=>require("buffer"))},666680,(e,r,s)=>{r.exports=e.x("node:crypto",()=>require("node:crypto"))},363890,(e,r,s)=>{r.exports=e.x("stream/web",()=>require("stream/web"))},37702,(e,r,s)=>{r.exports=e.x("worker_threads",()=>require("worker_threads"))},60438,(e,r,s)=>{r.exports=e.x("perf_hooks",()=>require("perf_hooks"))},178249,(e,r,s)=>{r.exports=e.x("util/types",()=>require("util/types"))},81111,(e,r,s)=>{r.exports=e.x("node:stream",()=>require("node:stream"))},812057,(e,r,s)=>{r.exports=e.x("node:util",()=>require("node:util"))},687769,(e,r,s)=>{r.exports=e.x("node:events",()=>require("node:events"))},154993,(e,r,s)=>{r.exports=e.x("diagnostics_channel",()=>require("diagnostics_channel"))},925328,(e,r,s)=>{r.exports=e.x("http2",()=>require("http2"))},99348,(e,r,s)=>{r.exports=e.x("string_decoder",()=>require("string_decoder"))},410430,(e,r,s)=>{r.exports=e.x("async_hooks",()=>require("async_hooks"))},611913,(e,r,s)=>{r.exports=e.x("console",()=>require("console"))},67675,e=>{"use strict";var r=e.i(261264),s=e.i(35158);let t=process.env.ARCJET_KEY?(0,r.default)({key:process.env.ARCJET_KEY,rules:[(0,s.shield)({mode:"LIVE"}),(0,s.detectBot)({mode:"LIVE",allow:["CATEGORY:SEARCH_ENGINE","CATEGORY:MONITOR","CATEGORY:PREVIEW"]}),(0,s.fixedWindow)({mode:"LIVE",window:"60s",max:100})]}):null,i=process.env.ARCJET_KEY?(0,r.default)({key:process.env.ARCJET_KEY,rules:[(0,s.shield)({mode:"LIVE"}),(0,s.detectBot)({mode:"LIVE",allow:["CATEGORY:SEARCH_ENGINE","CATEGORY:MONITOR","CATEGORY:PREVIEW"]}),(0,s.fixedWindow)({mode:"LIVE",window:"60s",max:100}),(0,s.validateEmail)({mode:"LIVE",deny:["DISPOSABLE","INVALID","NO_MX_RECORDS"]})]}):null;async function o(e,r){if(!t)return{allowed:!0};try{let s=await (r?.email&&i?i.protect(e,{email:r.email}):t.protect(e));if(s?.isDenied?.())return{allowed:!1};return{allowed:!0}}catch{return{allowed:!0}}}e.s(["protect",()=>o])},575096,e=>{e.v({name:"openid-client",version:"5.7.1",description:"OpenID Connect Relying Party (RP, Client) implementation for Node.js runtime, supports passportjs",keywords:["auth","authentication","basic","certified","client","connect","dynamic","electron","hybrid","identity","implicit","oauth","oauth2","oidc","openid","passport","relying party","strategy"],homepage:"https://github.com/panva/openid-client",repository:"panva/openid-client",funding:{url:"https://github.com/sponsors/panva"},license:"MIT",author:"Filip Skokan <panva.ip@gmail.com>",exports:{types:"./types/index.d.ts",import:"./lib/index.mjs",require:"./lib/index.js"},main:"./lib/index.js",types:"./types/index.d.ts",files:["lib","types/index.d.ts"],scripts:{format:"npx prettier --loglevel silent --write ./lib ./test ./certification ./types",test:"mocha test/**/*.test.js"},dependencies:{jose:"^4.15.9","lru-cache":"^6.0.0","object-hash":"^2.2.0","oidc-token-hash":"^5.0.3"},devDependencies:{"@types/node":"^16.18.106","@types/passport":"^1.0.16",base64url:"^3.0.1",chai:"^4.5.0",mocha:"^10.7.3",nock:"^13.5.5",prettier:"^2.8.8","readable-mock-req":"^0.2.2",sinon:"^9.2.4",timekeeper:"^2.3.1"},"standard-version":{scripts:{postchangelog:"sed -i '' -e 's/### \\[/## [/g' CHANGELOG.md"},types:[{type:"feat",section:"Features"},{type:"fix",section:"Fixes"},{type:"chore",hidden:!0},{type:"docs",hidden:!0},{type:"style",hidden:!0},{type:"refactor",section:"Refactor",hidden:!1},{type:"perf",section:"Performance",hidden:!1},{type:"test",hidden:!0}]}})},248331,e=>{e.v({name:"joi",description:"Object schema validation",version:"18.0.1",repository:{url:"git://github.com/hapijs/joi",type:"git"},engines:{node:">= 20"},main:"lib/index.js",types:"lib/index.d.ts",browser:"dist/joi-browser.min.js",files:["lib/**/*","dist/*"],keywords:["schema","validation"],dependencies:{"@hapi/address":"^5.1.1","@hapi/formula":"^3.0.2","@hapi/hoek":"^11.0.7","@hapi/pinpoint":"^2.0.1","@hapi/tlds":"^1.1.1","@hapi/topo":"^6.0.2","@standard-schema/spec":"^1.0.0"},devDependencies:{"@hapi/bourne":"^3.0.0","@hapi/code":"^9.0.3","@hapi/eslint-plugin":"^7.0.0","@hapi/joi-legacy-test":"npm:@hapi/joi@15.x.x","@hapi/lab":"^26.0.0","@types/node":"^20.17.47",typescript:"^5.8.3"},scripts:{prepublishOnly:"cd browser && npm install && npm run build",test:"lab -t 100 -a @hapi/code -L -Y","test-cov-html":"lab -r html -o coverage.html -a @hapi/code"},license:"BSD-3-Clause"})},411443,e=>{"use strict";var r=e.i(786687),s=e.i(757660),t=e.i(368105);async function i(e){let i=e.headers?.get?.("authorization")||"",[,o]=i.split(" ");if(i.toLowerCase().startsWith("bearer ")&&o)try{let e=await (0,r.verifyAccessToken)(o);return{id:e.sub,email:e.email,role:e.role}}catch{}try{let e=await (0,s.getServerSession)(t.authOptions);if(e?.user?.id)return{id:e.user.id,email:e.user.email,role:e.user.role}}catch{}return null}e.s(["getAuthUser",()=>i])},909438,e=>{"use strict";var r=e.i(89171),s=e.i(762294),t=e.i(411443);async function i(e,o={}){let a=await (0,t.getAuthUser)(e);if(!a?.id)return{ok:!1,response:r.NextResponse.json({error:"Unauthorized"},{status:401})};let n=await s.prisma.user.findUnique({where:{id:a.id},select:{id:!0,email:!0,role:!0,status:!0}});return n?"suspended"===n.status?{ok:!1,response:r.NextResponse.json({error:"Account suspended"},{status:403})}:o.roles&&n.role&&!o.roles.includes(n.role)?{ok:!1,response:r.NextResponse.json({error:"Forbidden"},{status:403})}:{ok:!0,user:{id:n.id,email:n.email,role:n.role}}:{ok:!1,response:r.NextResponse.json({error:"Unauthorized"},{status:401})}}e.s(["requireAuth",()=>i])},506363,e=>{"use strict";var r=e.i(762294);async function s(e){try{let s=await r.prisma.serviceProvider.findMany({where:{category:e},include:{apiKeys:{select:{id:!0,keyName:!0,keyValue:!0}}},orderBy:[{isActive:"desc"},{priority:"desc"},{name:"asc"}]}),t=e=>({id:e.id,name:e.name,category:e.category,isActive:e.isActive,priority:e.priority,apiBaseUrl:e.apiBaseUrl,configJson:e.configJson,apiKeys:e.apiKeys}),i=s.find(e=>e.isActive)||null,o=s.filter(e=>!e.isActive&&e.priority>0);return{provider:i?t(i):null,fallbackProviders:o.map(t),hasActiveProvider:!!i}}catch(r){return console.error(`Failed to get active provider for category ${e}:`,r),{provider:null,fallbackProviders:[],hasActiveProvider:!1}}}async function t(e){try{return!!await r.prisma.serviceProvider.findFirst({where:{category:e,isActive:!0}})}catch(r){return console.error(`Failed to check provider availability for category ${e}:`,r),!1}}e.s(["getActiveProvider",()=>s,"isProviderAvailable",()=>t])},546317,e=>{"use strict";var r=e.i(762294),s=e.i(89171);async function t(e){let t=await r.prisma.user.findUnique({where:{id:e},select:{isKycVerified:!0}});return t?.isKycVerified?null:await r.prisma.kycRequest.findFirst({where:{userId:e,status:"APPROVED"}})?(await r.prisma.user.update({where:{id:e},data:{isKycVerified:!0}}),null):s.NextResponse.json({error:"KYC Required",message:"Please complete your KYC verification to access this service.",code:"KYC_REQUIRED"},{status:403})}e.s(["ensureKyc",()=>t])},363190,554271,e=>{"use strict";async function r(e,r){return new Promise((s,t)=>{let i=setTimeout(()=>t(Error(`Request timed out after ${r}ms`)),r);e.then(e=>{clearTimeout(i),s(e)}).catch(e=>{clearTimeout(i),t(e)})})}function s(e){return new Promise(r=>setTimeout(r,e))}async function t(e,i={},o={}){let a,{retries:n=3,baseDelayMs:c=300,maxDelayMs:d=3e3,timeoutMs:p=8e3,retryOnStatuses:u=[408,429,500,502,503,504]}=o,l=0;for(;l<=n;)try{let t=await r(fetch(e,i),p),o=null;try{o=await t.json()}catch{o=null}if(!t.ok&&u.includes(t.status)&&l<n){let e=Math.min(d,c*Math.pow(2,l));await s(e),l++;continue}return{res:t,data:o}}catch(e){if(a=e,l<n){let e=Math.min(d,c*Math.pow(2,l));await s(e),l++;continue}throw e}throw a}function i(e,r){let s={"Content-Type":"application/json",...r||{}};return e&&(s.Authorization=`Bearer ${e}`,s["x-api-key"]=e),s}async function o(e,r){let s=r?.apiBaseUrl||process.env.PORTEDSIM_BASE_URL||"",o=(r?.apiKeys||[]).find(e=>"apikey"===e.keyName.toLowerCase())?.keyValue||process.env.PORTEDSIM_API_KEY||"",a=r?.configJson?.endpoints?.vtu||"/airtime/vtu",n=`${s}${a}`;if(!s||!o)return{ok:!1,code:"MISSING_CONFIG",message:"Missing provider base URL or API key"};if(!e.params?.phone||!e.params?.network)return{ok:!1,code:"BAD_INPUT",message:"Missing phone or network"};try{let r={phone:e.params.phone,network:e.params.network,amount:e.amount,subServiceId:e.subServiceId},{res:s,data:a}=await t(n,{method:"POST",headers:i(o),body:JSON.stringify(r)},{retries:3,baseDelayMs:400,timeoutMs:1e4});if(!s.ok){let e=a?.message||a?.error||`Provider error (${s.status})`,r=a?.code||"PROVIDER_ERROR";return{ok:!1,code:r,message:e}}let c=a?.reference||a?.providerRef||a?.transactionId;if(!c)return{ok:!1,code:"NO_REFERENCE",message:"Missing provider reference"};return{ok:!0,providerReference:c,message:a?.message||"Airtime delivered"}}catch(e){return{ok:!1,code:"NETWORK_ERROR",message:String(e)}}}e.s(["buildAuthHeaders",()=>i,"fetchJsonWithRetry",()=>t],554271),e.s(["sendAirtimeViaPorted",()=>o],363190)},174717,e=>{"use strict";var r=e.i(554271);async function s(e,s){let t=s?.apiBaseUrl||process.env.PORTEDSIM_BASE_URL||"",i=(s?.apiKeys||[]).find(e=>"apikey"===e.keyName.toLowerCase())?.keyValue||process.env.PORTEDSIM_API_KEY||"",o=s?.configJson?.endpoints?.bundle||"/data/bundle",a=`${t}${o}`;if(!t||!i)return{ok:!1,code:"MISSING_CONFIG",message:"Missing provider base URL or API key"};if(!e.params?.phone||!e.params?.network||!e.params?.planCode)return{ok:!1,code:"BAD_INPUT",message:"Missing phone, network, or planCode"};try{let s={phone:e.params.phone,network:e.params.network,planCode:e.params.planCode,amount:e.amount,subServiceId:e.subServiceId},{res:t,data:o}=await (0,r.fetchJsonWithRetry)(a,{method:"POST",headers:(0,r.buildAuthHeaders)(i),body:JSON.stringify(s)},{retries:3,baseDelayMs:400,timeoutMs:1e4});if(!t.ok){let e=o?.message||o?.error||`Provider error (${t.status})`,r=o?.code||"PROVIDER_ERROR";return{ok:!1,code:r,message:e}}let n=o?.reference||o?.providerRef||o?.transactionId;if(!n)return{ok:!1,code:"NO_REFERENCE",message:"Missing provider reference"};return{ok:!0,providerReference:n,message:o?.message||"Data bundle activated"}}catch(e){return{ok:!1,code:"NETWORK_ERROR",message:String(e)}}}e.s(["sendDataBundleViaPorted",()=>s])},74567,e=>{"use strict";var r=e.i(554271);async function s(e,s){let t=s?.apiBaseUrl||process.env.SUBANDGAIN_BASE_URL||"https://subandgain.com",i=(s?.apiKeys||[]).find(e=>"apikey"===e.keyName.toLowerCase())?.keyValue||process.env.SUBANDGAIN_API_KEY||"",o=s?.configJson?.endpoints?.purchase||"/electricity/purchase",a=`${t}${o}`;if(!t||!i)return{ok:!1,code:"MISSING_CONFIG",message:"Missing provider base URL or API key"};if(!e.params?.meterNumber||!e.params?.serviceProvider)return{ok:!1,code:"BAD_INPUT",message:"Missing meter number or service provider"};try{let s={meterNumber:e.params.meterNumber,disco:e.params.serviceProvider,amount:e.amount,customerName:e.params.customerName,customerAddress:e.params.customerAddress,subServiceId:e.subServiceId},{res:t,data:o}=await (0,r.fetchJsonWithRetry)(a,{method:"POST",headers:(0,r.buildAuthHeaders)(i),body:JSON.stringify(s)},{retries:3,baseDelayMs:400,timeoutMs:1e4});if(!t.ok){let e=o?.error||"PROVIDER_ERROR",r=o?.message||o?.error||`Provider error (${t.status})`;switch(e){case"ERR200":return{ok:!1,code:"INVALID_USERNAME",message:"Username field is empty"};case"ERR201":return{ok:!1,code:"INVALID_CREDENTIALS",message:"Invalid username or API key"};case"ERR203":return{ok:!1,code:"INSUFFICIENT_BALANCE",message:"Insufficient balance to complete transaction"};case"ERR206":return{ok:!1,code:"TRANSACTION_FAILED",message:"Order could not be processed. Please try again later"};case"ERR208":return{ok:!1,code:"INVALID_METER",message:"Invalid meter number provided"};case"ERR209":return{ok:!1,code:"INVALID_DISCO",message:"Invalid electricity provider specified"};case"ERR210":return{ok:!1,code:"INVALID_AMOUNT",message:"Invalid amount specified"};default:return{ok:!1,code:e||o?.code||"PROVIDER_ERROR",message:r}}}let n=o?.reference||o?.providerRef||o?.transactionId,c=o?.token||o?.tokenUnits||o?.unitsToken,d=o?.units||(o?.energyUnits?`${o.energyUnits} kWh`:void 0);if(!n)return{ok:!1,code:"NO_REFERENCE",message:"Missing provider reference"};return{ok:!0,providerReference:n,token:c,units:d,message:o?.message||"Electricity purchase successful"}}catch(e){return{ok:!1,code:"NETWORK_ERROR",message:String(e)}}}e.s(["payBillViaSubAndGain",()=>s])},848598,e=>{"use strict";var r=e.i(554271);async function s(e,s){let t,i=s?.apiBaseUrl||process.env.SUBANDGAIN_BASE_URL||"https://subandgain.com",o=(s?.apiKeys||[]).find(e=>"apikey"===e.keyName.toLowerCase())?.keyValue||process.env.SUBANDGAIN_API_KEY||"",a=(s?.apiKeys||[]).find(e=>"username"===e.keyName.toLowerCase())?.keyValue||process.env.SUBANDGAIN_USERNAME||"";if(!i||!o||!a)return{ok:!1,code:"MISSING_CONFIG",message:"Missing provider base URL, username, or API key"};let n=String(e.params?.phone||e.params?.phoneNumber||"").trim(),c=String(e.params?.network||""),d=(t=c.trim().toUpperCase())?"ETISALAT"===t||"9 MOBILE"===t||"9-MOBILE"===t?"9MOBILE":"AIRTEL NG"===t?"AIRTEL":t:t;if(!n||!d||!(e.amount>0))return{ok:!1,code:"BAD_INPUT",message:"Missing phone, network, or amount"};if(!["MTN","GLO","AIRTEL","9MOBILE"].includes(d))return{ok:!1,code:"INVALID_NETWORK",message:`Unsupported network: ${c}`};try{let s=Math.round(Number(e.amount)),t=`${i}/api/airtime.php?username=${encodeURIComponent(a)}&apiKey=${encodeURIComponent(o)}&network=${encodeURIComponent(d)}&amount=${encodeURIComponent(String(s))}&phoneNumber=${encodeURIComponent(n)}`,{res:c,data:p}=await (0,r.fetchJsonWithRetry)(t,{method:"GET"},{retries:3,baseDelayMs:400,timeoutMs:1e4}),u=p?.error,l="string"==typeof u?u.trim().toLowerCase():u,m=String(p?.api_response||p?.message||"").toLowerCase();if(!c.ok||null!=u&&0!==l&&"0"!==l&&""!==l&&"ok"!==l&&"success"!==l&&!/success/.test(m)){let e=p?.error||"PROVIDER_ERROR",r=p?.description||p?.message||p?.api_response||`Provider error (${c.status})`;switch(e){case"ERR200":return{ok:!1,code:"INVALID_USERNAME",message:"Username field is empty"};case"ERR201":return{ok:!1,code:"INVALID_CREDENTIALS",message:"Invalid username or API key"};case"ERR202":return{ok:!1,code:"INVALID_PHONE",message:"Invalid recipient phone number"};case"ERR203":return{ok:!1,code:"INSUFFICIENT_BALANCE",message:"Insufficient balance to complete transaction"};case"ERR204":return{ok:!1,code:"INVALID_NETWORK",message:"Invalid network provider specified"};case"ERR206":return{ok:!1,code:"TRANSACTION_FAILED",message:"Order could not be processed. Please try again later"};default:return{ok:!1,code:String(e),message:r}}}let R=p?.trans_id||p?.reference||p?.transactionId||p?.transaction_id;if(!R)return{ok:!1,code:"NO_REFERENCE",message:"Missing provider reference"};return{ok:!0,providerReference:R,message:p?.api_response||p?.message||"Airtime delivered"}}catch(e){return{ok:!1,code:"NETWORK_ERROR",message:String(e)}}}e.s(["sendAirtimeViaSubAndGain",()=>s])},943227,e=>{"use strict";var r=e.i(554271);async function s(e,s){let t,i=s?.apiBaseUrl||process.env.SUBANDGAIN_BASE_URL||"https://subandgain.com",o=(s?.apiKeys||[]).find(e=>"apikey"===e.keyName.toLowerCase())?.keyValue||process.env.SUBANDGAIN_API_KEY||"",a=(s?.apiKeys||[]).find(e=>"username"===e.keyName.toLowerCase())?.keyValue||process.env.SUBANDGAIN_USERNAME||"";if(!i||!o||!a)return{ok:!1,code:"MISSING_CONFIG",message:"Missing provider base URL, username, or API key"};let n=String(e.params?.phone||e.params?.phoneNumber||"").trim(),c=String(e.params?.network||""),d=(t=c.trim().toUpperCase())?"ETISALAT"===t||"9 MOBILE"===t||"9-MOBILE"===t?"9MOBILE":"AIRTEL NG"===t?"AIRTEL":t:t,p=String(e.params?.planCode||e.params?.plan||e.params?.dataPlan||"").trim();if(!n||!d||!p)return{ok:!1,code:"BAD_INPUT",message:"Missing phone, network, or planCode"};if(!["MTN","GLO","AIRTEL","9MOBILE"].includes(d))return{ok:!1,code:"INVALID_NETWORK",message:`Unsupported network: ${c}`};try{let e=`${i}/api/data.php?username=${encodeURIComponent(a)}&apiKey=${encodeURIComponent(o)}&network=${encodeURIComponent(d)}&dataPlan=${encodeURIComponent(p)}&phoneNumber=${encodeURIComponent(n)}`,{res:s,data:t}=await (0,r.fetchJsonWithRetry)(e,{method:"GET"},{retries:3,baseDelayMs:400,timeoutMs:1e4});if(!s.ok||t?.error){let e=t?.error||"PROVIDER_ERROR",r=t?.description||t?.message||t?.error||`Provider error (${s.status})`;switch(e){case"ERR200":return{ok:!1,code:"INVALID_USERNAME",message:"Username field is empty"};case"ERR201":return{ok:!1,code:"INVALID_CREDENTIALS",message:"Invalid username or API key"};case"ERR202":return{ok:!1,code:"INVALID_PHONE",message:"Invalid recipient phone number"};case"ERR203":return{ok:!1,code:"INSUFFICIENT_BALANCE",message:"Insufficient balance to complete transaction"};case"ERR204":return{ok:!1,code:"INVALID_NETWORK",message:"Invalid network provider specified"};case"ERR206":return{ok:!1,code:"TRANSACTION_FAILED",message:"Order could not be processed. Please try again later"};case"ERR207":return{ok:!1,code:"INVALID_PLAN",message:"Invalid data plan selected"};default:return{ok:!1,code:e,message:r}}}let c=t?.trans_id||t?.reference||t?.transactionId;if(!c)return{ok:!1,code:"NO_REFERENCE",message:"Missing provider reference"};return{ok:!0,providerReference:c,message:t?.api_response||t?.message||"Data bundle activated"}}catch(e){return{ok:!1,code:"NETWORK_ERROR",message:String(e)}}}e.s(["sendDataBundleViaSubAndGain",()=>s])},796255,447150,e=>{"use strict";var r=e.i(554271);async function s(e,s){let t=s?.apiBaseUrl||process.env.SUBANDGAIN_BASE_URL||"https://subandgain.com",i=(s?.apiKeys||[]).find(e=>"apikey"===e.keyName.toLowerCase())?.keyValue||process.env.SUBANDGAIN_API_KEY||"",o=(s?.apiKeys||[]).find(e=>"username"===e.keyName.toLowerCase())?.keyValue||process.env.SUBANDGAIN_USERNAME||"";if(!t||!i||!o)return{ok:!1,code:"MISSING_CONFIG",message:"Missing provider base URL, username, or API key"};if(!e.params?.eduType)return{ok:!1,code:"BAD_INPUT",message:"Missing eduType"};try{let s=String(e.params.eduType).toUpperCase(),a=`${t}/api/education.php?username=${encodeURIComponent(o)}&apiKey=${encodeURIComponent(i)}&eduType=${encodeURIComponent(s)}`,{res:n,data:c}=await (0,r.fetchJsonWithRetry)(a,{method:"GET"},{retries:3,baseDelayMs:400,timeoutMs:1e4});if(!n.ok||c?.error){let e=c?.error||"PROVIDER_ERROR",r=c?.description||c?.message||c?.error||`Provider error (${n.status})`;switch(e){case"ERR200":return{ok:!1,code:"INVALID_USERNAME",message:"Username field is empty"};case"ERR201":return{ok:!1,code:"INVALID_CREDENTIALS",message:"Invalid username or API key"};case"ERR203":return{ok:!1,code:"INSUFFICIENT_BALANCE",message:"Insufficient balance to complete transaction"};case"ERR206":return{ok:!1,code:"TRANSACTION_FAILED",message:"Order could not be processed. Please try again later"};case"ERR207":return{ok:!1,code:"INVALID_EDU_TYPE",message:"Invalid education type specified"};default:return{ok:!1,code:e,message:r}}}let d=c?.trans_id||c?.reference||c?.transactionId,p=c?.token;if(!d)return{ok:!1,code:"NO_REFERENCE",message:"Missing provider reference"};return{ok:!0,providerReference:d,token:p,message:c?.message||"Education token purchase successful"}}catch(e){return{ok:!1,code:"NETWORK_ERROR",message:String(e)}}}function t(e,r){let s=e.toLowerCase(),t=r?.toLowerCase();return"bvn"===s?!t||!["printout","retrieval"].includes(t):"nin"===s?!t||!["slip","printout","advanced"].includes(t):"cac"===s?!t||!["status-report","certification","status","info"].includes(t):"pos-requests"===s||"software-development"===s}e.s(["payEducationViaSubAndGain",()=>s],796255),e.s(["isManualService",()=>t],447150)},358338,e=>{e.v(e=>Promise.resolve().then(()=>e(786687)))},38547,e=>{e.v(r=>Promise.all(["server/chunks/lib_prembly_ts_db79be86._.js"].map(r=>e.l(r))).then(()=>r(544356)))},379546,e=>{e.v(e=>Promise.resolve().then(()=>e(449632)))},98237,e=>{e.v(r=>Promise.all(["server/chunks/[root-of-the-server]__5fc60764._.js","server/chunks/[root-of-the-server]__48eb5ec7._.js"].map(r=>e.l(r))).then(()=>r(22689)))}];

//# sourceMappingURL=%5Broot-of-the-server%5D__3f33251c._.js.map