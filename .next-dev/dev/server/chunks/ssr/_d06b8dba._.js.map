{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/ufriends%20version%201/components/ui/checkbox.tsx"],"sourcesContent":["\"use client\"\n\nimport type * as React from \"react\"\nimport * as CheckboxPrimitive from \"@radix-ui/react-checkbox\"\nimport { Check } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Checkbox({ className, ...props }: React.ComponentProps<typeof CheckboxPrimitive.Root>) {\n  return (\n    <CheckboxPrimitive.Root\n      data-slot=\"checkbox\"\n      className={cn(\n        \"peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    >\n      <CheckboxPrimitive.Indicator\n        data-slot=\"checkbox-indicator\"\n        className=\"flex items-center justify-center text-current transition-none\"\n      >\n        <Check className=\"size-3.5\" />\n      </CheckboxPrimitive.Indicator>\n    </CheckboxPrimitive.Root>\n  )\n}\n\nexport { Checkbox }\n"],"names":[],"mappings":";;;;;AAGA;AACA;AAEA;AANA;;;;;AAQA,SAAS,SAAS,EAAE,SAAS,EAAE,GAAG,OAA4D;IAC5F,qBACE,8OAAC,4KAAsB;QACrB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,+eACA;QAED,GAAG,KAAK;kBAET,cAAA,8OAAC,iLAA2B;YAC1B,aAAU;YACV,WAAU;sBAEV,cAAA,8OAAC,6MAAK;gBAAC,WAAU;;;;;;;;;;;;;;;;AAIzB","debugId":null}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/ufriends%20version%201/components/PinPrompt.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport { useState } from \"react\"\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogFooter,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/components/ui/dialog\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { toast } from \"sonner\"\r\n\r\ninterface PinPromptProps {\r\n    isOpen: boolean\r\n    onClose: () => void\r\n    onConfirm: (pin: string) => void\r\n    isLoading?: boolean\r\n}\r\n\r\nexport function PinPrompt({ isOpen, onClose, onConfirm, isLoading }: PinPromptProps) {\r\n    const [pin, setPin] = useState(\"\")\r\n\r\n    const handleConfirm = () => {\r\n        if (pin.length !== 4) {\r\n            toast.error(\"Please enter a 4-digit PIN\")\r\n            return\r\n        }\r\n        onConfirm(pin)\r\n        setPin(\"\")\r\n    }\r\n\r\n    return (\r\n        <Dialog open={isOpen} onOpenChange={(open) => !open && onClose()}>\r\n            <DialogContent className=\"sm:max-w-md\">\r\n                <DialogHeader>\r\n                    <DialogTitle>Enter Transaction PIN</DialogTitle>\r\n                    <DialogDescription>\r\n                        Please enter your 4-digit transaction PIN to authorize this request.\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n                <div className=\"space-y-4 py-4\">\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"pin\" className=\"text-center block\">PIN</Label>\r\n                        <Input\r\n                            id=\"pin\"\r\n                            type=\"password\"\r\n                            inputMode=\"numeric\"\r\n                            maxLength={4}\r\n                            value={pin}\r\n                            onChange={(e) => setPin(e.target.value.replace(/\\D/g, \"\"))}\r\n                            className=\"text-center text-2xl tracking-[1em]\"\r\n                            placeholder=\"••••\"\r\n                            autoFocus\r\n                            onKeyDown={(e) => {\r\n                                if (e.key === \"Enter\") handleConfirm()\r\n                            }}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <DialogFooter>\r\n                    <Button variant=\"outline\" onClick={onClose} disabled={isLoading}>\r\n                        Cancel\r\n                    </Button>\r\n                    <Button onClick={handleConfirm} disabled={isLoading || pin.length !== 4} className=\"bg-[#3457D5]\">\r\n                        {isLoading ? \"Verifying...\" : \"Confirm PIN\"}\r\n                    </Button>\r\n                </DialogFooter>\r\n            </DialogContent>\r\n        </Dialog>\r\n    )\r\n}\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAQA;AACA;AACA;AACA;AAdA;;;;;;;;AAuBO,SAAS,UAAU,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS,EAAkB;IAC/E,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,iNAAQ,EAAC;IAE/B,MAAM,gBAAgB;QAClB,IAAI,IAAI,MAAM,KAAK,GAAG;YAClB,iJAAK,CAAC,KAAK,CAAC;YACZ;QACJ;QACA,UAAU;QACV,OAAO;IACX;IAEA,qBACI,8OAAC,qIAAM;QAAC,MAAM;QAAQ,cAAc,CAAC,OAAS,CAAC,QAAQ;kBACnD,cAAA,8OAAC,4IAAa;YAAC,WAAU;;8BACrB,8OAAC,2IAAY;;sCACT,8OAAC,0IAAW;sCAAC;;;;;;sCACb,8OAAC,gJAAiB;sCAAC;;;;;;;;;;;;8BAIvB,8OAAC;oBAAI,WAAU;8BACX,cAAA,8OAAC;wBAAI,WAAU;;0CACX,8OAAC,mIAAK;gCAAC,SAAQ;gCAAM,WAAU;0CAAoB;;;;;;0CACnD,8OAAC,mIAAK;gCACF,IAAG;gCACH,MAAK;gCACL,WAAU;gCACV,WAAW;gCACX,OAAO;gCACP,UAAU,CAAC,IAAM,OAAO,EAAE,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO;gCACtD,WAAU;gCACV,aAAY;gCACZ,SAAS;gCACT,WAAW,CAAC;oCACR,IAAI,EAAE,GAAG,KAAK,SAAS;gCAC3B;;;;;;;;;;;;;;;;;8BAIZ,8OAAC,2IAAY;;sCACT,8OAAC,qIAAM;4BAAC,SAAQ;4BAAU,SAAS;4BAAS,UAAU;sCAAW;;;;;;sCAGjE,8OAAC,qIAAM;4BAAC,SAAS;4BAAe,UAAU,aAAa,IAAI,MAAM,KAAK;4BAAG,WAAU;sCAC9E,YAAY,iBAAiB;;;;;;;;;;;;;;;;;;;;;;;AAMtD","debugId":null}},
    {"offset": {"line": 192, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/ufriends%20version%201/lib/service-utils.ts"],"sourcesContent":["export function isManualService(serviceId: string, subServiceId?: string): boolean {\r\n    const sId = serviceId.toLowerCase()\r\n    const subId = subServiceId?.toLowerCase()\r\n\r\n    // BVN: printout, advanced, retrieval_phone are automated\r\n    if (sId === \"bvn\") {\r\n        const auto = [\"printout\", \"retrieval\"]\r\n        return !subId || !auto.includes(subId)\r\n    }\r\n\r\n    // NIN: slip, printout, advanced are automated\r\n    if (sId === \"nin\") {\r\n        const auto = [\"slip\", \"printout\", \"advanced\"]\r\n        return !subId || !auto.includes(subId)\r\n    }\r\n\r\n    // CAC: status-report, certification, info, status are automated\r\n    if (sId === \"cac\") {\r\n        const auto = [\"status-report\", \"certification\", \"status\", \"info\"]\r\n        return !subId || !auto.includes(subId)\r\n    }\r\n\r\n    // POS and Software: Always manual\r\n    if (sId === \"pos-requests\" || sId === \"software-development\") return true\r\n\r\n    return false\r\n}\r\n\r\nexport function handleServiceError(resp: any, toast: any, title = \"Error\") {\r\n    const message = resp.error || resp.message || \"An unexpected error occurred\"\r\n    toast({\r\n        title,\r\n        description: message,\r\n        variant: \"destructive\",\r\n    })\r\n}\r\n"],"names":[],"mappings":";;;;;;AAAO,SAAS,gBAAgB,SAAiB,EAAE,YAAqB;IACpE,MAAM,MAAM,UAAU,WAAW;IACjC,MAAM,QAAQ,cAAc;IAE5B,yDAAyD;IACzD,IAAI,QAAQ,OAAO;QACf,MAAM,OAAO;YAAC;YAAY;SAAY;QACtC,OAAO,CAAC,SAAS,CAAC,KAAK,QAAQ,CAAC;IACpC;IAEA,8CAA8C;IAC9C,IAAI,QAAQ,OAAO;QACf,MAAM,OAAO;YAAC;YAAQ;YAAY;SAAW;QAC7C,OAAO,CAAC,SAAS,CAAC,KAAK,QAAQ,CAAC;IACpC;IAEA,gEAAgE;IAChE,IAAI,QAAQ,OAAO;QACf,MAAM,OAAO;YAAC;YAAiB;YAAiB;YAAU;SAAO;QACjE,OAAO,CAAC,SAAS,CAAC,KAAK,QAAQ,CAAC;IACpC;IAEA,kCAAkC;IAClC,IAAI,QAAQ,kBAAkB,QAAQ,wBAAwB,OAAO;IAErE,OAAO;AACX;AAEO,SAAS,mBAAmB,IAAS,EAAE,KAAU,EAAE,QAAQ,OAAO;IACrE,MAAM,UAAU,KAAK,KAAK,IAAI,KAAK,OAAO,IAAI;IAC9C,MAAM;QACF;QACA,aAAa;QACb,SAAS;IACb;AACJ","debugId":null}},
    {"offset": {"line": 244, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/ufriends%20version%201/lib/service-pricing.ts"],"sourcesContent":["export interface ServicePrice {\n  buy: number\n  sell: number\n  serviceType: string\n  lastUpdated: string\n}\n\nexport interface ServicePrices {\n  [key: string]: ServicePrice\n}\n\nconst STORAGE_KEY = \"ufriends_service_prices\"\n\nexport const defaultPrices: ServicePrices = {\n  \"BVN Retrieval\": { buy: 1200, sell: 1500, serviceType: \"BVN Retrieval\", lastUpdated: new Date().toISOString() },\n  \"BVN Central Risk\": { buy: 800, sell: 1000, serviceType: \"BVN Central Risk\", lastUpdated: new Date().toISOString() },\n  \"BVN Printout\": { buy: 150, sell: 180, serviceType: \"BVN Printout\", lastUpdated: new Date().toISOString() },\n  \"NIN Slip Standard\": { buy: 150, sell: 180, serviceType: \"NIN Slip Standard\", lastUpdated: new Date().toISOString() },\n  \"NIN Slip Premium\": { buy: 150, sell: 180, serviceType: \"NIN Slip Premium\", lastUpdated: new Date().toISOString() },\n  \"NIN Slip Regular\": { buy: 120, sell: 150, serviceType: \"NIN Slip Regular\", lastUpdated: new Date().toISOString() },\n  \"NIN Modification\": { buy: 2000, sell: 2500, serviceType: \"NIN Modification\", lastUpdated: new Date().toISOString() },\n  \"NIN Printout\": { buy: 150, sell: 180, serviceType: \"NIN Printout\", lastUpdated: new Date().toISOString() },\n  \"NIN Validation - Normal\": {\n    buy: 250,\n    sell: 300,\n    serviceType: \"NIN Validation - Normal\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"NIN Validation - Photographic Error\": {\n    buy: 400,\n    sell: 500,\n    serviceType: \"NIN Validation - Photographic Error\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"NIN Validation - SIM Registration\": {\n    buy: 200,\n    sell: 250,\n    serviceType: \"NIN Validation - SIM Registration\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"NIN Validation - Bank Validation\": {\n    buy: 300,\n    sell: 350,\n    serviceType: \"NIN Validation - Bank Validation\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"IPE Clearance - Normal\": {\n    buy: 800,\n    sell: 1000,\n    serviceType: \"IPE Clearance - Normal\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"IPE Clearance - Modification\": {\n    buy: 1200,\n    sell: 1500,\n    serviceType: \"IPE Clearance - Modification\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"JTB TIN - Individual\": {\n    buy: 3000,\n    sell: 3500,\n    serviceType: \"JTB TIN - Individual\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"JTB TIN - Business\": {\n    buy: 5000,\n    sell: 6000,\n    serviceType: \"JTB TIN - Business\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"ShareNSell - MTN\": { buy: 0.97, sell: 0.98, serviceType: \"ShareNSell - MTN\", lastUpdated: new Date().toISOString() },\n  \"ShareNSell - Airtel\": {\n    buy: 0.96,\n    sell: 0.97,\n    serviceType: \"ShareNSell - Airtel\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"ShareNSell - Glo\": { buy: 0.95, sell: 0.96, serviceType: \"ShareNSell - Glo\", lastUpdated: new Date().toISOString() },\n  \"ShareNSell - 9mobile\": {\n    buy: 0.94,\n    sell: 0.95,\n    serviceType: \"ShareNSell - 9mobile\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"Airtime2Cash - MTN\": {\n    buy: 0.93,\n    sell: 0.94,\n    serviceType: \"Airtime2Cash - MTN\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"Airtime2Cash - Airtel\": {\n    buy: 0.91,\n    sell: 0.92,\n    serviceType: \"Airtime2Cash - Airtel\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"Airtime2Cash - Glo\": {\n    buy: 0.89,\n    sell: 0.9,\n    serviceType: \"Airtime2Cash - Glo\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"Airtime2Cash - 9mobile\": {\n    buy: 0.87,\n    sell: 0.88,\n    serviceType: \"Airtime2Cash - 9mobile\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"VTU - MTN\": { buy: 0.98, sell: 0.99, serviceType: \"VTU - MTN\", lastUpdated: new Date().toISOString() },\n  \"VTU - Airtel\": { buy: 0.97, sell: 0.98, serviceType: \"VTU - Airtel\", lastUpdated: new Date().toISOString() },\n  \"VTU - Glo\": { buy: 0.96, sell: 0.97, serviceType: \"VTU - Glo\", lastUpdated: new Date().toISOString() },\n  \"VTU - 9mobile\": { buy: 0.95, sell: 0.96, serviceType: \"VTU - 9mobile\", lastUpdated: new Date().toISOString() },\n  \"SME Data - MTN\": { buy: 0.95, sell: 0.97, serviceType: \"SME Data - MTN\", lastUpdated: new Date().toISOString() },\n  \"SME Data - Airtel\": {\n    buy: 0.94,\n    sell: 0.96,\n    serviceType: \"SME Data - Airtel\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"SME Data - Glo\": { buy: 0.93, sell: 0.95, serviceType: \"SME Data - Glo\", lastUpdated: new Date().toISOString() },\n  \"SME Data - 9mobile\": {\n    buy: 0.92,\n    sell: 0.94,\n    serviceType: \"SME Data - 9mobile\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"Corporate Data - MTN\": {\n    buy: 0.96,\n    sell: 0.98,\n    serviceType: \"Corporate Data - MTN\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"Corporate Data - Airtel\": {\n    buy: 0.95,\n    sell: 0.97,\n    serviceType: \"Corporate Data - Airtel\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"Corporate Data - Glo\": {\n    buy: 0.94,\n    sell: 0.96,\n    serviceType: \"Corporate Data - Glo\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"Corporate Data - 9mobile\": {\n    buy: 0.93,\n    sell: 0.95,\n    serviceType: \"Corporate Data - 9mobile\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"Gift Data - MTN\": {\n    buy: 0.97,\n    sell: 0.99,\n    serviceType: \"Gift Data - MTN\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"Gift Data - Airtel\": {\n    buy: 0.96,\n    sell: 0.98,\n    serviceType: \"Gift Data - Airtel\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"Gift Data - Glo\": { buy: 0.95, sell: 0.97, serviceType: \"Gift Data - Glo\", lastUpdated: new Date().toISOString() },\n  \"Gift Data - 9mobile\": {\n    buy: 0.94,\n    sell: 0.96,\n    serviceType: \"Gift Data - 9mobile\",\n    lastUpdated: new Date().toISOString(),\n  },\n  \"Cable - DSTV\": { buy: 0, sell: 0, serviceType: \"Cable - DSTV\", lastUpdated: new Date().toISOString() },\n  \"Cable - GOTV\": { buy: 0, sell: 0, serviceType: \"Cable - GOTV\", lastUpdated: new Date().toISOString() },\n  \"Cable - Startimes\": { buy: 0, sell: 0, serviceType: \"Cable - Startimes\", lastUpdated: new Date().toISOString() },\n  \"Electricity - EKEDC\": { buy: 0, sell: 0, serviceType: \"Electricity - EKEDC\", lastUpdated: new Date().toISOString() },\n  \"Electricity - IE\": { buy: 0, sell: 0, serviceType: \"Electricity - IE\", lastUpdated: new Date().toISOString() },\n  \"Electricity - AEDC\": { buy: 0, sell: 0, serviceType: \"Electricity - AEDC\", lastUpdated: new Date().toISOString() },\n  \"Electricity - KEDCO\": { buy: 0, sell: 0, serviceType: \"Electricity - KEDCO\", lastUpdated: new Date().toISOString() },\n  \"Electricity - PHED\": { buy: 0, sell: 0, serviceType: \"Electricity - PHED\", lastUpdated: new Date().toISOString() },\n  \"Electricity - IBEDC\": { buy: 0, sell: 0, serviceType: \"Electricity - IBEDC\", lastUpdated: new Date().toISOString() },\n  \"Electricity - EEDC\": { buy: 0, sell: 0, serviceType: \"Electricity - EEDC\", lastUpdated: new Date().toISOString() },\n}\n\nexport function getServicePrices(): ServicePrices {\n  if (typeof window === \"undefined\") return defaultPrices\n\n  const stored = localStorage.getItem(STORAGE_KEY)\n  if (!stored) {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(defaultPrices))\n    return defaultPrices\n  }\n\n  return JSON.parse(stored)\n}\n\nexport function getServicePrice(serviceType: string): number {\n  const prices = getServicePrices()\n  return prices[serviceType]?.sell || 0\n}\n\nexport function updateServicePrice(serviceType: string, buy: number, sell: number): void {\n  const prices = getServicePrices()\n  prices[serviceType] = {\n    buy,\n    sell,\n    serviceType,\n    lastUpdated: new Date().toISOString(),\n  }\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(prices))\n}\n\nexport function formatPrice(price: number): string {\n  return `₦${price.toLocaleString()}`\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 586, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/ufriends%20version%201/hooks/useDynamicPricing.ts"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useMemo, useState, useCallback } from \"react\"\nimport { authFetch } from \"@/lib/client-auth\"\n\ntype Role = \"user\" | \"marketer\"\n\nexport interface DynamicPricingResult {\n  price: number | null\n  isLoading: boolean\n  error: string | null\n  reference?: string\n  submitService: (formData: Record<string, any>) => Promise<{\n    ok: boolean\n    reference?: string\n    message?: string\n    data?: any\n    error?: string\n  }>\n}\n\nfunction detectRoleFromUser(user: any): Role {\n  try {\n    const roleStr = String(user?.role || \"\").toLowerCase()\n    const roles: string[] = Array.isArray(user?.roles) ? user.roles.map((r: any) => String(r).toLowerCase()) : []\n    const isMarketer = roleStr.includes(\"marketer\") || roles.includes(\"marketer\") || user?.isMarketer === true\n    return isMarketer ? \"marketer\" : \"user\"\n  } catch {\n    return \"user\"\n  }\n}\n\nasync function detectRoleFallback(): Promise<Role> {\n  try {\n    const res = await fetch(\"/api/me\")\n    if (!res.ok) return \"user\"\n    const data = await res.json().catch(() => null)\n    return detectRoleFromUser(data?.user || data)\n  } catch {\n    return \"user\"\n  }\n}\n\nfunction mapVerificationAction(category: string, subservice: string): string | null {\n  const c = category.trim().toLowerCase()\n  const s = subservice.trim().toLowerCase()\n  if (c === \"nin\") {\n    if (s === \"slip\") return \"nin.slip\"\n    if (s === \"printout\") return \"nin.printout\"\n    if (s === \"advanced\" || s === \"verification\") return \"nin.advanced\"\n  }\n  if (c === \"bvn\") {\n    if (s === \"printout\") return \"bvn.printout\"\n    if (s === \"retrieval\" || s === \"retrieval_phone\") return \"bvn.retrieval_phone\"\n    if (s === \"advanced\" || s === \"verification\") return \"bvn.advanced\"\n  }\n  if (c === \"cac\") {\n    if (s === \"info\") return \"cac.info\"\n    if (s === \"status\") return \"cac.status\"\n  }\n  if (c === \"passport\") {\n    if (s === \"verify\" || s === \"verification\" || s === \"basic\") return \"passport.verify\"\n  }\n  if (c === \"phone\") {\n    // Use advanced route for richer details\n    if (s === \"advanced\" || s === \"verification\" || s === \"basic\") return \"phone.verify_advanced\"\n  }\n  if (c === \"driver-license\" || c === \"drivers_license\") {\n    if (s === \"basic\" || s === \"verification\") return \"drivers_license.verify\"\n  }\n  if (c === \"voters-card\" || c === \"voters\") {\n    if (s === \"basic\" || s === \"full\" || s === \"verification\") return \"voters.verify\"\n  }\n  if (c === \"plate-number\" || c === \"plate\") {\n    if (s === \"basic\" || s === \"verification\") return \"plate.verify\"\n  }\n  if (c === \"tin\") {\n    if (s === \"basic\" || s === \"certificate\" || s === \"verification\") return \"tin.verify\"\n  }\n  // Extend with other verification categories as needed\n  return null\n}\n\nexport function useDynamicPricing(\n  category: string,\n  subservice: string,\n  variant: string,\n  params?: Record<string, string | number | boolean>,\n  user?: any,\n): DynamicPricingResult {\n  const [role, setRole] = useState<Role>(() => detectRoleFromUser(user))\n  const [price, setPrice] = useState<number | null>(null)\n  const [isLoading, setIsLoading] = useState<boolean>(false)\n  const [error, setError] = useState<string | null>(null)\n  const [reference, setReference] = useState<string | undefined>(undefined)\n\n  const normalized = useMemo(() => ({\n    category: String(category || \"\").trim(),\n    subservice: String(subservice || \"\").trim(),\n    variant: String(variant || \"\").trim(),\n  }), [category, subservice, variant])\n\n  // Stable key for params to avoid effect loops caused by object identity changes\n  const paramsKey = useMemo(() => {\n    if (!params || typeof params !== \"object\") return \"\"\n    const entries = Object.entries(params).filter(([_, v]) => v !== undefined && v !== null)\n    if (!entries.length) return \"\"\n    entries.sort(([a], [b]) => a.localeCompare(b))\n    return entries.map(([k, v]) => `${k}=${String(v)}`).join(\"|\")\n  }, [params])\n\n  useEffect(() => {\n    let cancelled = false\n    const run = async () => {\n      setIsLoading(true)\n      setError(null)\n      try {\n        // Resolve role if not determinable from provided user\n        const r = user ? detectRoleFromUser(user) : await detectRoleFallback()\n        if (!cancelled) setRole(r)\n\n        // Fetch dynamic price\n        const qpEntries: Array<[string, string]> = [\n          [\"category\", normalized.category],\n          [\"subservice\", normalized.subservice],\n          [\"variant\", normalized.variant],\n          [\"role\", r],\n        ]\n        if (params && typeof params === \"object\") {\n          const dyn = Object.entries(params).filter(([_, v]) => v !== undefined && v !== null)\n          dyn.sort(([a], [b]) => a.localeCompare(b))\n          for (const [k, v] of dyn) qpEntries.push([k, String(v)])\n        }\n        const qs = new URLSearchParams(qpEntries)\n        const res = await fetch(`/api/pricing?${qs.toString()}`, { cache: \"no-store\" })\n        const data = await res.json().catch(() => null)\n        if (!res.ok) {\n          throw new Error(String(data?.error || \"Failed to load pricing\"))\n        }\n        const p = data?.price\n        setPrice(typeof p === \"number\" ? p : null)\n      } catch (err: any) {\n        setError(err?.message || \"Failed to fetch pricing\")\n        setPrice(null)\n      } finally {\n        if (!cancelled) setIsLoading(false)\n      }\n    }\n    run()\n    return () => { cancelled = true }\n  }, [normalized.category, normalized.subservice, normalized.variant, paramsKey, user])\n\n  const submitService = useCallback(async (formData: Record<string, any>) => {\n    try {\n      const body = {\n        amount: Number(formData.amount),\n        idempotencyKey: typeof formData.idempotencyKey === \"string\" ? formData.idempotencyKey : undefined,\n        params: { ...(formData || {}) },\n        subServiceId: normalized.variant || undefined,\n        action: mapVerificationAction(normalized.category, normalized.subservice) || undefined,\n        pin: formData.pin,\n      }\n      const res = await authFetch(`/api/service/${encodeURIComponent(normalized.category)}/${encodeURIComponent(normalized.subservice)}`, {\n        method: \"POST\",\n        headers: { \"content-type\": \"application/json\" },\n        body: JSON.stringify(body),\n      })\n      const data = await res.json().catch(() => null)\n      if (!res.ok) {\n        return { ok: false, error: String(data?.error || `Service failed (${res.status})`), message: String(data?.message || \"Failed\"), data }\n      }\n      setReference(String(data?.reference || \"\"))\n      return { ok: true, reference: String(data?.reference || \"\"), message: String(data?.message || \"\"), data }\n    } catch (err: any) {\n      return { ok: false, error: String(err?.message || err) }\n    }\n  }, [normalized.category, normalized.subservice, normalized.variant])\n\n  return { price, isLoading, error, reference, submitService }\n}\n\nexport default useDynamicPricing"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 804, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/DELL/Downloads/ufriends%20version%201/app/services/nin/validation/page.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport type React from \"react\"\r\n\r\nimport { useState, useEffect, useMemo } from \"react\"\r\nimport { motion } from \"framer-motion\"\r\nimport { Button } from \"@/components/ui/button\"\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\r\nimport { Input } from \"@/components/ui/input\"\r\nimport { Label } from \"@/components/ui/label\"\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\"\r\nimport { Checkbox } from \"@/components/ui/checkbox\"\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription } from \"@/components/ui/dialog\"\r\nimport { ShieldCheck, AlertTriangle, CheckCircle2, Copy } from \"lucide-react\"\r\nimport Link from \"next/link\"\r\nimport { PinPrompt } from \"@/components/PinPrompt\"\r\nimport { handleServiceError } from \"@/lib/service-utils\"\r\nimport { useToast } from \"@/hooks/use-toast\"\r\nimport { Toaster } from \"@/components/ui/toaster\"\r\nimport { getServicePrices } from \"@/lib/service-pricing\"\r\nimport useDynamicPricing from \"@/hooks/useDynamicPricing\"\r\n\r\nconst VALIDATION_TYPES = [\r\n  { value: \"Normal\", label: \"Normal Validation (No Record)\", key: \"NIN Validation - Normal\" },\r\n  { value: \"Photographic Error\", label: \"Photographic Error\", key: \"NIN Validation - Photographic Error\" },\r\n  { value: \"SIM Registration\", label: \"SIM Registration\", key: \"NIN Validation - SIM Registration\" },\r\n  { value: \"Bank Validation\", label: \"Bank Validation\", key: \"NIN Validation - Bank Validation\" },\r\n]\r\n\r\nconst MOCK_USER_ID = \"u_001\"\r\n\r\nexport default function NINValidationPage() {\r\n  const [showWarning, setShowWarning] = useState(true)\r\n  const [validationType, setValidationType] = useState(\"\")\r\n  const [ninNumber, setNinNumber] = useState(\"\")\r\n  const [servicePrice, setServicePrice] = useState(0)\r\n  const [isMarketer, setIsMarketer] = useState(false)\r\n  const [agreeTerms, setAgreeTerms] = useState(false)\r\n  const [agreePrivacy, setAgreePrivacy] = useState(false)\r\n  const [showConfirmation, setShowConfirmation] = useState(false)\r\n  const [trackingId, setTrackingId] = useState(\"\")\r\n  const [isSubmitting, setIsSubmitting] = useState(false)\r\n  const [isPinPromptOpen, setIsPinPromptOpen] = useState(false)\r\n  const [pendingPayload, setPendingPayload] = useState<any>(null)\r\n  const { toast } = useToast()\r\n\r\n  // Detect current user role to decide pricing tier\r\n  useEffect(() => {\r\n    ; (async () => {\r\n      try {\r\n        const res = await fetch(\"/api/me\")\r\n        const data = res.ok ? await res.json() : null\r\n        const role = data?.user?.role || data?.role || \"\"\r\n        const roles: string[] = data?.user?.roles || []\r\n        const marketer = /MARKETER/i.test(role) || roles.includes(\"MARKETER\")\r\n        setIsMarketer(Boolean(marketer))\r\n      } catch {\r\n        setIsMarketer(false)\r\n      }\r\n    })()\r\n  }, [])\r\n\r\n  // Dynamic pricing via hook: category=nin, subservice=validation, variant=basic, params.validationType\r\n  const normalizedValidationType = useMemo(() => {\r\n    const map: Record<string, string> = {\r\n      Normal: \"normal\",\r\n      \"Photographic Error\": \"photographic_error\",\r\n      \"SIM Registration\": \"sim_registration\",\r\n      \"Bank Validation\": \"bank_validation\",\r\n    }\r\n    const v = map[validationType] || String(validationType || \"\").toLowerCase().replace(/[^a-z0-9]+/g, \"_\")\r\n    return v || \"unknown\"\r\n  }, [validationType])\r\n\r\n  const { price: dynPrice, isLoading: priceLoading, error: priceError, submitService } = useDynamicPricing(\r\n    \"nin\",\r\n    \"validation\",\r\n    \"basic\",\r\n    { validationType: normalizedValidationType },\r\n  )\r\n\r\n  // Reflect hook price into local UI state\r\n  useEffect(() => {\r\n    if (typeof dynPrice === \"number\") setServicePrice(Number(dynPrice))\r\n    else if (!priceLoading && dynPrice == null) setServicePrice(0)\r\n  }, [dynPrice, priceLoading])\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault()\r\n\r\n    if (!validationType || !ninNumber || !agreeTerms || !agreePrivacy) {\r\n      toast({\r\n        title: \"Validation Error\",\r\n        description: \"Please fill all required fields and agree to terms\",\r\n        variant: \"destructive\",\r\n      })\r\n      return\r\n    }\r\n\r\n    if (ninNumber.length !== 11) {\r\n      toast({\r\n        title: \"Invalid NIN\",\r\n        description: \"NIN must be exactly 11 digits\",\r\n        variant: \"destructive\",\r\n      })\r\n      return\r\n    }\r\n\r\n    setPendingPayload({\r\n      amount: servicePrice,\r\n      idempotencyKey: crypto.randomUUID(),\r\n      params: {\r\n        nin: ninNumber,\r\n        validationType: normalizedValidationType,\r\n      },\r\n      category: \"nin\",\r\n      action: \"validation\"\r\n    })\r\n    setIsPinPromptOpen(true)\r\n  }\r\n\r\n  const handlePinConfirm = async (pin: string) => {\r\n    setIsPinPromptOpen(false)\r\n    setIsSubmitting(true)\r\n\r\n    try {\r\n      const resp = await submitService({ ...pendingPayload, pin })\r\n\r\n      if (!resp.ok) {\r\n        handleServiceError(resp, toast, \"Validation Failed\")\r\n        return\r\n      }\r\n\r\n      setTrackingId(String(resp.reference || \"\"))\r\n      toast({ title: \"Success!\", description: \"NIN verification request submitted successfully.\" })\r\n      setShowConfirmation(true)\r\n    } catch (err: any) {\r\n      toast({\r\n        title: \"Request Failed\",\r\n        description: String(err?.message || err || \"Unknown error\"),\r\n        variant: \"destructive\",\r\n      })\r\n    } finally {\r\n      setIsSubmitting(false)\r\n    }\r\n  }\r\n\r\n  const copyTrackingId = () => {\r\n    navigator.clipboard.writeText(trackingId)\r\n    toast({\r\n      title: \"Copied!\",\r\n      description: \"Tracking ID copied to clipboard\",\r\n    })\r\n  }\r\n\r\n  const resetForm = () => {\r\n    setValidationType(\"\")\r\n    setNinNumber(\"\")\r\n    setAgreeTerms(false)\r\n    setAgreePrivacy(false)\r\n    setShowConfirmation(false)\r\n    setTrackingId(\"\")\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#F9F7F3] p-4 md:p-8\">\r\n      <Toaster />\r\n\r\n      {/* Warning Dialog */}\r\n      <Dialog open={showWarning} onOpenChange={setShowWarning}>\r\n        <DialogContent className=\"sm:max-w-lg\">\r\n          <DialogHeader>\r\n            <div className=\"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full border-2 border-[#3457D5] bg-[#CCCCFF]/20\">\r\n              <AlertTriangle className=\"h-8 w-8 text-[#3457D5]\" />\r\n            </div>\r\n            <DialogTitle className=\"text-center text-2xl font-bold text-gray-900\">\r\n              Privacy & Data Protection Warning\r\n            </DialogTitle>\r\n            <DialogDescription className=\"text-center text-sm leading-relaxed text-gray-600\">\r\n              By using this service, you confirm that you have obtained the necessary legal authority to process this\r\n              personal data, and you assume full liability for unlawful access. The Company and its Data Protection\r\n              Compliance Organization (DPCO) will cooperate fully with regulators in cases of misuse.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n          <div className=\"flex justify-center\">\r\n            <Button\r\n              onClick={() => setShowWarning(false)}\r\n              className=\"bg-[#3457D5] px-8 text-white hover:bg-[#3457D5]/90\"\r\n            >\r\n              I Understand & Accept\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Confirmation Dialog */}\r\n      <Dialog open={showConfirmation} onOpenChange={setShowConfirmation}>\r\n        <DialogContent className=\"sm:max-w-md\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"sr-only\">NIN Validation Confirmation</DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"flex flex-col items-center space-y-4 p-6 text-center\">\r\n            <div className=\"flex h-16 w-16 items-center justify-center rounded-full bg-green-100\">\r\n              <CheckCircle2 className=\"h-8 w-8 text-green-600\" />\r\n            </div>\r\n            <h2 className=\"text-2xl font-bold text-gray-900\">Request Submitted!</h2>\r\n            <p className=\"text-sm text-gray-600\">Your NIN validation request has been submitted successfully.</p>\r\n\r\n            <div className=\"w-full space-y-3 rounded-lg border border-[#CCCCFF] bg-[#CCCCFF]/10 p-4\">\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-gray-600\">Service:</span>\r\n                <span className=\"font-semibold text-gray-900\">NIN Validation</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-gray-600\">Type:</span>\r\n                <span className=\"font-semibold text-gray-900\">{validationType}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-gray-600\">Price:</span>\r\n                <span className=\"font-semibold text-[#3457D5]\">{priceLoading ? \"Fetching price...\" : `₦${servicePrice.toFixed(2)}`}</span>\r\n              </div>\r\n              <div className=\"flex justify-between text-sm\">\r\n                <span className=\"text-gray-600\">Status:</span>\r\n                <span className=\"rounded-full bg-yellow-100 px-2 py-1 text-xs font-medium text-yellow-800\">\r\n                  Pending\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"w-full space-y-2\">\r\n              <Label className=\"text-sm font-medium text-gray-700\">Tracking ID</Label>\r\n              <div className=\"flex items-center space-x-2\">\r\n                <Input value={trackingId} readOnly className=\"border-[#CCCCFF] bg:white font-mono text-sm\" />\r\n                <Button\r\n                  size=\"icon\"\r\n                  variant=\"outline\"\r\n                  onClick={copyTrackingId}\r\n                  className=\"border-[#3457D5] text-[#3457D5] hover:bg-[#3457D5] hover:text-white bg-transparent\"\r\n                >\r\n                  <Copy className=\"h-4 w-4\" />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"flex w-full gap-2\">\r\n              <Button onClick={resetForm} className=\"flex-1 bg-[#3457D5] text-white hover:bg-[#3457D5]/90\">\r\n                New Request\r\n              </Button>\r\n              <Button variant=\"outline\" className=\"flex-1\" onClick={() => setShowConfirmation(false)}>\r\n                Close\r\n              </Button>\r\n            </div>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      <div className=\"mx-auto max-w-6xl\">\r\n        <motion.div\r\n          initial={{ opacity: 0, y: 20 }}\r\n          animate={{ opacity: 1, y: 0 }}\r\n          transition={{ duration: 0.5 }}\r\n          className=\"mb-8 text-center\"\r\n        >\r\n          <div className=\"mb-4 flex items-center justify-center\">\r\n            <div className=\"mr-3 flex h-16 w-16 items-center justify-center rounded-full bg-[#3457D5]\">\r\n              <ShieldCheck className=\"h-8 w-8 text-white\" />\r\n            </div>\r\n            <h1 className=\"text-4xl font-bold text-gray-900\">NIN Validation</h1>\r\n          </div>\r\n          <p className=\"mx-auto max-w-2xl text-lg text-gray-600\">\r\n            Verify and validate National Identification Numbers for various purposes\r\n          </p>\r\n        </motion.div>\r\n\r\n        <div className=\"grid gap-8 lg:grid-cols-2\">\r\n          {/* Form Section */}\r\n          <motion.div\r\n            initial={{ opacity: 0, x: -20 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ delay: 0.1, duration: 0.5 }}\r\n          >\r\n            <Card className=\"border-[#CCCCFF]/30 shadow-lg\">\r\n              <CardHeader className=\"bg-gradient-to-r from-[#3457D5]/5 to-[#CCCCFF]/10\">\r\n                <CardTitle className=\"flex items-center text-[#3457D5]\">\r\n                  <ShieldCheck className=\"mr-2 h-5 w-5\" />\r\n                  Validation Request\r\n                </CardTitle>\r\n                <CardDescription>Select validation type and enter NIN number</CardDescription>\r\n              </CardHeader>\r\n              <CardContent className=\"space-y-6 pt-6\">\r\n                <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n                  <div>\r\n                    <Label htmlFor=\"validation-type\" className=\"text-sm font-medium\">\r\n                      Validation Type\r\n                    </Label>\r\n                    <Select value={validationType} onValueChange={setValidationType}>\r\n                      <SelectTrigger className=\"mt-2 border-[#CCCCFF] focus:border-[#3457D5]\">\r\n                        <SelectValue placeholder=\"Select validation type\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        {VALIDATION_TYPES.map((type) => (\r\n                          <SelectItem key={type.value} value={type.value}>\r\n                            {type.label}\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n\r\n                  <div>\r\n                    <Label htmlFor=\"nin\" className=\"text-sm font-medium\">\r\n                      NIN Number\r\n                    </Label>\r\n                    <Input\r\n                      id=\"nin\"\r\n                      placeholder=\"Enter 11-digit NIN\"\r\n                      maxLength={11}\r\n                      value={ninNumber}\r\n                      onChange={(e) => setNinNumber(e.target.value.replace(/\\D/g, \"\"))}\r\n                      className=\"mt-2 border-[#CCCCFF] focus:border-[#3457D5]\"\r\n                      required\r\n                    />\r\n                    <p className=\"mt-1 text-xs text-gray-500\">Must be exactly 11 digits</p>\r\n                  </div>\r\n\r\n                  {validationType && (\r\n                    <>\r\n                      <motion.div\r\n                        initial={{ opacity: 0, y: -10 }}\r\n                        animate={{ opacity: 1, y: 0 }}\r\n                        className=\"rounded-lg border-2 border-[#3457D5]/30 bg-[#CCCCFF]/20 p-4\"\r\n                      >\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <span className=\"text-sm font-medium text-gray-700\">Service Price:</span>\r\n                          <span className=\"text-2xl font-bold text-[#3457D5]\">₦{servicePrice.toFixed(2)}</span>\r\n                        </div>\r\n                      </motion.div>\r\n                      {priceError && (\r\n                        <p className=\"mt-1 text-xs text-red-600\">{String(priceError)}</p>\r\n                      )}\r\n                    </>\r\n                  )}\r\n\r\n                  <div className=\"space-y-4 border-t border-[#CCCCFF]/50 pt-4\">\r\n                    <div className=\"flex items-start space-x-3\">\r\n                      <Checkbox\r\n                        id=\"privacy\"\r\n                        checked={agreePrivacy}\r\n                        onCheckedChange={(checked) => setAgreePrivacy(checked === true)}\r\n                        className=\"mt-1 border-[#3457D5] data-[state=checked]:bg-[#3457D5]\"\r\n                      />\r\n                      <Label htmlFor=\"privacy\" className=\"cursor-pointer text-sm leading-relaxed text-gray-700\">\r\n                        I confirm that I have the legal authority to access this data and agree to the{\" \"}\r\n                        <Link href=\"/privacy\" className=\"text-[#3457D5] hover:underline\">\r\n                          Privacy Policy\r\n                        </Link>\r\n                      </Label>\r\n                    </div>\r\n\r\n                    <div className=\"flex items-start space-x-3\">\r\n                      <Checkbox\r\n                        id=\"terms\"\r\n                        checked={agreeTerms}\r\n                        onCheckedChange={(checked) => setAgreeTerms(checked === true)}\r\n                        className=\"mt-1 border-[#3457D5] data-[state=checked]:bg-[#3457D5]\"\r\n                      />\r\n                      <Label htmlFor=\"terms\" className=\"cursor-pointer text-sm leading-relaxed text-gray-700\">\r\n                        I agree to the{\" \"}\r\n                        <Link href=\"/terms\" className=\"text-[#3457D5] hover:underline\">\r\n                          Terms of Service\r\n                        </Link>{\" \"}\r\n                        and understand the legal implications\r\n                      </Label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <Button\r\n                    type=\"submit\"\r\n                    disabled={!validationType || !ninNumber || !agreeTerms || !agreePrivacy || isSubmitting}\r\n                    className=\"w-full bg-[#3457D5] py-6 text-base font-semibold text-white hover:bg-[#3457D5]/90 disabled:opacity-50\"\r\n                  >\r\n                    {isSubmitting ? \"Processing...\" : \"Submit Validation Request\"}\r\n                  </Button>\r\n                </form>\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n\r\n          {/* Info Section */}\r\n          <motion.div\r\n            initial={{ opacity: 0, x: 20 }}\r\n            animate={{ opacity: 1, x: 0 }}\r\n            transition={{ delay: 0.2, duration: 0.5 }}\r\n            className=\"space-y-6\"\r\n          >\r\n            <Card className=\"border-[#CCCCFF]/30\">\r\n              <CardHeader className=\"bg-gradient-to-r from-[#3457D5]/5 to-[#CCCCFF]/10\">\r\n                <CardTitle className=\"flex items-center text-[#3457D5]\">\r\n                  <ShieldCheck className=\"mr-2 h-5 w-5\" />\r\n                  Validation Types & Pricing\r\n                </CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"space-y-3\">\r\n                  {VALIDATION_TYPES.map((type) => {\r\n                    const prices = getServicePrices()\r\n                    const price = prices[type.key]?.sell || 0\r\n                    return (\r\n                      <div key={type.value} className=\"rounded-lg border border-[#3457D5]/20 bg-[#CCCCFF]/10 p-3\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                          <div className=\"font-semibold text-[#3457D5]\">{type.label}</div>\r\n                          <div className=\"text-lg font-bold text-[#3457D5]\">₦{price.toFixed(2)}</div>\r\n                        </div>\r\n                      </div>\r\n                    )\r\n                  })}\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"border-[#CCCCFF]/30\">\r\n              <CardHeader className=\"bg-gradient-to-r from-[#3457D5]/5 to-[#CCCCFF]/10\">\r\n                <CardTitle className=\"text-[#3457D5]\">What You'll Receive</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"pt-6\">\r\n                <ul className=\"space-y-2 text-sm text-gray-600\">\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"mr-2 text-[#3457D5]\">✓</span>\r\n                    <span>Instant validation results</span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"mr-2 text-[#3457D5]\">✓</span>\r\n                    <span>Unique tracking ID for your request</span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"mr-2 text-[#3457D5]\">✓</span>\r\n                    <span>Detailed verification report</span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"mr-2 text-[#3457D5]\">✓</span>\r\n                    <span>Official validation certificate</span>\r\n                  </li>\r\n                  <li className=\"flex items-start\">\r\n                    <span className=\"mr-2 text-[#3457D5]\">✓</span>\r\n                    <span>Downloadable PDF receipt</span>\r\n                  </li>\r\n                </ul>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            <Card className=\"border-[#CCCCFF]/30\">\r\n              <CardHeader className=\"bg-gradient-to-r from-[#3457D5]/5 to-[#CCCCFF]/10\">\r\n                <CardTitle className=\"text-[#3457D5]\">Important Information</CardTitle>\r\n              </CardHeader>\r\n              <CardContent className=\"pt-6\">\r\n                <div className=\"space-y-2 text-sm text-gray-600\">\r\n                  <p className=\"flex items-start\">\r\n                    <span className=\"mr-2 text-[#3457D5]\">•</span>\r\n                    <span>All validations are processed in real-time</span>\r\n                  </p>\r\n                  <p className=\"flex items-start\">\r\n                    <span className=\"mr-2 text-[#3457D5]\">•</span>\r\n                    <span>Results are available within minutes</span>\r\n                  </p>\r\n                  <p className=\"flex items-start\">\r\n                    <span className=\"mr-2 text-[#3457D5]\">•</span>\r\n                    <span>Keep your tracking ID for future reference</span>\r\n                  </p>\r\n                  <p className=\"flex items-start\">\r\n                    <span className=\"mr-2 text-[#3457D5]\">•</span>\r\n                    <span>24/7 validation service availability</span>\r\n                  </p>\r\n                </div>\r\n              </CardContent>\r\n            </Card>\r\n          </motion.div>\r\n        </div>\r\n      </div>\r\n      <PinPrompt\r\n        isOpen={isPinPromptOpen}\r\n        onClose={() => setIsPinPromptOpen(false)}\r\n        onConfirm={handlePinConfirm}\r\n        isLoading={isSubmitting}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}